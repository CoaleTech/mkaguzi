{"version":3,"file":"RiskAssessments-ihfrTXjy.js","sources":["../../../../frontend/src/components/risk/RiskAssessmentFilters.vue","../../../../frontend/src/components/risk/RiskHeatMap.vue","../../../../frontend/src/composables/useMultiSectionForm.js","../../../../frontend/src/components/risk/RiskAssessmentForm.vue","../../../../frontend/src/components/risk/RiskAssessmentStats.vue","../../../../frontend/src/pages/RiskAssessments.vue"],"sourcesContent":["<template>\n  <div class=\"bg-white rounded-xl border border-gray-200 p-4 shadow-sm\">\n    <div class=\"flex flex-wrap items-center justify-between gap-4\">\n      <!-- Left Section: Title and Search/Filters -->\n      <div class=\"flex flex-wrap items-center gap-4\">\n        <h3 class=\"text-sm font-semibold text-gray-900\">Quick Actions</h3>\n\n        <!-- Search and Filter Controls -->\n        <div class=\"flex items-center space-x-2\">\n          <div class=\"relative\">\n            <SearchIcon class=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n            <input\n              :value=\"searchQuery\"\n              @input=\"$emit('update:searchQuery', $event.target.value)\"\n              type=\"text\"\n              placeholder=\"Search assessments...\"\n              class=\"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm w-48\"\n            />\n          </div>\n\n          <Select\n            :modelValue=\"filterStatus\"\n            @update:modelValue=\"$emit('update:filterStatus', $event)\"\n            :options=\"statusOptionsWithAll\"\n            class=\"min-w-36\"\n          />\n\n          <Select\n            :modelValue=\"filterPeriod\"\n            @update:modelValue=\"$emit('update:filterPeriod', $event)\"\n            :options=\"periodOptionsWithAll\"\n            class=\"min-w-36\"\n          />\n\n          <Select\n            :modelValue=\"filterYear\"\n            @update:modelValue=\"$emit('update:filterYear', $event)\"\n            :options=\"yearOptionsWithAll\"\n            class=\"min-w-28\"\n          />\n        </div>\n      </div>\n\n      <!-- Center Section: Action Buttons -->\n      <div class=\"flex items-center space-x-2\">\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n            @click=\"$emit('bulk-action')\"\n            :disabled=\"selectedCount === 0\"\n          >\n            <template #prefix>\n              <LayersIcon class=\"h-3.5 w-3.5\" />\n            </template>\n            Bulk Actions ({{ selectedCount }})\n          </Button>\n        </div>\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n            @click=\"$emit('show-analytics')\"\n          >\n            <template #prefix>\n              <BarChart3Icon class=\"h-3.5 w-3.5\" />\n            </template>\n            Risk Analytics\n          </Button>\n        </div>\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n            @click=\"$emit('toggle-view')\"\n          >\n            <template #prefix>\n              <component :is=\"viewMode === 'table' ? LayoutGridIcon : TableIcon\" class=\"h-3.5 w-3.5\" />\n            </template>\n            {{ viewMode === 'table' ? 'Card View' : 'Table View' }}\n          </Button>\n        </div>\n      </div>\n\n      <!-- Right Section: Results Count -->\n      <div class=\"flex items-center space-x-2 text-sm text-gray-600\">\n        <span>Showing {{ filteredCount }} of {{ totalCount }} assessments</span>\n        <Button\n          v-if=\"hasActiveFilters\"\n          variant=\"ghost\"\n          size=\"sm\"\n          @click=\"$emit('clear-filters')\"\n        >\n          <XIcon class=\"h-3.5 w-3.5 mr-1\" />\n          Clear\n        </Button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { Button, Select } from \"frappe-ui\"\nimport {\n\tBarChart3Icon,\n\tLayersIcon,\n\tLayoutGridIcon,\n\tSearchIcon,\n\tTableIcon,\n\tXIcon,\n} from \"lucide-vue-next\"\nimport { computed } from \"vue\"\n\nconst props = defineProps({\n\tsearchQuery: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tfilterStatus: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tfilterPeriod: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tfilterYear: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tviewMode: {\n\t\ttype: String,\n\t\tdefault: \"table\",\n\t},\n\tselectedCount: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t},\n\tfilteredCount: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t},\n\ttotalCount: {\n\t\ttype: Number,\n\t\tdefault: 0,\n\t},\n})\n\ndefineEmits([\n\t\"update:searchQuery\",\n\t\"update:filterStatus\",\n\t\"update:filterPeriod\",\n\t\"update:filterYear\",\n\t\"bulk-action\",\n\t\"show-analytics\",\n\t\"toggle-view\",\n\t\"clear-filters\",\n])\n\n// Options\nconst periodOptions = [\n\t{ label: \"Annual\", value: \"Annual\" },\n\t{ label: \"Mid-Year\", value: \"Mid-Year\" },\n\t{ label: \"Quarterly\", value: \"Quarterly\" },\n\t{ label: \"Ad-hoc\", value: \"Ad-hoc\" },\n]\n\nconst statusOptions = [\n\t{ label: \"Planning\", value: \"Planning\" },\n\t{ label: \"In Progress\", value: \"In Progress\" },\n\t{ label: \"Review\", value: \"Review\" },\n\t{ label: \"Finalized\", value: \"Finalized\" },\n\t{ label: \"Approved\", value: \"Approved\" },\n]\n\n// Generate year options\nconst currentYear = new Date().getFullYear()\nconst yearOptions = []\nfor (let i = currentYear - 2; i <= currentYear + 2; i++) {\n\tyearOptions.push({ label: i.toString(), value: i.toString() })\n}\n\n// Options with \"All\" as first item\nconst statusOptionsWithAll = computed(() => [\n\t{ label: \"All Statuses\", value: \"\" },\n\t...statusOptions,\n])\n\nconst periodOptionsWithAll = computed(() => [\n\t{ label: \"All Periods\", value: \"\" },\n\t...periodOptions,\n])\n\nconst yearOptionsWithAll = computed(() => [\n\t{ label: \"All Years\", value: \"\" },\n\t...yearOptions,\n])\n\n// Check if any filters are active\nconst hasActiveFilters = computed(() => {\n\treturn (\n\t\tprops.searchQuery ||\n\t\tprops.filterStatus ||\n\t\tprops.filterPeriod ||\n\t\tprops.filterYear\n\t)\n})\n</script>\n","<template>\n  <div class=\"risk-heatmap\">\n    <!-- Legend -->\n    <div class=\"heatmap-legend\">\n      <h4>Risk Level Legend</h4>\n      <div class=\"legend-items\">\n        <div class=\"legend-item critical\">\n          <div class=\"legend-color\"></div>\n          <span>Critical (16-25)</span>\n        </div>\n        <div class=\"legend-item high\">\n          <div class=\"legend-color\"></div>\n          <span>High (13-20)</span>\n        </div>\n        <div class=\"legend-item medium\">\n          <div class=\"legend-color\"></div>\n          <span>Medium (6-12)</span>\n        </div>\n        <div class=\"legend-item low\">\n          <div class=\"legend-color\"></div>\n          <span>Low (1-5)</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Heat Map Grid -->\n    <div class=\"heatmap-container\">\n      <!-- Y-Axis Label (Impact) -->\n      <div class=\"y-axis-label\">\n        <span>Impact</span>\n      </div>\n\n      <!-- Impact Labels -->\n      <div class=\"impact-labels\">\n        <div \n          v-for=\"impact in impactLevelsReversed\" \n          :key=\"impact.id\"\n          class=\"impact-label\"\n          :title=\"impact.description\"\n        >\n          <span class=\"label-text\">{{ impact.label }}</span>\n          <span class=\"label-number\">{{ impact.id }}</span>\n        </div>\n      </div>\n\n      <!-- Matrix Grid -->\n      <div class=\"matrix-grid\">\n        <div \n          v-for=\"(row, rowIndex) in matrixData\" \n          :key=\"rowIndex\"\n          class=\"matrix-row\"\n        >\n          <div\n            v-for=\"(cell, colIndex) in row\"\n            :key=\"`${rowIndex}-${colIndex}`\"\n            class=\"matrix-cell\"\n            :class=\"[\n              `risk-${cell.level.toLowerCase()}`,\n              { 'has-risks': cell.count > 0, 'selected': hasSelectedRisks(cell.risks) }\n            ]\"\n            :style=\"{ backgroundColor: cell.color + '20', borderColor: cell.color }\"\n            @click=\"onCellClick(cell)\"\n          >\n            <div class=\"cell-content\">\n              <div class=\"risk-count\">{{ cell.count }}</div>\n              <div v-if=\"cell.count > 0\" class=\"risk-indicators\">\n                <div\n                  v-for=\"risk in cell.risks.slice(0, 3)\"\n                  :key=\"risk.name\"\n                  class=\"risk-indicator\"\n                  :class=\"{ 'selected': selectedRisks.includes(risk.name) }\"\n                  :title=\"risk.title\"\n                  @click.stop=\"onRiskClick(risk)\"\n                >\n                  <component \n                    :is=\"getCategoryIcon(risk.category)\" \n                    class=\"h-3 w-3\"\n                  />\n                </div>\n                <div \n                  v-if=\"cell.count > 3\"\n                  class=\"risk-indicator more\"\n                  :title=\"`+${cell.count - 3} more risks`\"\n                >\n                  +{{ cell.count - 3 }}\n                </div>\n              </div>\n            </div>\n\n            <!-- Tooltip -->\n            <div class=\"cell-tooltip\">\n              <div class=\"tooltip-header\">\n                <strong>{{ cell.level }} Risk</strong>\n                <span>(L:{{ cell.likelihood }}, I:{{ cell.impact }})</span>\n              </div>\n              <div v-if=\"cell.count > 0\" class=\"tooltip-risks\">\n                <div class=\"tooltip-risk-count\">{{ cell.count }} risk(s)</div>\n                <ul>\n                  <li \n                    v-for=\"risk in cell.risks.slice(0, 5)\" \n                    :key=\"risk.name\"\n                  >\n                    {{ risk.title }}\n                  </li>\n                  <li v-if=\"cell.count > 5\">\n                    ...and {{ cell.count - 5 }} more\n                  </li>\n                </ul>\n              </div>\n              <div v-else class=\"no-risks\">No risks in this category</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Likelihood Labels -->\n      <div class=\"likelihood-labels\">\n        <div \n          v-for=\"likelihood in likelihoodLevels\" \n          :key=\"likelihood.id\"\n          class=\"likelihood-label\"\n          :title=\"likelihood.description\"\n        >\n          <span class=\"label-number\">{{ likelihood.id }}</span>\n          <span class=\"label-text\">{{ likelihood.label }}</span>\n        </div>\n      </div>\n\n      <!-- X-Axis Label (Likelihood) -->\n      <div class=\"x-axis-label\">\n        <span>Likelihood</span>\n      </div>\n    </div>\n\n    <!-- Risk Detail Panel -->\n    <div v-if=\"selectedCell\" class=\"risk-detail-panel\">\n      <div class=\"panel-header\">\n        <h4>{{ selectedCell.level }} Risk Cell</h4>\n        <div class=\"cell-coordinates\">\n          Likelihood: {{ selectedCell.likelihood }}, Impact: {{ selectedCell.impact }}\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          @click=\"selectedCell = null\"\n        >\n          <XIcon class=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      <div class=\"panel-content\">\n        <div v-if=\"selectedCell.count > 0\" class=\"risks-list\">\n          <div\n            v-for=\"risk in selectedCell.risks\"\n            :key=\"risk.name\"\n            class=\"risk-item\"\n            :class=\"{ 'selected': selectedRisks.includes(risk.name) }\"\n            @click=\"toggleRiskSelection(risk.name)\"\n          >\n            <div class=\"risk-info\">\n              <div class=\"risk-title\">{{ risk.title }}</div>\n              <div class=\"risk-meta\">\n                <span class=\"category\">{{ getCategoryLabel(risk.category) }}</span>\n                <span class=\"owner\">{{ risk.risk_owner }}</span>\n                <span class=\"status\">{{ risk.status }}</span>\n              </div>\n            </div>\n            <div class=\"risk-actions\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                @click.stop=\"onRiskClick(risk)\"\n              >\n                View\n              </Button>\n              <input\n                type=\"checkbox\"\n                :checked=\"selectedRisks.includes(risk.name)\"\n                @change=\"$emit('risk-select', risk.name)\"\n              />\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"no-risks-message\">\n          <AlertCircleIcon class=\"h-8 w-8 text-gray-300\" />\n          <p>No risks in this category</p>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            @click=\"createRiskInCell(selectedCell)\"\n          >\n            <PlusIcon class=\"h-4 w-4 mr-1\" />\n            Add Risk Here\n          </Button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { Button } from \"frappe-ui\"\nimport {\n\tAlertCircleIcon,\n\tAlertTriangleIcon,\n\tDollarSignIcon,\n\tMonitorIcon,\n\tPlusIcon,\n\tSettingsIcon,\n\tShieldIcon,\n\tTargetIcon,\n\tXIcon,\n} from \"lucide-vue-next\"\nimport { computed, ref } from \"vue\"\n\nconst props = defineProps({\n\tmatrixData: {\n\t\ttype: Array,\n\t\tdefault: () => [],\n\t},\n\tlikelihoodLevels: {\n\t\ttype: Array,\n\t\tdefault: () => [],\n\t},\n\timpactLevels: {\n\t\ttype: Array,\n\t\tdefault: () => [],\n\t},\n\tselectedRisks: {\n\t\ttype: Array,\n\t\tdefault: () => [],\n\t},\n})\n\nconst emit = defineEmits([\n\t\"cell-click\",\n\t\"risk-click\",\n\t\"risk-select\",\n\t\"create-risk\",\n])\n\n// Local state\nconst selectedCell = ref(null)\n\n// Computed\nconst impactLevelsReversed = computed(() => {\n\treturn [...props.impactLevels].reverse()\n})\n\n// Category icons mapping\nconst categoryIcons = {\n\toperational: SettingsIcon,\n\tfinancial: DollarSignIcon,\n\tcompliance: ShieldIcon,\n\tstrategic: TargetIcon,\n\treputational: AlertTriangleIcon,\n\ttechnology: MonitorIcon,\n}\n\n// Methods\nconst getCategoryIcon = (category) => {\n\treturn categoryIcons[category] || AlertTriangleIcon\n}\n\nconst getCategoryLabel = (category) => {\n\tconst labels = {\n\t\toperational: \"Operational\",\n\t\tfinancial: \"Financial\",\n\t\tcompliance: \"Compliance\",\n\t\tstrategic: \"Strategic\",\n\t\treputational: \"Reputational\",\n\t\ttechnology: \"Technology\",\n\t}\n\treturn labels[category] || category\n}\n\nconst hasSelectedRisks = (risks) => {\n\treturn risks.some((risk) => props.selectedRisks.includes(risk.name))\n}\n\nconst onCellClick = (cell) => {\n\tselectedCell.value = cell\n\temit(\"cell-click\", cell)\n}\n\nconst onRiskClick = (risk) => {\n\temit(\"risk-click\", risk)\n}\n\nconst toggleRiskSelection = (riskName) => {\n\temit(\"risk-select\", riskName)\n}\n\nconst createRiskInCell = (cell) => {\n\temit(\"create-risk\", {\n\t\tlikelihood: cell.likelihood,\n\t\timpact: cell.impact,\n\t})\n}\n</script>\n\n<style scoped>\n.risk-heatmap {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  padding: 1rem;\n}\n\n.heatmap-legend {\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n  padding: 1rem;\n  background: white;\n  border: 1px solid var(--border-color);\n  border-radius: 0.5rem;\n}\n\n.heatmap-legend h4 {\n  font-weight: 600;\n  color: var(--text-color);\n  margin: 0;\n}\n\n.legend-items {\n  display: flex;\n  gap: 1.5rem;\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.875rem;\n}\n\n.legend-color {\n  width: 1rem;\n  height: 1rem;\n  border-radius: 0.25rem;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n}\n\n.legend-item.critical .legend-color {\n  background: #ef4444;\n}\n\n.legend-item.high .legend-color {\n  background: #f97316;\n}\n\n.legend-item.medium .legend-color {\n  background: #eab308;\n}\n\n.legend-item.low .legend-color {\n  background: #22c55e;\n}\n\n.heatmap-container {\n  display: grid;\n  grid-template-columns: auto auto 1fr auto;\n  grid-template-rows: auto 1fr auto auto;\n  gap: 0.5rem;\n  background: white;\n  border: 1px solid var(--border-color);\n  border-radius: 0.5rem;\n  padding: 1rem;\n}\n\n.y-axis-label {\n  grid-column: 1;\n  grid-row: 2;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  writing-mode: vertical-lr;\n  text-orientation: mixed;\n  font-weight: 600;\n  color: var(--text-color);\n  transform: rotate(180deg);\n}\n\n.impact-labels {\n  grid-column: 2;\n  grid-row: 2;\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n}\n\n.impact-label {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 80px;\n  padding: 0.5rem;\n  font-size: 0.75rem;\n  text-align: center;\n}\n\n.label-text {\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.label-number {\n  font-weight: 700;\n  color: var(--primary-color);\n  font-size: 1rem;\n}\n\n.matrix-grid {\n  grid-column: 3;\n  grid-row: 2;\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n}\n\n.matrix-row {\n  display: flex;\n  gap: 0;\n}\n\n.matrix-cell {\n  position: relative;\n  width: 100px;\n  height: 80px;\n  border: 1px solid var(--border-color);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.matrix-cell:hover {\n  transform: scale(1.02);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n}\n\n.matrix-cell.has-risks {\n  border-width: 2px;\n}\n\n.matrix-cell.selected {\n  box-shadow: 0 0 0 2px var(--primary-color);\n  z-index: 5;\n}\n\n.cell-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.risk-count {\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: var(--text-color);\n}\n\n.risk-indicators {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 2px;\n  max-width: 100%;\n}\n\n.risk-indicator {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 16px;\n  height: 16px;\n  background: white;\n  border: 1px solid var(--border-color);\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.risk-indicator:hover {\n  transform: scale(1.2);\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\n}\n\n.risk-indicator.selected {\n  background: var(--primary-color);\n  color: white;\n  border-color: var(--primary-color);\n}\n\n.risk-indicator.more {\n  font-size: 0.625rem;\n  font-weight: 700;\n  background: var(--gray-100);\n}\n\n.cell-tooltip {\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  background: var(--gray-900);\n  color: white;\n  padding: 0.75rem;\n  border-radius: 0.375rem;\n  font-size: 0.875rem;\n  white-space: nowrap;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.2s;\n  z-index: 1000;\n  min-width: 200px;\n}\n\n.matrix-cell:hover .cell-tooltip {\n  opacity: 1;\n}\n\n.tooltip-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.tooltip-risks ul {\n  margin: 0;\n  padding-left: 1rem;\n}\n\n.tooltip-risks li {\n  margin: 0.25rem 0;\n}\n\n.likelihood-labels {\n  grid-column: 3;\n  grid-row: 3;\n  display: flex;\n  gap: 0;\n}\n\n.likelihood-label {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100px;\n  padding: 0.5rem;\n  font-size: 0.75rem;\n  text-align: center;\n}\n\n.x-axis-label {\n  grid-column: 3;\n  grid-row: 4;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  color: var(--text-color);\n  margin-top: 0.5rem;\n}\n\n.risk-detail-panel {\n  background: white;\n  border: 1px solid var(--border-color);\n  border-radius: 0.5rem;\n  overflow: hidden;\n}\n\n.panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background: var(--background-color);\n  border-bottom: 1px solid var(--border-color);\n}\n\n.panel-header h4 {\n  font-weight: 600;\n  color: var(--text-color);\n  margin: 0;\n}\n\n.cell-coordinates {\n  font-size: 0.875rem;\n  color: var(--text-muted);\n}\n\n.panel-content {\n  padding: 1rem;\n}\n\n.risks-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.risk-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.risk-item:hover {\n  border-color: var(--primary-color);\n  background: var(--primary-light);\n}\n\n.risk-item.selected {\n  background: var(--primary-light);\n  border-color: var(--primary-color);\n}\n\n.risk-info {\n  flex: 1;\n}\n\n.risk-title {\n  font-weight: 600;\n  color: var(--text-color);\n  margin-bottom: 0.25rem;\n}\n\n.risk-meta {\n  display: flex;\n  gap: 1rem;\n  font-size: 0.875rem;\n  color: var(--text-muted);\n}\n\n.risk-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.no-risks-message {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  padding: 2rem;\n  text-align: center;\n  color: var(--text-muted);\n}\n\n@media (max-width: 768px) {\n  .heatmap-legend {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 1rem;\n  }\n\n  .legend-items {\n    flex-wrap: wrap;\n  }\n\n  .matrix-cell {\n    width: 60px;\n    height: 50px;\n  }\n\n  .likelihood-label,\n  .impact-label {\n    font-size: 0.625rem;\n    padding: 0.25rem;\n  }\n\n  .likelihood-label {\n    width: 60px;\n  }\n\n  .impact-label {\n    height: 50px;\n  }\n}\n</style>","import { computed, reactive, ref, watch } from \"vue\"\n\n/**\n * Composable for managing multi-section forms with progress tracking,\n * validation, and section navigation.\n *\n * @param {Object} options - Configuration options\n * @param {Array} options.sections - Array of section definitions { id, label, description, icon, requiredFields }\n * @param {Object} options.form - Reactive form data object\n * @param {Function} options.validateSection - Function to validate a specific section\n * @param {Object} options.childTables - Map of child table field names to their doctype names\n */\nexport function useMultiSectionForm(options = {}) {\n\tconst {\n\t\tsections = [],\n\t\tform = reactive({}),\n\t\tvalidateSection = null,\n\t\tchildTables = {},\n\t} = options\n\n\t// State\n\tconst activeSection = ref(sections[0]?.id || \"\")\n\tconst errors = reactive({})\n\tconst sectionErrors = reactive({})\n\tconst isSaving = ref(false)\n\tconst isSavingDraft = ref(false)\n\tconst hasUnsavedChanges = ref(false)\n\n\t// Track form changes\n\twatch(\n\t\t() => form,\n\t\t() => {\n\t\t\thasUnsavedChanges.value = true\n\t\t},\n\t\t{ deep: true },\n\t)\n\n\t/**\n\t * Get the status of a section based on required fields completion\n\t * @param {string} sectionId - The section ID to check\n\t * @returns {'complete' | 'partial' | 'incomplete' | 'error'}\n\t */\n\tconst getSectionStatus = (sectionId) => {\n\t\t// Check for validation errors in section\n\t\tif (sectionErrors[sectionId]?.length > 0) {\n\t\t\treturn \"error\"\n\t\t}\n\n\t\tconst section = sections.find((s) => s.id === sectionId)\n\t\tif (!section?.requiredFields) return \"incomplete\"\n\n\t\tconst requiredFields = section.requiredFields\n\t\tconst filledFields = requiredFields.filter((field) => {\n\t\t\tconst value = form[field]\n\t\t\tif (Array.isArray(value)) return value.length > 0\n\t\t\tif (typeof value === \"boolean\") return true\n\t\t\treturn value !== null && value !== undefined && value !== \"\"\n\t\t})\n\n\t\tif (filledFields.length === 0) return \"incomplete\"\n\t\tif (filledFields.length === requiredFields.length) return \"complete\"\n\t\treturn \"partial\"\n\t}\n\n\t/**\n\t * Get CSS class for section status indicator\n\t */\n\tconst getSectionStatusClass = (sectionId) => {\n\t\tconst status = getSectionStatus(sectionId)\n\t\tconst classes = {\n\t\t\tcomplete: \"bg-green-500 text-white\",\n\t\t\tpartial: \"bg-yellow-400 text-white\",\n\t\t\tincomplete: \"bg-gray-200 text-gray-600\",\n\t\t\terror: \"bg-red-500 text-white\",\n\t\t}\n\t\treturn classes[status] || classes.incomplete\n\t}\n\n\t/**\n\t * Calculate completed sections count\n\t */\n\tconst completedSections = computed(() => {\n\t\treturn sections.filter((s) => getSectionStatus(s.id) === \"complete\").length\n\t})\n\n\t/**\n\t * Calculate form progress percentage\n\t */\n\tconst formProgress = computed(() => {\n\t\tif (sections.length === 0) return 0\n\t\treturn Math.round((completedSections.value / sections.length) * 100)\n\t})\n\n\t/**\n\t * Check if form is valid (all required sections complete)\n\t */\n\tconst isFormValid = computed(() => {\n\t\tconst requiredSections = sections.filter((s) => s.required !== false)\n\t\treturn requiredSections.every((s) => getSectionStatus(s.id) === \"complete\")\n\t})\n\n\t/**\n\t * Navigate to a specific section\n\t */\n\tconst navigateToSection = (sectionId) => {\n\t\tif (sections.find((s) => s.id === sectionId)) {\n\t\t\tactiveSection.value = sectionId\n\t\t}\n\t}\n\n\t/**\n\t * Navigate to next section\n\t */\n\tconst nextSection = () => {\n\t\tconst currentIndex = sections.findIndex((s) => s.id === activeSection.value)\n\t\tif (currentIndex < sections.length - 1) {\n\t\t\tactiveSection.value = sections[currentIndex + 1].id\n\t\t}\n\t}\n\n\t/**\n\t * Navigate to previous section\n\t */\n\tconst prevSection = () => {\n\t\tconst currentIndex = sections.findIndex((s) => s.id === activeSection.value)\n\t\tif (currentIndex > 0) {\n\t\t\tactiveSection.value = sections[currentIndex - 1].id\n\t\t}\n\t}\n\n\t/**\n\t * Check if current section is first\n\t */\n\tconst isFirstSection = computed(() => {\n\t\treturn sections.findIndex((s) => s.id === activeSection.value) === 0\n\t})\n\n\t/**\n\t * Check if current section is last\n\t */\n\tconst isLastSection = computed(() => {\n\t\treturn (\n\t\t\tsections.findIndex((s) => s.id === activeSection.value) ===\n\t\t\tsections.length - 1\n\t\t)\n\t})\n\n\t/**\n\t * Navigate to first section with errors or incomplete status\n\t */\n\tconst navigateToFirstError = () => {\n\t\tconst errorSection = sections.find((s) => {\n\t\t\tconst status = getSectionStatus(s.id)\n\t\t\treturn status === \"error\" || status === \"incomplete\"\n\t\t})\n\t\tif (errorSection) {\n\t\t\tactiveSection.value = errorSection.id\n\t\t}\n\t}\n\n\t/**\n\t * Validate the entire form\n\t * @returns {boolean} True if form is valid\n\t */\n\tconst validateForm = () => {\n\t\t// Clear previous errors\n\t\tObject.keys(errors).forEach((key) => delete errors[key])\n\t\tObject.keys(sectionErrors).forEach((key) => delete sectionErrors[key])\n\n\t\tlet isValid = true\n\n\t\t// Validate each section\n\t\tfor (const section of sections) {\n\t\t\tif (validateSection) {\n\t\t\t\tconst sectionResult = validateSection(section.id, form)\n\t\t\t\tif (sectionResult && Object.keys(sectionResult).length > 0) {\n\t\t\t\t\tsectionErrors[section.id] = Object.keys(sectionResult)\n\t\t\t\t\tObject.assign(errors, sectionResult)\n\t\t\t\t\tisValid = false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!isValid) {\n\t\t\tnavigateToFirstError()\n\t\t}\n\n\t\treturn isValid\n\t}\n\n\t/**\n\t * Clear a specific field error\n\t */\n\tconst clearError = (fieldName) => {\n\t\tif (errors[fieldName]) {\n\t\t\tdelete errors[fieldName]\n\t\t}\n\t}\n\n\t/**\n\t * Clear all errors\n\t */\n\tconst clearAllErrors = () => {\n\t\tObject.keys(errors).forEach((key) => delete errors[key])\n\t\tObject.keys(sectionErrors).forEach((key) => delete sectionErrors[key])\n\t}\n\n\t/**\n\t * Prepare form data for submission, adding doctype to child table rows\n\t * @returns {Object} Form data ready for API submission\n\t */\n\tconst prepareFormData = () => {\n\t\tconst data = { ...form }\n\n\t\t// Add doctype to child table rows\n\t\tfor (const [fieldName, doctype] of Object.entries(childTables)) {\n\t\t\tif (Array.isArray(data[fieldName])) {\n\t\t\t\tdata[fieldName] = data[fieldName].map((row) => ({\n\t\t\t\t\t...row,\n\t\t\t\t\tdoctype,\n\t\t\t\t}))\n\t\t\t}\n\t\t}\n\n\t\treturn data\n\t}\n\n\t/**\n\t * Reset form to initial state\n\t */\n\tconst resetForm = (initialData = {}) => {\n\t\tObject.keys(form).forEach((key) => {\n\t\t\tif (Array.isArray(form[key])) {\n\t\t\t\tform[key] = []\n\t\t\t} else if (typeof form[key] === \"object\" && form[key] !== null) {\n\t\t\t\tform[key] = {}\n\t\t\t} else {\n\t\t\t\tform[key] = \"\"\n\t\t\t}\n\t\t})\n\n\t\t// Apply initial data if provided\n\t\tObject.assign(form, initialData)\n\n\t\t// Reset state\n\t\tactiveSection.value = sections[0]?.id || \"\"\n\t\tclearAllErrors()\n\t\thasUnsavedChanges.value = false\n\t}\n\n\t/**\n\t * Load existing data into form\n\t */\n\tconst loadFormData = (data) => {\n\t\tif (!data) return\n\n\t\tObject.keys(form).forEach((key) => {\n\t\t\tif (data[key] !== undefined) {\n\t\t\t\tform[key] = data[key]\n\t\t\t}\n\t\t})\n\n\t\thasUnsavedChanges.value = false\n\t}\n\n\t/**\n\t * Get section by ID\n\t */\n\tconst getSection = (sectionId) => {\n\t\treturn sections.find((s) => s.id === sectionId)\n\t}\n\n\t/**\n\t * Get current section index (1-based)\n\t */\n\tconst currentSectionIndex = computed(() => {\n\t\treturn sections.findIndex((s) => s.id === activeSection.value) + 1\n\t})\n\n\treturn {\n\t\t// State\n\t\tactiveSection,\n\t\terrors,\n\t\tsectionErrors,\n\t\tisSaving,\n\t\tisSavingDraft,\n\t\thasUnsavedChanges,\n\n\t\t// Computed\n\t\tcompletedSections,\n\t\tformProgress,\n\t\tisFormValid,\n\t\tisFirstSection,\n\t\tisLastSection,\n\t\tcurrentSectionIndex,\n\n\t\t// Methods\n\t\tgetSectionStatus,\n\t\tgetSectionStatusClass,\n\t\tnavigateToSection,\n\t\tnextSection,\n\t\tprevSection,\n\t\tnavigateToFirstError,\n\t\tvalidateForm,\n\t\tclearError,\n\t\tclearAllErrors,\n\t\tprepareFormData,\n\t\tresetForm,\n\t\tloadFormData,\n\t\tgetSection,\n\t}\n}\n","<template>\n  <Dialog\n    v-model=\"isOpen\"\n    :options=\"{\n      title: '',\n      size: '7xl',\n    }\"\n  >\n    <template #body>\n      <div class=\"flex h-[85vh] overflow-hidden bg-gray-50 -m-4\">\n        <!-- Left Sidebar - Progress Navigation -->\n        <div class=\"w-72 bg-white border-r border-gray-200 flex flex-col\">\n          <!-- Header -->\n          <div class=\"p-6 border-b border-gray-200 bg-gradient-to-r from-red-50 to-orange-50\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"h-12 w-12 rounded-xl bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center shadow-lg\">\n                <AlertTriangleIcon class=\"h-6 w-6 text-white\" />\n              </div>\n              <div>\n                <h2 class=\"text-lg font-bold text-gray-900\">\n                  {{ isEditMode ? 'Edit Risk Assessment' : 'New Risk Assessment' }}\n                </h2>\n                <p class=\"text-sm text-gray-600\">{{ formProgress }}% Complete</p>\n              </div>\n            </div>\n            <!-- Progress Bar -->\n            <div class=\"mt-4 h-2 bg-gray-200 rounded-full overflow-hidden\">\n              <div\n                class=\"h-full bg-gradient-to-r from-red-500 to-orange-500 transition-all duration-500\"\n                :style=\"{ width: `${formProgress}%` }\"\n              />\n            </div>\n          </div>\n\n          <!-- Section Navigation -->\n          <nav class=\"flex-1 overflow-y-auto p-4\">\n            <div class=\"space-y-1\">\n              <button\n                v-for=\"(section, index) in sections\"\n                :key=\"section.id\"\n                @click=\"navigateToSection(section.id)\"\n                class=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all duration-200\"\n                :class=\"{\n                  'bg-red-50 text-red-700 border-2 border-red-200 shadow-sm': activeSection === section.id,\n                  'hover:bg-gray-50 text-gray-700': activeSection !== section.id\n                }\"\n              >\n                <!-- Section Number/Status -->\n                <div\n                  class=\"flex-shrink-0 h-8 w-8 rounded-lg flex items-center justify-center text-sm font-semibold transition-colors\"\n                  :class=\"getSectionStatusClass(section.id)\"\n                >\n                  <component\n                    v-if=\"getSectionStatus(section.id) === 'complete'\"\n                    :is=\"CheckIcon\"\n                    class=\"h-4 w-4\"\n                  />\n                  <component\n                    v-else-if=\"getSectionStatus(section.id) === 'error'\"\n                    :is=\"AlertCircleIcon\"\n                    class=\"h-4 w-4\"\n                  />\n                  <span v-else>{{ index + 1 }}</span>\n                </div>\n\n                <!-- Section Info -->\n                <div class=\"flex-1 min-w-0\">\n                  <div class=\"font-medium truncate\">{{ section.label }}</div>\n                  <div class=\"text-xs text-gray-500 truncate\">{{ section.description }}</div>\n                </div>\n\n                <!-- Status Indicator -->\n                <ChevronRightIcon\n                  v-if=\"activeSection === section.id\"\n                  class=\"h-4 w-4 text-red-500 flex-shrink-0\"\n                />\n              </button>\n            </div>\n          </nav>\n\n          <!-- Footer Actions -->\n          <div class=\"p-4 border-t border-gray-200 bg-gray-50 space-y-2\">\n            <Button\n              variant=\"outline\"\n              class=\"w-full justify-center\"\n              @click=\"saveDraft\"\n              :loading=\"isSavingDraft\"\n            >\n              <SaveIcon class=\"h-4 w-4 mr-2\" />\n              Save Draft\n            </Button>\n            <div class=\"text-xs text-center text-gray-500\">\n              Draft saved {{ lastSavedText }}\n            </div>\n          </div>\n        </div>\n\n        <!-- Main Content Area -->\n        <div class=\"flex-1 flex flex-col overflow-hidden\">\n          <!-- Top Navigation -->\n          <div class=\"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between\">\n            <div class=\"flex items-center gap-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                @click=\"prevSection\"\n                :disabled=\"isFirstSection\"\n              >\n                <ChevronLeftIcon class=\"h-4 w-4 mr-1\" />\n                Previous\n              </Button>\n              <span class=\"text-sm text-gray-600\">\n                Step {{ currentSectionIndex }} of {{ sections.length }}\n              </span>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                @click=\"nextSection\"\n                :disabled=\"isLastSection\"\n              >\n                Next\n                <ChevronRightIcon class=\"h-4 w-4 ml-1\" />\n              </Button>\n            </div>\n\n            <div class=\"flex items-center gap-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                @click=\"closeForm\"\n              >\n                <XIcon class=\"h-4 w-4 mr-1\" />\n                Cancel\n              </Button>\n              <Button\n                variant=\"solid\"\n                theme=\"red\"\n                size=\"sm\"\n                @click=\"submitForm\"\n                :loading=\"isSaving\"\n                :disabled=\"!isFormValid\"\n              >\n                <CheckCircleIcon class=\"h-4 w-4 mr-2\" />\n                {{ isEditMode ? 'Update Assessment' : 'Create Assessment' }}\n              </Button>\n            </div>\n          </div>\n\n          <!-- Section Content -->\n          <div class=\"flex-1 overflow-y-auto p-6\">\n            <!-- Section 1: Basic Information -->\n            <div v-show=\"activeSection === 'basic'\" class=\"space-y-6 max-w-4xl\">\n              <SectionHeader\n                title=\"Basic Information\"\n                description=\"Provide essential details about the risk assessment\"\n                icon=\"Info\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 p-6 space-y-6\">\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <FormControl\n                    label=\"Assessment Name\"\n                    v-model=\"form.assessment_name\"\n                    required\n                    placeholder=\"Enter assessment name\"\n                    :error=\"errors.assessment_name\"\n                    @input=\"clearError('assessment_name')\"\n                  />\n                  <FormControl\n                    label=\"Assessment Date\"\n                    type=\"date\"\n                    v-model=\"form.assessment_date\"\n                    required\n                    :error=\"errors.assessment_date\"\n                    @input=\"clearError('assessment_date')\"\n                  />\n                </div>\n\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Fiscal Year <span class=\"text-red-500\">*</span>\n                    </label>\n                    <LinkField\n                      v-model=\"form.fiscal_year\"\n                      doctype=\"Fiscal Year\"\n                      placeholder=\"Select fiscal year\"\n                      :error=\"errors.fiscal_year\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Assessment Period <span class=\"text-red-500\">*</span>\n                    </label>\n                    <Select\n                      v-model=\"form.assessment_period\"\n                      :options=\"periodOptions\"\n                      placeholder=\"Select period\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Status\n                    </label>\n                    <Select\n                      v-model=\"form.status\"\n                      :options=\"statusOptions\"\n                      placeholder=\"Select status\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section 2: Scope & Methodology -->\n            <div v-show=\"activeSection === 'scope'\" class=\"space-y-6 max-w-4xl\">\n              <SectionHeader\n                title=\"Scope & Methodology\"\n                description=\"Define the assessment scope and methodologies to be used\"\n                icon=\"Target\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 p-6 space-y-6\">\n                <FormControl\n                  label=\"Assessment Scope\"\n                  type=\"textarea\"\n                  v-model=\"form.assessment_scope\"\n                  placeholder=\"Describe the scope of this risk assessment...\"\n                  rows=\"4\"\n                  :error=\"errors.assessment_scope\"\n                  @input=\"clearError('assessment_scope')\"\n                />\n\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-3\">\n                    Assessment Methodology\n                  </label>\n                  <div class=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                    <label\n                      v-for=\"method in methodologyOptions\"\n                      :key=\"method.value\"\n                      class=\"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\"\n                      :class=\"{ 'bg-red-50 border-red-200': isMethodSelected(method.value) }\"\n                    >\n                      <input\n                        type=\"checkbox\"\n                        :value=\"method.value\"\n                        v-model=\"selectedMethodologies\"\n                        class=\"rounded border-gray-300 text-red-600 focus:ring-red-500\"\n                      />\n                      <span class=\"text-sm font-medium text-gray-700\">{{ method.label }}</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section 3: Assessment Team -->\n            <div v-show=\"activeSection === 'team'\" class=\"space-y-6 max-w-4xl\">\n              <SectionHeader\n                title=\"Assessment Team\"\n                description=\"Add team members who will participate in this assessment\"\n                icon=\"Users\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 p-6\">\n                <InlineChildTable\n                  v-model=\"form.assessment_team\"\n                  title=\"Team Members\"\n                  :columns=\"teamColumns\"\n                  :defaultRow=\"defaultTeamMember\"\n                  addButtonLabel=\"Add Team Member\"\n                />\n              </div>\n            </div>\n\n            <!-- Section 4: Risk Register -->\n            <div v-show=\"activeSection === 'risks'\" class=\"space-y-6 max-w-5xl\">\n              <SectionHeader\n                title=\"Risk Register\"\n                description=\"Identify and assess risks in this assessment\"\n                icon=\"AlertTriangle\"\n              />\n\n              <!-- Risk Summary Cards -->\n              <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div class=\"bg-red-50 rounded-xl border border-red-200 p-4\">\n                  <p class=\"text-xs font-semibold text-red-700 uppercase\">Critical</p>\n                  <p class=\"text-2xl font-bold text-red-900\">{{ riskCounts.critical }}</p>\n                </div>\n                <div class=\"bg-orange-50 rounded-xl border border-orange-200 p-4\">\n                  <p class=\"text-xs font-semibold text-orange-700 uppercase\">High</p>\n                  <p class=\"text-2xl font-bold text-orange-900\">{{ riskCounts.high }}</p>\n                </div>\n                <div class=\"bg-yellow-50 rounded-xl border border-yellow-200 p-4\">\n                  <p class=\"text-xs font-semibold text-yellow-700 uppercase\">Medium</p>\n                  <p class=\"text-2xl font-bold text-yellow-900\">{{ riskCounts.medium }}</p>\n                </div>\n                <div class=\"bg-green-50 rounded-xl border border-green-200 p-4\">\n                  <p class=\"text-xs font-semibold text-green-700 uppercase\">Low</p>\n                  <p class=\"text-2xl font-bold text-green-900\">{{ riskCounts.low }}</p>\n                </div>\n              </div>\n\n              <div class=\"bg-white rounded-xl border border-gray-200 p-6\">\n                <ChildTable\n                  v-model=\"form.risk_register\"\n                  title=\"Risk Register\"\n                  :columns=\"riskRegisterColumns\"\n                  :formFields=\"riskRegisterFormFields\"\n                  :defaultRow=\"defaultRiskEntry\"\n                  addButtonLabel=\"Add Risk\"\n                  modalTitle=\"Risk Entry\"\n                  @row-click=\"onRiskRowClick\"\n                />\n              </div>\n\n              <!-- Risk Heat Map Visualization -->\n              <div v-if=\"form.risk_register.length > 0\" class=\"bg-white rounded-xl border border-gray-200 p-6\">\n                <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Risk Heat Map</h4>\n                <RiskHeatMap\n                  :matrixData=\"computedHeatMapData\"\n                  :likelihoodLevels=\"likelihoodLevels\"\n                  :impactLevels=\"impactLevels\"\n                  :selectedRisks=\"[]\"\n                  @risk-click=\"onHeatMapRiskClick\"\n                />\n              </div>\n            </div>\n\n            <!-- Section 5: Action Plan -->\n            <div v-show=\"activeSection === 'actions'\" class=\"space-y-6 max-w-5xl\">\n              <SectionHeader\n                title=\"Action Plan\"\n                description=\"Define mitigation actions for identified risks\"\n                icon=\"ListChecks\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 p-6\">\n                <ChildTable\n                  v-model=\"form.action_plan\"\n                  title=\"Mitigation Actions\"\n                  :columns=\"actionPlanColumns\"\n                  :formFields=\"actionPlanFormFields\"\n                  :defaultRow=\"defaultActionEntry\"\n                  addButtonLabel=\"Add Action\"\n                  modalTitle=\"Action Item\"\n                />\n              </div>\n\n              <!-- Action Summary -->\n              <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div class=\"bg-gray-50 rounded-xl border border-gray-200 p-4\">\n                  <p class=\"text-xs font-semibold text-gray-600 uppercase\">Total Actions</p>\n                  <p class=\"text-2xl font-bold text-gray-900\">{{ form.action_plan.length }}</p>\n                </div>\n                <div class=\"bg-blue-50 rounded-xl border border-blue-200 p-4\">\n                  <p class=\"text-xs font-semibold text-blue-700 uppercase\">Planned</p>\n                  <p class=\"text-2xl font-bold text-blue-900\">{{ actionCounts.planned }}</p>\n                </div>\n                <div class=\"bg-yellow-50 rounded-xl border border-yellow-200 p-4\">\n                  <p class=\"text-xs font-semibold text-yellow-700 uppercase\">In Progress</p>\n                  <p class=\"text-2xl font-bold text-yellow-900\">{{ actionCounts.inProgress }}</p>\n                </div>\n                <div class=\"bg-green-50 rounded-xl border border-green-200 p-4\">\n                  <p class=\"text-xs font-semibold text-green-700 uppercase\">Completed</p>\n                  <p class=\"text-2xl font-bold text-green-900\">{{ actionCounts.completed }}</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section 6: Summary & Recommendations -->\n            <div v-show=\"activeSection === 'summary'\" class=\"space-y-6 max-w-4xl\">\n              <SectionHeader\n                title=\"Summary & Recommendations\"\n                description=\"Provide overall assessment summary and key recommendations\"\n                icon=\"FileText\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 p-6 space-y-6\">\n                <!-- Overall Risk Score -->\n                <div class=\"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-6 border border-red-200\">\n                  <div class=\"flex items-center justify-between mb-4\">\n                    <div>\n                      <h4 class=\"text-lg font-semibold text-gray-900\">Overall Risk Score</h4>\n                      <p class=\"text-sm text-gray-600\">Based on identified risks</p>\n                    </div>\n                    <div class=\"text-right\">\n                      <p class=\"text-3xl font-bold\" :class=\"overallRiskColor\">\n                        {{ form.overall_risk_score || calculateOverallRiskScore() }}\n                      </p>\n                      <Badge :variant=\"overallRiskVariant\" size=\"sm\">\n                        {{ form.overall_risk_rating || calculateOverallRiskRating() }}\n                      </Badge>\n                    </div>\n                  </div>\n                  <div class=\"h-3 bg-gray-200 rounded-full overflow-hidden\">\n                    <div\n                      class=\"h-full transition-all duration-500\"\n                      :class=\"overallRiskBarColor\"\n                      :style=\"{ width: `${(form.overall_risk_score || calculateOverallRiskScore()) * 4}%` }\"\n                    />\n                  </div>\n                </div>\n\n                <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <FormControl\n                    label=\"Assessment Summary\"\n                    type=\"textarea\"\n                    v-model=\"form.assessment_summary\"\n                    placeholder=\"Summarize the key findings and conclusions...\"\n                    rows=\"6\"\n                  />\n                  <FormControl\n                    label=\"Recommendations\"\n                    type=\"textarea\"\n                    v-model=\"form.recommendations\"\n                    placeholder=\"Provide key recommendations based on the assessment...\"\n                    rows=\"6\"\n                  />\n                </div>\n              </div>\n\n              <!-- Top Risks Summary -->\n              <div v-if=\"topRisks.length > 0\" class=\"bg-white rounded-xl border border-gray-200 p-6\">\n                <h4 class=\"text-lg font-semibold text-gray-900 mb-4\">Top Risks</h4>\n                <div class=\"space-y-3\">\n                  <div\n                    v-for=\"(risk, index) in topRisks\"\n                    :key=\"risk.risk_id\"\n                    class=\"flex items-center gap-4 p-4 rounded-lg border\"\n                    :class=\"getRiskBorderClass(risk.inherent_risk_score)\"\n                  >\n                    <div\n                      class=\"h-8 w-8 rounded-lg flex items-center justify-center text-white font-bold text-sm\"\n                      :class=\"getRiskBgClass(risk.inherent_risk_score)\"\n                    >\n                      {{ index + 1 }}\n                    </div>\n                    <div class=\"flex-1\">\n                      <p class=\"font-medium text-gray-900\">{{ risk.risk_title }}</p>\n                      <p class=\"text-sm text-gray-600\">{{ risk.risk_category }}</p>\n                    </div>\n                    <Badge :variant=\"getRiskVariant(risk.inherent_risk_score)\" size=\"sm\">\n                      Score: {{ risk.inherent_risk_score }}\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section 7: Approvals -->\n            <div v-show=\"activeSection === 'approvals'\" class=\"space-y-6 max-w-4xl\">\n              <SectionHeader\n                title=\"Approvals\"\n                description=\"Track preparation, review, and approval of the assessment\"\n                icon=\"UserCheck\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 p-6 space-y-6\">\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Prepared By\n                    </label>\n                    <LinkField\n                      v-model=\"form.prepared_by\"\n                      doctype=\"User\"\n                      placeholder=\"Select preparer\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Reviewed By\n                    </label>\n                    <LinkField\n                      v-model=\"form.reviewed_by\"\n                      doctype=\"User\"\n                      placeholder=\"Select reviewer\"\n                    />\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Approved By\n                    </label>\n                    <LinkField\n                      v-model=\"form.approved_by\"\n                      doctype=\"User\"\n                      placeholder=\"Select approver\"\n                    />\n                  </div>\n                </div>\n\n                <!-- Approval Timeline -->\n                <div class=\"border-t border-gray-200 pt-6\">\n                  <h4 class=\"text-sm font-semibold text-gray-700 mb-4\">Approval Timeline</h4>\n                  <div class=\"relative\">\n                    <div class=\"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200\" />\n                    <div class=\"space-y-6\">\n                      <div class=\"relative flex items-start gap-4\">\n                        <div class=\"h-8 w-8 rounded-full bg-green-100 border-2 border-green-500 flex items-center justify-center z-10\">\n                          <CheckIcon class=\"h-4 w-4 text-green-600\" />\n                        </div>\n                        <div>\n                          <p class=\"font-medium text-gray-900\">Created</p>\n                          <p class=\"text-sm text-gray-600\">{{ formatDate(form.creation) || 'Pending' }}</p>\n                        </div>\n                      </div>\n                      <div class=\"relative flex items-start gap-4\">\n                        <div\n                          class=\"h-8 w-8 rounded-full border-2 flex items-center justify-center z-10\"\n                          :class=\"form.reviewed_by ? 'bg-green-100 border-green-500' : 'bg-gray-100 border-gray-300'\"\n                        >\n                          <component\n                            :is=\"form.reviewed_by ? CheckIcon : ClockIcon\"\n                            class=\"h-4 w-4\"\n                            :class=\"form.reviewed_by ? 'text-green-600' : 'text-gray-400'\"\n                          />\n                        </div>\n                        <div>\n                          <p class=\"font-medium text-gray-900\">Reviewed</p>\n                          <p class=\"text-sm text-gray-600\">\n                            {{ form.reviewed_by || 'Awaiting review' }}\n                          </p>\n                        </div>\n                      </div>\n                      <div class=\"relative flex items-start gap-4\">\n                        <div\n                          class=\"h-8 w-8 rounded-full border-2 flex items-center justify-center z-10\"\n                          :class=\"form.approved_by ? 'bg-green-100 border-green-500' : 'bg-gray-100 border-gray-300'\"\n                        >\n                          <component\n                            :is=\"form.approved_by ? CheckIcon : ClockIcon\"\n                            class=\"h-4 w-4\"\n                            :class=\"form.approved_by ? 'text-green-600' : 'text-gray-400'\"\n                          />\n                        </div>\n                        <div>\n                          <p class=\"font-medium text-gray-900\">Approved</p>\n                          <p class=\"text-sm text-gray-600\">\n                            {{ form.approved_by || 'Awaiting approval' }}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Bottom Navigation -->\n          <div class=\"bg-white border-t border-gray-200 px-6 py-4\">\n            <div class=\"flex items-center justify-between\">\n              <Button\n                variant=\"outline\"\n                @click=\"prevSection\"\n                :disabled=\"isFirstSection\"\n              >\n                <ChevronLeftIcon class=\"h-4 w-4 mr-2\" />\n                Previous\n              </Button>\n\n              <div class=\"flex items-center gap-2\">\n                <span class=\"text-sm text-gray-500\">\n                  {{ completedSections }} of {{ sections.length }} sections complete\n                </span>\n              </div>\n\n              <div class=\"flex items-center gap-3\">\n                <Button\n                  v-if=\"!isLastSection\"\n                  variant=\"solid\"\n                  theme=\"gray\"\n                  @click=\"nextSection\"\n                >\n                  Next Section\n                  <ChevronRightIcon class=\"h-4 w-4 ml-2\" />\n                </Button>\n                <Button\n                  v-else\n                  variant=\"solid\"\n                  theme=\"red\"\n                  @click=\"submitForm\"\n                  :loading=\"isSaving\"\n                  :disabled=\"!isFormValid\"\n                >\n                  <CheckCircleIcon class=\"h-4 w-4 mr-2\" />\n                  {{ isEditMode ? 'Update Assessment' : 'Create Assessment' }}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport ChildTable from \"@/components/Common/ChildTable.vue\"\nimport InlineChildTable from \"@/components/Common/InlineChildTable.vue\"\nimport SectionHeader from \"@/components/Common/SectionHeader.vue\"\nimport LinkField from \"@/components/Common/fields/LinkField.vue\"\nimport RiskHeatMap from \"@/components/risk/RiskHeatMap.vue\"\nimport { useMultiSectionForm } from \"@/composables/useMultiSectionForm\"\nimport { Badge, Button, Dialog, FormControl, Select } from \"frappe-ui\"\nimport {\n\tAlertCircleIcon,\n\tAlertTriangleIcon,\n\tCheckCircleIcon,\n\tCheckIcon,\n\tChevronLeftIcon,\n\tChevronRightIcon,\n\tClockIcon,\n\tSaveIcon,\n\tXIcon,\n} from \"lucide-vue-next\"\nimport { computed, reactive, ref, watch } from \"vue\"\n\n// Props\nconst props = defineProps({\n\tmodelValue: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tassessment: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n\tmode: {\n\t\ttype: String,\n\t\tdefault: \"create\", // 'create' or 'edit'\n\t},\n})\n\n// Emits\nconst emit = defineEmits([\n\t\"update:modelValue\",\n\t\"submit\",\n\t\"cancel\",\n\t\"save-draft\",\n])\n\n// Dialog state\nconst isOpen = computed({\n\tget: () => props.modelValue,\n\tset: (value) => emit(\"update:modelValue\", value),\n})\n\nconst isEditMode = computed(() => props.mode === \"edit\")\n\n// Form data\nconst form = reactive({\n\tassessment_id: \"\",\n\tassessment_name: \"\",\n\tassessment_date: new Date().toISOString().split(\"T\")[0],\n\tfiscal_year: \"\",\n\tassessment_period: \"Annual\",\n\tstatus: \"Planning\",\n\tassessment_scope: \"\",\n\tmethodology: \"\",\n\tassessment_team: [],\n\trisk_register: [],\n\taction_plan: [],\n\ttop_risks: [],\n\toverall_risk_score: 0,\n\toverall_risk_rating: \"\",\n\tassessment_summary: \"\",\n\trecommendations: \"\",\n\tprepared_by: \"\",\n\treviewed_by: \"\",\n\tapproved_by: \"\",\n})\n\n// Selected methodologies (array for checkboxes)\nconst selectedMethodologies = ref([])\n\n// Section definitions\nconst sections = [\n\t{\n\t\tid: \"basic\",\n\t\tlabel: \"Basic Information\",\n\t\tdescription: \"Assessment details\",\n\t\trequiredFields: [\n\t\t\t\"assessment_name\",\n\t\t\t\"assessment_date\",\n\t\t\t\"fiscal_year\",\n\t\t\t\"assessment_period\",\n\t\t],\n\t},\n\t{\n\t\tid: \"scope\",\n\t\tlabel: \"Scope & Methodology\",\n\t\tdescription: \"Assessment scope\",\n\t\trequiredFields: [\"assessment_scope\"],\n\t},\n\t{\n\t\tid: \"team\",\n\t\tlabel: \"Assessment Team\",\n\t\tdescription: \"Team members\",\n\t\trequiredFields: [],\n\t},\n\t{\n\t\tid: \"risks\",\n\t\tlabel: \"Risk Register\",\n\t\tdescription: \"Identified risks\",\n\t\trequiredFields: [],\n\t},\n\t{\n\t\tid: \"actions\",\n\t\tlabel: \"Action Plan\",\n\t\tdescription: \"Mitigation actions\",\n\t\trequiredFields: [],\n\t},\n\t{\n\t\tid: \"summary\",\n\t\tlabel: \"Summary\",\n\t\tdescription: \"Assessment summary\",\n\t\trequiredFields: [],\n\t},\n\t{\n\t\tid: \"approvals\",\n\t\tlabel: \"Approvals\",\n\t\tdescription: \"Review & approval\",\n\t\trequiredFields: [],\n\t},\n]\n\n// Child table configurations\nconst childTables = {\n\tassessment_team: \"Assessment Team Member\",\n\trisk_register: \"Risk Assessment Register\",\n\taction_plan: \"Risk Assessment Action\",\n}\n\n// Validation function\nconst validateSection = (sectionId, formData) => {\n\tconst errors = {}\n\tconst section = sections.find((s) => s.id === sectionId)\n\n\tif (!section) return errors\n\n\tfor (const field of section.requiredFields || []) {\n\t\tconst value = formData[field]\n\t\tif (!value || (Array.isArray(value) && value.length === 0)) {\n\t\t\terrors[field] = `${field.replace(/_/g, \" \")} is required`\n\t\t}\n\t}\n\n\treturn errors\n}\n\n// Use the multi-section form composable\nconst {\n\tactiveSection,\n\terrors,\n\tisSaving,\n\tisSavingDraft,\n\thasUnsavedChanges,\n\tcompletedSections,\n\tformProgress,\n\tisFormValid,\n\tisFirstSection,\n\tisLastSection,\n\tcurrentSectionIndex,\n\tgetSectionStatus,\n\tgetSectionStatusClass,\n\tnavigateToSection,\n\tnextSection,\n\tprevSection,\n\tclearError,\n\tclearAllErrors,\n\tprepareFormData,\n\tresetForm,\n\tloadFormData,\n} = useMultiSectionForm({\n\tsections,\n\tform,\n\tvalidateSection,\n\tchildTables,\n})\n\n// Options\nconst periodOptions = [\n\t{ label: \"Annual\", value: \"Annual\" },\n\t{ label: \"Mid-Year\", value: \"Mid-Year\" },\n\t{ label: \"Quarterly\", value: \"Quarterly\" },\n\t{ label: \"Ad-hoc\", value: \"Ad-hoc\" },\n]\n\nconst statusOptions = [\n\t{ label: \"Planning\", value: \"Planning\" },\n\t{ label: \"In Progress\", value: \"In Progress\" },\n\t{ label: \"Review\", value: \"Review\" },\n\t{ label: \"Finalized\", value: \"Finalized\" },\n\t{ label: \"Approved\", value: \"Approved\" },\n]\n\nconst methodologyOptions = [\n\t{ label: \"Interview\", value: \"Interview\" },\n\t{ label: \"Workshop\", value: \"Workshop\" },\n\t{ label: \"Survey\", value: \"Survey\" },\n\t{ label: \"Document Review\", value: \"Document Review\" },\n\t{ label: \"Data Analysis\", value: \"Data Analysis\" },\n\t{ label: \"Self-Assessment\", value: \"Self-Assessment\" },\n]\n\n// Team member columns\nconst teamColumns = [\n\t{ key: \"team_member\", label: \"Team Member\", type: \"link\", doctype: \"User\" },\n\t{\n\t\tkey: \"role\",\n\t\tlabel: \"Role\",\n\t\ttype: \"select\",\n\t\toptions: [\"Lead\", \"Member\", \"Observer\", \"SME\"],\n\t},\n]\n\nconst defaultTeamMember = {\n\tteam_member: \"\",\n\trole: \"Member\",\n}\n\n// Risk register columns (simplified for table display)\nconst riskRegisterColumns = [\n\t{ key: \"risk_id\", label: \"Risk ID\", width: \"100px\" },\n\t{ key: \"risk_title\", label: \"Risk Title\" },\n\t{ key: \"risk_category\", label: \"Category\", width: \"120px\" },\n\t{ key: \"likelihood_score\", label: \"Likelihood\", width: \"90px\" },\n\t{ key: \"impact_score\", label: \"Impact\", width: \"80px\" },\n\t{ key: \"inherent_risk_score\", label: \"Score\", width: \"80px\", computed: true },\n\t{ key: \"inherent_risk_rating\", label: \"Rating\", width: \"100px\" },\n]\n\n// Risk register form fields (for modal - 24 fields)\nconst riskRegisterFormFields = [\n\t{ key: \"risk_id\", label: \"Risk ID\", type: \"text\", required: true },\n\t{ key: \"risk_title\", label: \"Risk Title\", type: \"text\", required: true },\n\t{\n\t\tkey: \"risk_description\",\n\t\tlabel: \"Risk Description\",\n\t\ttype: \"textarea\",\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"risk_category\",\n\t\tlabel: \"Category\",\n\t\ttype: \"select\",\n\t\toptions: [\n\t\t\t\"Strategic\",\n\t\t\t\"Operational\",\n\t\t\t\"Financial\",\n\t\t\t\"Compliance\",\n\t\t\t\"Technology\",\n\t\t\t\"Reputational\",\n\t\t],\n\t\trequired: true,\n\t},\n\t{ key: \"risk_subcategory\", label: \"Subcategory\", type: \"text\" },\n\t{\n\t\tkey: \"auditable_entity\",\n\t\tlabel: \"Auditable Entity\",\n\t\ttype: \"link\",\n\t\tdoctype: \"Audit Universe Entity\",\n\t},\n\t{ key: \"threat_source\", label: \"Threat Source\", type: \"text\" },\n\t{ key: \"vulnerability\", label: \"Vulnerability\", type: \"textarea\" },\n\t{\n\t\tkey: \"likelihood_score\",\n\t\tlabel: \"Likelihood Score (1-5)\",\n\t\ttype: \"rating\",\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"likelihood_rationale\",\n\t\tlabel: \"Likelihood Rationale\",\n\t\ttype: \"textarea\",\n\t},\n\t{\n\t\tkey: \"impact_score\",\n\t\tlabel: \"Impact Score (1-5)\",\n\t\ttype: \"rating\",\n\t\trequired: true,\n\t},\n\t{ key: \"impact_rationale\", label: \"Impact Rationale\", type: \"textarea\" },\n\t{\n\t\tkey: \"control_effectiveness\",\n\t\tlabel: \"Control Effectiveness\",\n\t\ttype: \"select\",\n\t\toptions: [\"Strong\", \"Adequate\", \"Weak\", \"Non-existent\"],\n\t},\n\t{ key: \"existing_controls\", label: \"Existing Controls\", type: \"textarea\" },\n\t{\n\t\tkey: \"residual_likelihood\",\n\t\tlabel: \"Residual Likelihood (1-5)\",\n\t\ttype: \"rating\",\n\t},\n\t{ key: \"residual_impact\", label: \"Residual Impact (1-5)\", type: \"rating\" },\n\t{ key: \"risk_owner\", label: \"Risk Owner\", type: \"link\", doctype: \"User\" },\n\t{\n\t\tkey: \"risk_response\",\n\t\tlabel: \"Risk Response\",\n\t\ttype: \"select\",\n\t\toptions: [\"Accept\", \"Mitigate\", \"Transfer\", \"Avoid\"],\n\t},\n\t{ key: \"target_risk_score\", label: \"Target Risk Score\", type: \"number\" },\n\t{\n\t\tkey: \"risk_velocity\",\n\t\tlabel: \"Risk Velocity\",\n\t\ttype: \"select\",\n\t\toptions: [\"Very Slow\", \"Slow\", \"Medium\", \"Fast\", \"Very Fast\"],\n\t},\n\t{\n\t\tkey: \"risk_trend\",\n\t\tlabel: \"Risk Trend\",\n\t\ttype: \"select\",\n\t\toptions: [\"Increasing\", \"Stable\", \"Decreasing\"],\n\t},\n\t{ key: \"last_review_date\", label: \"Last Review Date\", type: \"date\" },\n\t{ key: \"next_review_date\", label: \"Next Review Date\", type: \"date\" },\n\t{ key: \"notes\", label: \"Notes\", type: \"textarea\" },\n]\n\nconst defaultRiskEntry = {\n\trisk_id: \"\",\n\trisk_title: \"\",\n\trisk_description: \"\",\n\trisk_category: \"\",\n\trisk_subcategory: \"\",\n\tauditable_entity: \"\",\n\tthreat_source: \"\",\n\tvulnerability: \"\",\n\tlikelihood_score: 3,\n\tlikelihood_rationale: \"\",\n\timpact_score: 3,\n\timpact_rationale: \"\",\n\tinherent_risk_score: 9,\n\tinherent_risk_rating: \"Medium\",\n\tcontrol_effectiveness: \"Adequate\",\n\texisting_controls: \"\",\n\tresidual_likelihood: 0,\n\tresidual_impact: 0,\n\tresidual_risk_score: 0,\n\tresidual_risk_rating: \"\",\n\trisk_owner: \"\",\n\trisk_response: \"Mitigate\",\n\ttarget_risk_score: 0,\n\trisk_velocity: \"Medium\",\n\trisk_trend: \"Stable\",\n\tlast_review_date: \"\",\n\tnext_review_date: \"\",\n\tnotes: \"\",\n}\n\n// Action plan columns\nconst actionPlanColumns = [\n\t{ key: \"action_id\", label: \"Action ID\", width: \"100px\" },\n\t{ key: \"action_description\", label: \"Description\" },\n\t{ key: \"responsible_party\", label: \"Responsible\", width: \"150px\" },\n\t{ key: \"target_completion_date\", label: \"Due Date\", width: \"120px\" },\n\t{ key: \"priority\", label: \"Priority\", width: \"100px\" },\n\t{ key: \"status\", label: \"Status\", width: \"120px\" },\n]\n\n// Action plan form fields (12 fields)\nconst actionPlanFormFields = [\n\t{ key: \"action_id\", label: \"Action ID\", type: \"text\", required: true },\n\t{\n\t\tkey: \"action_description\",\n\t\tlabel: \"Action Description\",\n\t\ttype: \"textarea\",\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"action_type\",\n\t\tlabel: \"Action Type\",\n\t\ttype: \"select\",\n\t\toptions: [\n\t\t\t\"Process Improvement\",\n\t\t\t\"Control Enhancement\",\n\t\t\t\"Training\",\n\t\t\t\"System Enhancement\",\n\t\t\t\"Policy Update\",\n\t\t],\n\t},\n\t{\n\t\tkey: \"priority\",\n\t\tlabel: \"Priority\",\n\t\ttype: \"select\",\n\t\toptions: [\"Low\", \"Medium\", \"High\", \"Critical\"],\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"responsible_party\",\n\t\tlabel: \"Responsible Party\",\n\t\ttype: \"link\",\n\t\tdoctype: \"User\",\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"target_completion_date\",\n\t\tlabel: \"Target Completion Date\",\n\t\ttype: \"date\",\n\t\trequired: true,\n\t},\n\t{ key: \"estimated_cost\", label: \"Estimated Cost\", type: \"currency\" },\n\t{ key: \"resource_required\", label: \"Resources Required\", type: \"text\" },\n\t{\n\t\tkey: \"status\",\n\t\tlabel: \"Status\",\n\t\ttype: \"select\",\n\t\toptions: [\"Planned\", \"In Progress\", \"Completed\", \"Overdue\", \"Cancelled\"],\n\t},\n\t{\n\t\tkey: \"actual_completion_date\",\n\t\tlabel: \"Actual Completion Date\",\n\t\ttype: \"date\",\n\t},\n\t{\n\t\tkey: \"effectiveness_review_date\",\n\t\tlabel: \"Effectiveness Review Date\",\n\t\ttype: \"date\",\n\t},\n\t{ key: \"review_notes\", label: \"Review Notes\", type: \"textarea\" },\n]\n\nconst defaultActionEntry = {\n\taction_id: \"\",\n\taction_description: \"\",\n\taction_type: \"\",\n\tpriority: \"Medium\",\n\tresponsible_party: \"\",\n\ttarget_completion_date: \"\",\n\testimated_cost: 0,\n\tresource_required: \"\",\n\tstatus: \"Planned\",\n\tactual_completion_date: \"\",\n\teffectiveness_review_date: \"\",\n\treview_notes: \"\",\n}\n\n// Likelihood and impact levels for heat map\nconst likelihoodLevels = [\n\t{ id: 1, label: \"Rare\", description: \"Unlikely to occur\" },\n\t{ id: 2, label: \"Unlikely\", description: \"Could occur occasionally\" },\n\t{ id: 3, label: \"Possible\", description: \"Might occur sometime\" },\n\t{ id: 4, label: \"Likely\", description: \"Will probably occur\" },\n\t{ id: 5, label: \"Almost Certain\", description: \"Expected to occur\" },\n]\n\nconst impactLevels = [\n\t{ id: 1, label: \"Negligible\", description: \"Minimal impact\" },\n\t{ id: 2, label: \"Minor\", description: \"Some minor issues\" },\n\t{ id: 3, label: \"Moderate\", description: \"Noticeable impact\" },\n\t{ id: 4, label: \"Major\", description: \"Significant impact\" },\n\t{ id: 5, label: \"Catastrophic\", description: \"Severe impact\" },\n]\n\n// Draft save state\nconst lastSaved = ref(null)\nconst lastSavedText = computed(() => {\n\tif (!lastSaved.value) return \"not yet saved\"\n\tconst diff = Date.now() - lastSaved.value\n\tif (diff < 60000) return \"just now\"\n\tif (diff < 3600000) return `${Math.floor(diff / 60000)} minutes ago`\n\treturn \"over an hour ago\"\n})\n\n// Computed properties\nconst riskCounts = computed(() => {\n\tconst counts = { critical: 0, high: 0, medium: 0, low: 0 }\n\tform.risk_register.forEach((risk) => {\n\t\tconst score =\n\t\t\trisk.inherent_risk_score || risk.likelihood_score * risk.impact_score\n\t\tif (score >= 20) counts.critical++\n\t\telse if (score >= 15) counts.high++\n\t\telse if (score >= 10) counts.medium++\n\t\telse counts.low++\n\t})\n\treturn counts\n})\n\nconst actionCounts = computed(() => {\n\tconst counts = { planned: 0, inProgress: 0, completed: 0 }\n\tform.action_plan.forEach((action) => {\n\t\tif (action.status === \"Planned\") counts.planned++\n\t\telse if (action.status === \"In Progress\") counts.inProgress++\n\t\telse if (action.status === \"Completed\") counts.completed++\n\t})\n\treturn counts\n})\n\nconst topRisks = computed(() => {\n\treturn [...form.risk_register]\n\t\t.map((risk) => ({\n\t\t\t...risk,\n\t\t\tinherent_risk_score:\n\t\t\t\trisk.inherent_risk_score || risk.likelihood_score * risk.impact_score,\n\t\t}))\n\t\t.sort((a, b) => b.inherent_risk_score - a.inherent_risk_score)\n\t\t.slice(0, 5)\n})\n\nconst computedHeatMapData = computed(() => {\n\t// Transform risk_register into heat map matrix format\n\tconst matrix = []\n\tfor (let i = 5; i >= 1; i--) {\n\t\tconst row = []\n\t\tfor (let j = 1; j <= 5; j++) {\n\t\t\tconst risksInCell = form.risk_register.filter(\n\t\t\t\t(r) => r.likelihood_score === j && r.impact_score === i,\n\t\t\t)\n\t\t\tconst score = i * j\n\t\t\tlet level = \"Low\"\n\t\t\tlet color = \"#22c55e\"\n\t\t\tif (score >= 20) {\n\t\t\t\tlevel = \"Critical\"\n\t\t\t\tcolor = \"#ef4444\"\n\t\t\t} else if (score >= 15) {\n\t\t\t\tlevel = \"High\"\n\t\t\t\tcolor = \"#f97316\"\n\t\t\t} else if (score >= 10) {\n\t\t\t\tlevel = \"Medium\"\n\t\t\t\tcolor = \"#eab308\"\n\t\t\t}\n\n\t\t\trow.push({\n\t\t\t\tlikelihood: j,\n\t\t\t\timpact: i,\n\t\t\t\tlevel,\n\t\t\t\tcolor,\n\t\t\t\tcount: risksInCell.length,\n\t\t\t\trisks: risksInCell,\n\t\t\t})\n\t\t}\n\t\tmatrix.push(row)\n\t}\n\treturn matrix\n})\n\nconst overallRiskColor = computed(() => {\n\tconst score = form.overall_risk_score || calculateOverallRiskScore()\n\tif (score >= 20) return \"text-red-600\"\n\tif (score >= 15) return \"text-orange-600\"\n\tif (score >= 10) return \"text-yellow-600\"\n\treturn \"text-green-600\"\n})\n\nconst overallRiskVariant = computed(() => {\n\tconst score = form.overall_risk_score || calculateOverallRiskScore()\n\tif (score >= 20) return \"destructive\"\n\tif (score >= 15) return \"warning\"\n\tif (score >= 10) return \"secondary\"\n\treturn \"success\"\n})\n\nconst overallRiskBarColor = computed(() => {\n\tconst score = form.overall_risk_score || calculateOverallRiskScore()\n\tif (score >= 20) return \"bg-red-500\"\n\tif (score >= 15) return \"bg-orange-500\"\n\tif (score >= 10) return \"bg-yellow-500\"\n\treturn \"bg-green-500\"\n})\n\n// Methods\nconst isMethodSelected = (method) => {\n\treturn selectedMethodologies.value.includes(method)\n}\n\nconst calculateOverallRiskScore = () => {\n\tif (form.risk_register.length === 0) return 0\n\tconst total = form.risk_register.reduce((sum, risk) => {\n\t\treturn (\n\t\t\tsum +\n\t\t\t(risk.inherent_risk_score || risk.likelihood_score * risk.impact_score)\n\t\t)\n\t}, 0)\n\treturn Math.round(total / form.risk_register.length)\n}\n\nconst calculateOverallRiskRating = () => {\n\tconst score = calculateOverallRiskScore()\n\tif (score >= 20) return \"Critical\"\n\tif (score >= 15) return \"High\"\n\tif (score >= 10) return \"Medium\"\n\treturn \"Low\"\n}\n\nconst getRiskVariant = (score) => {\n\tif (score >= 20) return \"destructive\"\n\tif (score >= 15) return \"warning\"\n\tif (score >= 10) return \"secondary\"\n\treturn \"success\"\n}\n\nconst getRiskBorderClass = (score) => {\n\tif (score >= 20) return \"border-red-200 bg-red-50\"\n\tif (score >= 15) return \"border-orange-200 bg-orange-50\"\n\tif (score >= 10) return \"border-yellow-200 bg-yellow-50\"\n\treturn \"border-green-200 bg-green-50\"\n}\n\nconst getRiskBgClass = (score) => {\n\tif (score >= 20) return \"bg-red-500\"\n\tif (score >= 15) return \"bg-orange-500\"\n\tif (score >= 10) return \"bg-yellow-500\"\n\treturn \"bg-green-500\"\n}\n\nconst formatDate = (dateString) => {\n\tif (!dateString) return null\n\treturn new Date(dateString).toLocaleDateString()\n}\n\nconst onRiskRowClick = (risk) => {\n\tconsole.log(\"Risk clicked:\", risk)\n}\n\nconst onHeatMapRiskClick = (risk) => {\n\tconsole.log(\"Heat map risk clicked:\", risk)\n}\n\nconst saveDraft = async () => {\n\tisSavingDraft.value = true\n\ttry {\n\t\t// Update methodology string from array\n\t\tform.methodology = selectedMethodologies.value.join(\", \")\n\n\t\tconst formData = prepareFormData()\n\t\temit(\"save-draft\", formData)\n\t\tlastSaved.value = Date.now()\n\t} catch (error) {\n\t\tconsole.error(\"Error saving draft:\", error)\n\t} finally {\n\t\tisSavingDraft.value = false\n\t}\n}\n\nconst submitForm = async () => {\n\tisSaving.value = true\n\ttry {\n\t\t// Update methodology string from array\n\t\tform.methodology = selectedMethodologies.value.join(\", \")\n\n\t\t// Calculate risk scores before submission\n\t\tform.risk_register.forEach((risk) => {\n\t\t\trisk.inherent_risk_score = risk.likelihood_score * risk.impact_score\n\t\t\trisk.inherent_risk_rating = getRiskRatingFromScore(\n\t\t\t\trisk.inherent_risk_score,\n\t\t\t)\n\t\t\tif (risk.residual_likelihood && risk.residual_impact) {\n\t\t\t\trisk.residual_risk_score =\n\t\t\t\t\trisk.residual_likelihood * risk.residual_impact\n\t\t\t\trisk.residual_risk_rating = getRiskRatingFromScore(\n\t\t\t\t\trisk.residual_risk_score,\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\n\t\t// Update overall scores\n\t\tform.overall_risk_score = calculateOverallRiskScore()\n\t\tform.overall_risk_rating = calculateOverallRiskRating()\n\n\t\t// Update top risks\n\t\tform.top_risks = topRisks.value.map((risk) => ({\n\t\t\trisk_description: risk.risk_title,\n\t\t\tinherent_risk_score: risk.inherent_risk_score,\n\t\t}))\n\n\t\tconst formData = prepareFormData()\n\t\temit(\"submit\", formData)\n\t\tisOpen.value = false\n\t} catch (error) {\n\t\tconsole.error(\"Error submitting form:\", error)\n\t} finally {\n\t\tisSaving.value = false\n\t}\n}\n\nconst getRiskRatingFromScore = (score) => {\n\tif (score >= 20) return \"Critical\"\n\tif (score >= 15) return \"High\"\n\tif (score >= 10) return \"Medium\"\n\treturn \"Low\"\n}\n\nconst closeForm = () => {\n\tif (hasUnsavedChanges.value) {\n\t\tif (confirm(\"You have unsaved changes. Are you sure you want to close?\")) {\n\t\t\temit(\"cancel\")\n\t\t\tisOpen.value = false\n\t\t}\n\t} else {\n\t\temit(\"cancel\")\n\t\tisOpen.value = false\n\t}\n}\n\n// Watch for assessment prop changes (edit mode)\nwatch(\n\t() => props.assessment,\n\t(newAssessment) => {\n\t\tif (newAssessment) {\n\t\t\tloadFormData(newAssessment)\n\t\t\t// Parse methodology string back to array\n\t\t\tif (newAssessment.methodology) {\n\t\t\t\tselectedMethodologies.value = newAssessment.methodology\n\t\t\t\t\t.split(\", \")\n\t\t\t\t\t.filter(Boolean)\n\t\t\t}\n\t\t}\n\t},\n\t{ immediate: true },\n)\n\n// Watch methodologies to update form\nwatch(\n\tselectedMethodologies,\n\t(newMethods) => {\n\t\tform.methodology = newMethods.join(\", \")\n\t},\n\t{ deep: true },\n)\n</script>\n\n<style scoped>\n/* Custom scrollbar for sidebar */\nnav::-webkit-scrollbar {\n  width: 4px;\n}\n\nnav::-webkit-scrollbar-track {\n  background: transparent;\n}\n\nnav::-webkit-scrollbar-thumb {\n  background: #d1d5db;\n  border-radius: 2px;\n}\n\nnav::-webkit-scrollbar-thumb:hover {\n  background: #9ca3af;\n}\n</style>\n","<template>\n  <div class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4\">\n    <!-- Total Assessments Card -->\n    <div class=\"bg-blue-50 rounded-xl border border-blue-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Total Assessments</p>\n          <p class=\"text-3xl font-bold text-blue-900 mt-1\">{{ stats.total }}</p>\n          <p class=\"text-xs text-blue-600 mt-1\">Active assessments</p>\n        </div>\n        <div class=\"p-3 bg-blue-500 rounded-xl shadow-sm\">\n          <FileTextIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Critical Risks Card -->\n    <div class=\"bg-red-50 rounded-xl border border-red-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-red-700 uppercase tracking-wide\">Critical Risks</p>\n          <p class=\"text-3xl font-bold text-red-900 mt-1\">{{ stats.criticalRisks }}</p>\n          <p class=\"text-xs text-red-600 mt-1\">High priority items</p>\n        </div>\n        <div class=\"p-3 bg-red-500 rounded-xl shadow-sm\">\n          <AlertTriangleIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- High Risks Card -->\n    <div class=\"bg-orange-50 rounded-xl border border-orange-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-orange-700 uppercase tracking-wide\">High Risks</p>\n          <p class=\"text-3xl font-bold text-orange-900 mt-1\">{{ stats.highRisks }}</p>\n          <p class=\"text-xs text-orange-600 mt-1\">Medium priority items</p>\n        </div>\n        <div class=\"p-3 bg-orange-500 rounded-xl shadow-sm\">\n          <AlertCircleIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Approved Assessments Card -->\n    <div class=\"bg-green-50 rounded-xl border border-green-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Approved</p>\n          <p class=\"text-3xl font-bold text-green-900 mt-1\">{{ stats.approved }}</p>\n          <p class=\"text-xs text-green-600 mt-1\">Completed assessments</p>\n        </div>\n        <div class=\"p-3 bg-green-500 rounded-xl shadow-sm\">\n          <CheckCircleIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Average Risk Score Card -->\n    <div class=\"bg-purple-50 rounded-xl border border-purple-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Avg Risk Score</p>\n          <p class=\"text-3xl font-bold text-purple-900 mt-1\">{{ stats.averageRiskScore }}</p>\n          <div class=\"w-full bg-purple-200 rounded-full h-2 mt-2\">\n            <div\n              class=\"bg-purple-600 h-2 rounded-full transition-all duration-300\"\n              :style=\"{ width: `${Math.min(stats.averageRiskScore, 25) * 4}%` }\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"p-3 bg-purple-500 rounded-xl shadow-sm\">\n          <BarChart3Icon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {\n\tAlertCircleIcon,\n\tAlertTriangleIcon,\n\tBarChart3Icon,\n\tCheckCircleIcon,\n\tFileTextIcon,\n} from \"lucide-vue-next\"\n\ndefineProps({\n\tstats: {\n\t\ttype: Object,\n\t\trequired: true,\n\t\tdefault: () => ({\n\t\t\ttotal: 0,\n\t\t\tcriticalRisks: 0,\n\t\t\thighRisks: 0,\n\t\t\tapproved: 0,\n\t\t\taverageRiskScore: 0,\n\t\t}),\n\t},\n})\n</script>\n","<template>\n  <div class=\"space-y-6\">\n    <!-- Page Header with Enhanced Actions -->\n    <div class=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\n      <div>\n        <div class=\"flex items-center space-x-3\">\n          <div class=\"p-2 bg-red-100 rounded-lg\">\n            <AlertTriangleIcon class=\"h-6 w-6 text-red-600\" />\n          </div>\n          <div>\n            <h1 class=\"text-2xl font-bold text-gray-900\">Risk Assessments</h1>\n            <p class=\"text-gray-600 mt-1\">\n              Conduct and manage comprehensive risk assessments with advanced analytics\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex flex-wrap items-center gap-3\">\n        <!-- Action Buttons -->\n        <div class=\"flex items-center space-x-2\">\n          <div class=\"p-1\">\n            <Button\n              variant=\"solid\"\n              theme=\"gray\"\n              size=\"sm\"\n              @click=\"exportAssessments\"\n              :loading=\"exporting\"\n            >\n              <template #prefix>\n                <DownloadIcon class=\"h-3.5 w-3.5\" />\n              </template>\n              Export\n            </Button>\n          </div>\n\n          <div class=\"p-1\">\n            <Button\n              variant=\"solid\"\n              theme=\"gray\"\n              size=\"sm\"\n              @click=\"showTemplatesModal = true\"\n            >\n              <template #prefix>\n                <FileTextIcon class=\"h-3.5 w-3.5\" />\n              </template>\n              Templates\n            </Button>\n          </div>\n\n          <div class=\"p-1\">\n            <Button\n              variant=\"solid\"\n              theme=\"gray\"\n              size=\"sm\"\n              @click=\"refreshData\"\n              :loading=\"loading\"\n            >\n              <template #prefix>\n                <RefreshCwIcon class=\"h-3.5 w-3.5\" />\n              </template>\n              Refresh\n            </Button>\n          </div>\n\n          <div class=\"p-1\">\n            <Button\n              variant=\"solid\"\n              theme=\"red\"\n              size=\"sm\"\n              @click=\"createNewAssessment\"\n            >\n              <template #prefix>\n                <PlusIcon class=\"h-3.5 w-3.5\" />\n              </template>\n              New Assessment\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Stats Dashboard Component -->\n    <RiskAssessmentStats :stats=\"statsData\" />\n\n    <!-- Filters Component -->\n    <RiskAssessmentFilters\n      v-model:searchQuery=\"searchQuery\"\n      v-model:filterStatus=\"filterStatus\"\n      v-model:filterPeriod=\"filterPeriod\"\n      v-model:filterYear=\"filterYear\"\n      :viewMode=\"viewMode\"\n      :selectedCount=\"selectedAssessments.length\"\n      :filteredCount=\"filteredAssessments.length\"\n      :totalCount=\"riskAssessments.length\"\n      @bulk-action=\"showBulkModal = true\"\n      @show-analytics=\"showAnalyticsModal = true\"\n      @toggle-view=\"viewMode = viewMode === 'table' ? 'cards' : 'table'\"\n      @clear-filters=\"clearFilters\"\n    />\n\n    <!-- Assessments Display - Table or Card View -->\n    <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm\">\n      <div class=\"px-6 py-4 border-b border-gray-200\">\n        <div class=\"flex items-center justify-between\">\n          <h3 class=\"text-lg font-semibold text-gray-900\">Risk Assessments</h3>\n          <div class=\"flex items-center space-x-2\">\n            <div class=\"p-1\" v-if=\"viewMode === 'table' && filteredAssessments.length > 0\">\n              <Button\n                variant=\"solid\"\n                theme=\"gray\"\n                size=\"sm\"\n                @click=\"selectAllAssessments\"\n              >\n                {{ selectedAssessments.length === filteredAssessments.length ? 'Deselect All' : 'Select All' }}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Table View -->\n      <div v-if=\"viewMode === 'table'\" class=\"overflow-x-auto\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-6 py-3 text-left\">\n                <input\n                  type=\"checkbox\"\n                  class=\"rounded border-gray-300 text-red-600 focus:ring-red-500\"\n                  :checked=\"selectedAssessments.length === filteredAssessments.length && filteredAssessments.length > 0\"\n                  @change=\"selectAllAssessments\"\n                />\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                  @click=\"sortBy('assessment_id')\">\n                <div class=\"flex items-center space-x-1\">\n                  <span>Assessment ID</span>\n                  <ArrowUpDownIcon class=\"h-3 w-3\" />\n                </div>\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                  @click=\"sortBy('assessment_name')\">\n                <div class=\"flex items-center space-x-1\">\n                  <span>Name</span>\n                  <ArrowUpDownIcon class=\"h-3 w-3\" />\n                </div>\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Period\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Risk Score\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Critical Risks\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            <tr\n              v-for=\"assessment in filteredAssessments\"\n              :key=\"assessment.name\"\n              class=\"hover:bg-gray-50 transition-colors\"\n              :class=\"{ 'bg-red-50': selectedAssessments.includes(assessment.name) }\"\n            >\n              <td class=\"px-6 py-4\">\n                <input\n                  type=\"checkbox\"\n                  class=\"rounded border-gray-300 text-red-600 focus:ring-red-500\"\n                  :checked=\"selectedAssessments.includes(assessment.name)\"\n                  @change=\"toggleAssessmentSelection(assessment.name)\"\n                />\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <div class=\"flex-shrink-0 h-10 w-10\">\n                    <div class=\"h-10 w-10 rounded-lg bg-red-500 flex items-center justify-center text-white font-bold text-sm\">\n                      {{ assessment.assessment_id?.charAt(0)?.toUpperCase() || 'R' }}\n                    </div>\n                  </div>\n                  <div class=\"ml-4\">\n                    <div class=\"text-sm font-semibold text-gray-900\">{{ assessment.assessment_id }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ formatDate(assessment.assessment_date) }}</div>\n                  </div>\n                </div>\n              </td>\n              <td class=\"px-6 py-4\">\n                <div class=\"text-sm font-medium text-gray-900\">{{ assessment.assessment_name }}</div>\n                <div class=\"text-sm text-gray-500\">{{ assessment.fiscal_year }}</div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"text-sm font-medium text-gray-900\">{{ assessment.assessment_period }}</div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <span class=\"text-sm font-medium text-gray-900\">{{ getAverageRiskScore(assessment) }}</span>\n                  <div class=\"ml-2 w-12 bg-gray-200 rounded-full h-1.5\">\n                    <div\n                      class=\"h-1.5 rounded-full transition-all duration-300\"\n                      :class=\"getRiskScoreColor(getAverageRiskScore(assessment))\"\n                      :style=\"{ width: `${Math.min(getAverageRiskScore(assessment), 25) * 4}%` }\"\n                    ></div>\n                  </div>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center space-x-2\">\n                  <span class=\"text-sm font-medium text-gray-900\">{{ assessment.top_risks?.length || 0 }}</span>\n                  <span class=\"text-xs text-red-600\">critical</span>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <Badge\n                  :variant=\"getStatusVariant(assessment.status)\"\n                  size=\"sm\"\n                  class=\"font-medium\"\n                >\n                  {{ assessment.status }}\n                </Badge>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                <div class=\"flex items-center space-x-1\">\n                  <Button\n                    variant=\"solid\"\n                    theme=\"gray\"\n                    size=\"sm\"\n                    @click=\"viewAssessment(assessment)\"\n                    class=\"!p-1.5\"\n                  >\n                    <EyeIcon class=\"h-3.5 w-3.5\" />\n                  </Button>\n                  <Button\n                    variant=\"solid\"\n                    theme=\"gray\"\n                    size=\"sm\"\n                    @click=\"editAssessment(assessment)\"\n                    class=\"!p-1.5\"\n                  >\n                    <EditIcon class=\"h-3.5 w-3.5\" />\n                  </Button>\n                  <Button\n                    variant=\"solid\"\n                    theme=\"gray\"\n                    size=\"sm\"\n                    @click=\"duplicateAssessment(assessment)\"\n                    class=\"!p-1.5\"\n                  >\n                    <CopyIcon class=\"h-3.5 w-3.5\" />\n                  </Button>\n                  <Button\n                    variant=\"solid\"\n                    theme=\"gray\"\n                    size=\"sm\"\n                    @click=\"showAssessmentMenu(assessment, $event)\"\n                    class=\"!p-1.5\"\n                  >\n                    <MoreHorizontalIcon class=\"h-3.5 w-3.5\" />\n                  </Button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- Card View -->\n      <div v-else class=\"p-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <div\n            v-for=\"assessment in filteredAssessments\"\n            :key=\"assessment.name\"\n            class=\"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group\"\n            :class=\"{ 'ring-2 ring-red-500 bg-red-50': selectedAssessments.includes(assessment.name) }\"\n            @click=\"toggleAssessmentSelection(assessment.name)\"\n          >\n            <div class=\"flex items-start justify-between mb-4\">\n              <div class=\"flex items-center space-x-3\">\n                <div class=\"h-12 w-12 rounded-xl bg-red-500 flex items-center justify-center text-white font-bold\">\n                  {{ assessment.assessment_id?.charAt(0)?.toUpperCase() || 'R' }}\n                </div>\n                <div>\n                  <h3 class=\"text-lg font-semibold text-gray-900 group-hover:text-red-900\">{{ assessment.assessment_name }}</h3>\n                  <p class=\"text-sm text-gray-600\">{{ assessment.assessment_period }} {{ assessment.fiscal_year }}</p>\n                </div>\n              </div>\n              <Badge\n                :variant=\"getStatusVariant(assessment.status)\"\n                size=\"sm\"\n                class=\"font-medium\"\n              >\n                {{ assessment.status }}\n              </Badge>\n            </div>\n\n            <div class=\"space-y-3\">\n              <div>\n                <div class=\"flex justify-between items-center mb-1\">\n                  <span class=\"text-sm text-gray-600\">Risk Score</span>\n                  <span class=\"text-sm font-medium\">{{ getAverageRiskScore(assessment) }}</span>\n                </div>\n                <div class=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div\n                    class=\"bg-red-500 h-2 rounded-full transition-all duration-300\"\n                    :style=\"{ width: `${Math.min(getAverageRiskScore(assessment), 25) * 4}%` }\"\n                  ></div>\n                </div>\n              </div>\n\n              <div class=\"flex justify-between items-center\">\n                <span class=\"text-sm text-gray-600\">Critical Risks</span>\n                <span class=\"text-sm font-medium\">{{ assessment.top_risks?.length || 0 }}</span>\n              </div>\n\n              <div class=\"flex justify-between items-center\">\n                <span class=\"text-sm text-gray-600\">Total Risks</span>\n                <span class=\"text-sm font-medium\">{{ assessment.risk_register?.length || 0 }}</span>\n              </div>\n            </div>\n\n            <div class=\"flex items-center justify-between mt-6 pt-4 border-t border-gray-200\">\n              <div class=\"flex items-center space-x-1\">\n                <Button\n                  variant=\"solid\"\n                  theme=\"gray\"\n                  size=\"sm\"\n                  @click.stop=\"viewAssessment(assessment)\"\n                  class=\"!p-1.5\"\n                >\n                  <EyeIcon class=\"h-3.5 w-3.5\" />\n                </Button>\n                <Button\n                  variant=\"solid\"\n                  theme=\"gray\"\n                  size=\"sm\"\n                  @click.stop=\"editAssessment(assessment)\"\n                  class=\"!p-1.5\"\n                >\n                  <EditIcon class=\"h-3.5 w-3.5\" />\n                </Button>\n                <Button\n                  variant=\"solid\"\n                  theme=\"gray\"\n                  size=\"sm\"\n                  @click.stop=\"duplicateAssessment(assessment)\"\n                  class=\"!p-1.5\"\n                >\n                  <CopyIcon class=\"h-3.5 w-3.5\" />\n                </Button>\n              </div>\n              <div class=\"text-xs text-gray-500\">\n                {{ formatDate(assessment.modified) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-if=\"filteredAssessments.length === 0 && riskAssessments.length === 0\" class=\"px-6 py-20 text-center\">\n        <div class=\"mx-auto h-20 w-20 rounded-2xl bg-red-50 border-2 border-red-100 flex items-center justify-center mb-8 shadow-sm\">\n          <AlertTriangleIcon class=\"h-10 w-10 text-red-500\" />\n        </div>\n        <div class=\"max-w-md mx-auto\">\n          <h3 class=\"text-2xl font-bold text-gray-900 mb-3\">Welcome to Risk Assessments</h3>\n          <p class=\"text-gray-600 mb-8 leading-relaxed\">\n            Conduct comprehensive risk assessments to identify, evaluate, and prioritize organizational risks. Build a robust risk management framework.\n          </p>\n          <div class=\"flex flex-col sm:flex-row justify-center gap-3\">\n            <Button\n              variant=\"solid\"\n              theme=\"red\"\n              size=\"lg\"\n              @click=\"createNewAssessment\"\n              class=\"shadow-sm hover:shadow-md transition-shadow\"\n            >\n              <template #prefix>\n                <PlusIcon class=\"h-5 w-5\" />\n              </template>\n              Create Your First Assessment\n            </Button>\n            <Button\n              variant=\"outline\"\n              theme=\"gray\"\n              size=\"lg\"\n              @click=\"showTemplatesModal = true\"\n              class=\"border-gray-300 hover:border-gray-400\"\n            >\n              <template #prefix>\n                <FileTextIcon class=\"h-5 w-5\" />\n              </template>\n              Browse Templates\n            </Button>\n          </div>\n        </div>\n\n        <!-- Quick Start Tips -->\n        <div class=\"mt-12 max-w-2xl mx-auto\">\n          <div class=\"bg-gray-50 border border-gray-200 rounded-xl p-6\">\n            <h4 class=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n              <div class=\"h-2 w-2 bg-red-500 rounded-full mr-3\"></div>\n              Quick Start Tips\n            </h4>\n            <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n              <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 h-6 w-6 bg-red-100 rounded-lg flex items-center justify-center mt-0.5\">\n                  <span class=\"text-red-600 font-semibold text-xs\">1</span>\n                </div>\n                <div>\n                  <p class=\"font-medium text-gray-900\">Define Scope</p>\n                  <p class=\"text-gray-600\">Set clear assessment boundaries and objectives</p>\n                </div>\n              </div>\n              <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 h-6 w-6 bg-orange-100 rounded-lg flex items-center justify-center mt-0.5\">\n                  <span class=\"text-orange-600 font-semibold text-xs\">2</span>\n                </div>\n                <div>\n                  <p class=\"font-medium text-gray-900\">Identify Risks</p>\n                  <p class=\"text-gray-600\">Use multiple methodologies to identify risks</p>\n                </div>\n              </div>\n              <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0 h-6 w-6 bg-green-100 rounded-lg flex items-center justify-center mt-0.5\">\n                  <span class=\"text-green-600 font-semibold text-xs\">3</span>\n                </div>\n                <div>\n                  <p class=\"font-medium text-gray-900\">Assess & Prioritize</p>\n                  <p class=\"text-gray-600\">Evaluate impact and likelihood for prioritization</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- No Results State -->\n      <div v-else-if=\"filteredAssessments.length === 0\" class=\"px-6 py-12 text-center\">\n        <SearchIcon class=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No assessments found</h3>\n        <p class=\"text-gray-600 mb-6\">\n          Try adjusting your search or filter criteria to find the assessments you're looking for.\n        </p>\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"gray\"\n            @click=\"clearFilters\"\n          >\n            Clear Filters\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Templates Modal -->\n    <Dialog\n      v-model=\"showTemplatesModal\"\n      title=\"Assessment Templates\"\n      :options=\"{ size: 'custom', width: '70vw' }\"\n    >\n      <template #body>\n        <div class=\"space-y-6 p-6 bg-gray-50\">\n          <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <p class=\"text-red-800 text-sm\">\n               <strong>Pro Tip:</strong> Templates provide a structured starting point with predefined risk categories and assessment methodologies.\n            </p>\n          </div>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6\">\n            <div class=\"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg hover:border-red-300 cursor-pointer transition-all duration-200 group\">\n              <div class=\"flex items-start space-x-4 mb-5\">\n                <div class=\"flex-shrink-0 p-3 bg-red-50 rounded-xl group-hover:bg-red-100 transition-colors\">\n                  <AlertTriangleIcon class=\"h-6 w-6 text-red-600\" />\n                </div>\n                <div class=\"flex-1\">\n                  <h3 class=\"font-bold text-gray-900 text-lg mb-2 group-hover:text-red-900 transition-colors\">Comprehensive Risk Assessment</h3>\n                  <p class=\"text-gray-600 text-sm leading-relaxed\">Complete risk assessment covering all major risk categories</p>\n                </div>\n              </div>\n\n              <div class=\"mb-6\">\n                <h4 class=\"text-sm font-semibold text-gray-900 mb-3\">Includes:</h4>\n                <ul class=\"text-sm text-gray-600 space-y-2\">\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-red-400 rounded-full\"></div>\n                    <span>Strategic risks</span>\n                  </li>\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-red-400 rounded-full\"></div>\n                    <span>Operational risks</span>\n                  </li>\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-red-400 rounded-full\"></div>\n                    <span>Financial risks</span>\n                  </li>\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-red-400 rounded-full\"></div>\n                    <span>Compliance risks</span>\n                  </li>\n                </ul>\n              </div>\n\n              <Button\n                variant=\"solid\"\n                theme=\"red\"\n                size=\"md\"\n                class=\"w-full shadow-sm hover:shadow-md transition-shadow\"\n              >\n                <template #prefix>\n                  <PlusIcon class=\"h-4 w-4\" />\n                </template>\n                Use This Template\n              </Button>\n            </div>\n\n            <div class=\"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg hover:border-orange-300 cursor-pointer transition-all duration-200 group\">\n              <div class=\"flex items-start space-x-4 mb-5\">\n                <div class=\"flex-shrink-0 p-3 bg-orange-50 rounded-xl group-hover:bg-orange-100 transition-colors\">\n                  <BarChart3Icon class=\"h-6 w-6 text-orange-600\" />\n                </div>\n                <div class=\"flex-1\">\n                  <h3 class=\"font-bold text-gray-900 text-lg mb-2 group-hover:text-orange-900 transition-colors\">IT Risk Assessment</h3>\n                  <p class=\"text-gray-600 text-sm leading-relaxed\">Technology-focused risk assessment with cybersecurity emphasis</p>\n                </div>\n              </div>\n\n              <div class=\"mb-6\">\n                <h4 class=\"text-sm font-semibold text-gray-900 mb-3\">Includes:</h4>\n                <ul class=\"text-sm text-gray-600 space-y-2\">\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-orange-400 rounded-full\"></div>\n                    <span>Cybersecurity risks</span>\n                  </li>\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-orange-400 rounded-full\"></div>\n                    <span>Data privacy risks</span>\n                  </li>\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-orange-400 rounded-full\"></div>\n                    <span>System availability risks</span>\n                  </li>\n                  <li class=\"flex items-center space-x-2\">\n                    <div class=\"h-1.5 w-1.5 bg-orange-400 rounded-full\"></div>\n                    <span>Technology change risks</span>\n                  </li>\n                </ul>\n              </div>\n\n              <Button\n                variant=\"solid\"\n                theme=\"gray\"\n                size=\"md\"\n                class=\"w-full shadow-sm hover:shadow-md transition-shadow bg-orange-500 hover:bg-orange-600 text-white border-orange-500\"\n              >\n                <template #prefix>\n                  <BarChart3Icon class=\"h-4 w-4\" />\n                </template>\n                Use This Template\n              </Button>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Dialog>\n\n    <!-- Bulk Actions Modal -->\n    <Dialog\n      v-model=\"showBulkModal\"\n      title=\"Bulk Actions\"\n      size=\"xl\"\n    >\n      <template #body>\n        <div class=\"space-y-6\">\n          <div class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n            <p class=\"text-red-800\">\n              <span class=\"font-semibold\">{{ selectedAssessments.length }}</span> assessment(s) selected for bulk action.\n            </p>\n          </div>\n\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div class=\"p-1\">\n              <Button\n                variant=\"solid\"\n                theme=\"green\"\n                class=\"h-20 w-full\"\n                @click=\"bulkUpdateStatus\"\n              >\n                <div class=\"flex flex-col items-center justify-center space-y-2\">\n                  <CheckCircleIcon class=\"h-5 w-5\" />\n                  <span class=\"text-sm font-medium\">Update Status</span>\n                </div>\n              </Button>\n            </div>\n\n            <div class=\"p-1\">\n              <Button\n                variant=\"solid\"\n                theme=\"blue\"\n                class=\"h-20 w-full\"\n                @click=\"bulkExport\"\n              >\n                <div class=\"flex flex-col items-center justify-center space-y-2\">\n                  <DownloadIcon class=\"h-5 w-5\" />\n                  <span class=\"text-sm font-medium\">Export Selected</span>\n                </div>\n              </Button>\n            </div>\n\n            <div class=\"p-1\">\n              <Button\n                variant=\"solid\"\n                theme=\"purple\"\n                class=\"h-20 w-full\"\n                @click=\"bulkGenerateReport\"\n              >\n                <div class=\"flex flex-col items-center justify-center space-y-2\">\n                  <FileTextIcon class=\"h-5 w-5\" />\n                  <span class=\"text-sm font-medium\">Generate Reports</span>\n                </div>\n              </Button>\n            </div>\n\n            <div class=\"p-1\">\n              <Button\n                variant=\"solid\"\n                theme=\"red\"\n                class=\"h-20 w-full\"\n                @click=\"bulkDelete\"\n              >\n                <div class=\"flex flex-col items-center justify-center space-y-2\">\n                  <TrashIcon class=\"h-5 w-5\" />\n                  <span class=\"text-sm font-medium\">Delete Selected</span>\n                </div>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Dialog>\n\n    <!-- Risk Analytics Modal -->\n    <Dialog\n      v-model=\"showAnalyticsModal\"\n      title=\"Risk Analytics Dashboard\"\n      size=\"5xl\"\n    >\n      <template #body>\n        <div class=\"space-y-6\">\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <div class=\"bg-red-50 rounded-lg p-6\">\n              <h3 class=\"text-lg font-semibold text-red-900 mb-4\">Risk Distribution</h3>\n              <div class=\"space-y-3\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-red-700\">Critical Risks</span>\n                  <span class=\"font-medium text-red-900\">{{ criticalRiskCount }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-red-700\">High Risks</span>\n                  <span class=\"font-medium text-red-900\">{{ highRiskCount }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-red-700\">Medium Risks</span>\n                  <span class=\"font-medium text-red-900\">{{ mediumRiskCount }}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"bg-orange-50 rounded-lg p-6\">\n              <h3 class=\"text-lg font-semibold text-orange-900 mb-4\">Assessment Progress</h3>\n              <div class=\"space-y-3\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-orange-700\">Completed</span>\n                  <span class=\"font-medium text-orange-900\">{{ approvedCount }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-orange-700\">In Progress</span>\n                  <span class=\"font-medium text-orange-900\">{{ inProgressCount }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-orange-700\">Planning</span>\n                  <span class=\"font-medium text-orange-900\">{{ planningCount }}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"bg-purple-50 rounded-lg p-6\">\n              <h3 class=\"text-lg font-semibold text-purple-900 mb-4\">Risk Trends</h3>\n              <div class=\"space-y-3\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-purple-700\">Average Score</span>\n                  <span class=\"font-medium text-purple-900\">{{ averageRiskScore }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-purple-700\">Trend</span>\n                  <span class=\"font-medium text-purple-900\">{{ riskTrend }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-purple-700\">Top Category</span>\n                  <span class=\"font-medium text-purple-900\">{{ topRiskCategory }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n            <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Risk Heat Map</h3>\n            <div class=\"h-64 flex items-center justify-center bg-gray-50 rounded-lg\">\n              <p class=\"text-gray-500\">Risk heat map visualization would be displayed here</p>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Dialog>\n\n    <!-- Risk Assessment Form Modal -->\n    <RiskAssessmentForm\n      v-model=\"showFormModal\"\n      :assessment=\"editingAssessment\"\n      :mode=\"formMode\"\n      @submit=\"handleFormSubmit\"\n      @cancel=\"handleFormCancel\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport RiskAssessmentFilters from \"@/components/risk/RiskAssessmentFilters.vue\"\nimport RiskAssessmentForm from \"@/components/risk/RiskAssessmentForm.vue\"\nimport RiskAssessmentStats from \"@/components/risk/RiskAssessmentStats.vue\"\nimport { useAuditStore } from \"@/stores/audit\"\nimport { Badge, Button, Dialog, FormControl, Select } from \"frappe-ui\"\nimport {\n\tAlertCircleIcon,\n\tAlertTriangleIcon,\n\tArrowUpDownIcon,\n\tBarChart3Icon,\n\tCheckCircleIcon,\n\tCopyIcon,\n\tDownloadIcon,\n\tEditIcon,\n\tEyeIcon,\n\tFileTextIcon,\n\tLayersIcon,\n\tLayoutGridIcon,\n\tMoreHorizontalIcon,\n\tPlusIcon,\n\tRefreshCwIcon,\n\tSearchIcon,\n\tTableIcon,\n\tTrashIcon,\n} from \"lucide-vue-next\"\nimport { computed, onMounted, ref, watch } from \"vue\"\nimport { useRouter } from \"vue-router\"\n\nconst router = useRouter()\nconst auditStore = useAuditStore()\n\n// Reactive state\nconst loading = ref(false)\nconst saving = ref(false)\nconst exporting = ref(false)\nconst showTemplatesModal = ref(false)\nconst showBulkModal = ref(false)\nconst showAnalyticsModal = ref(false)\nconst showCreateModal = ref(false)\nconst showFormModal = ref(false)\nconst editingAssessment = ref(null)\nconst formMode = ref(\"create\") // 'create' or 'edit'\n\n// UI state\nconst viewMode = ref(\"table\") // 'table' or 'cards'\nconst searchQuery = ref(\"\")\nconst filterStatus = ref(\"\")\nconst filterPeriod = ref(\"\")\nconst filterYear = ref(\"\")\nconst selectedAssessments = ref([])\nconst sortField = ref(\"assessment_id\")\nconst sortDirection = ref(\"asc\")\n\n// Options\nconst periodOptions = [\n\t{ label: \"Annual\", value: \"Annual\" },\n\t{ label: \"Mid-Year\", value: \"Mid-Year\" },\n\t{ label: \"Quarterly\", value: \"Quarterly\" },\n\t{ label: \"Ad-hoc\", value: \"Ad-hoc\" },\n]\n\nconst statusOptions = [\n\t{ label: \"Planning\", value: \"Planning\" },\n\t{ label: \"In Progress\", value: \"In Progress\" },\n\t{ label: \"Review\", value: \"Review\" },\n\t{ label: \"Finalized\", value: \"Finalized\" },\n\t{ label: \"Approved\", value: \"Approved\" },\n]\n\nconst methodologyOptions = [\n\t{ label: \"Interview\", value: \"interview\" },\n\t{ label: \"Workshop\", value: \"workshop\" },\n\t{ label: \"Survey\", value: \"survey\" },\n\t{ label: \"Document Review\", value: \"document_review\" },\n\t{ label: \"Data Analysis\", value: \"data_analysis\" },\n]\n\nconst actionStatusOptions = [\n\t{ label: \"Planned\", value: \"Planned\" },\n\t{ label: \"In Progress\", value: \"In Progress\" },\n\t{ label: \"Completed\", value: \"Completed\" },\n\t{ label: \"Overdue\", value: \"Overdue\" },\n]\n\nconst priorityOptions = [\n\t{ label: \"Low\", value: \"Low\" },\n\t{ label: \"Medium\", value: \"Medium\" },\n\t{ label: \"High\", value: \"High\" },\n\t{ label: \"Critical\", value: \"Critical\" },\n]\n\n// Computed properties\nconst riskAssessments = computed(() => auditStore.riskAssessments || [])\n\nconst criticalRiskCount = computed(() => {\n\treturn riskAssessments.value.reduce((count, assessment) => {\n\t\treturn (\n\t\t\tcount +\n\t\t\t(assessment.top_risks?.filter((risk) => risk.inherent_risk_score >= 20)\n\t\t\t\t.length || 0)\n\t\t)\n\t}, 0)\n})\n\nconst highRiskCount = computed(() => {\n\treturn riskAssessments.value.reduce((count, assessment) => {\n\t\treturn (\n\t\t\tcount +\n\t\t\t(assessment.top_risks?.filter(\n\t\t\t\t(risk) =>\n\t\t\t\t\trisk.inherent_risk_score >= 15 && risk.inherent_risk_score < 20,\n\t\t\t).length || 0)\n\t\t)\n\t}, 0)\n})\n\nconst approvedCount = computed(() => {\n\treturn riskAssessments.value.filter(\n\t\t(assessment) => assessment.status === \"Approved\",\n\t).length\n})\n\nconst averageRiskScore = computed(() => {\n\tconst assessments = riskAssessments.value\n\tif (assessments.length === 0) return 0\n\n\tconst totalScore = assessments.reduce((sum, assessment) => {\n\t\treturn sum + getAverageRiskScore(assessment)\n\t}, 0)\n\n\treturn Math.round(totalScore / assessments.length)\n})\n\n// Aggregated stats for the stats component\nconst statsData = computed(() => ({\n\ttotal: riskAssessments.value.length,\n\tcriticalRisks: criticalRiskCount.value,\n\thighRisks: highRiskCount.value,\n\tapproved: approvedCount.value,\n\taverageRiskScore: averageRiskScore.value,\n}))\n\nconst mediumRiskCount = computed(() => {\n\treturn riskAssessments.value.reduce((count, assessment) => {\n\t\treturn (\n\t\t\tcount +\n\t\t\t(assessment.top_risks?.filter(\n\t\t\t\t(risk) =>\n\t\t\t\t\trisk.inherent_risk_score >= 10 && risk.inherent_risk_score < 15,\n\t\t\t).length || 0)\n\t\t)\n\t}, 0)\n})\n\nconst inProgressCount = computed(() => {\n\treturn riskAssessments.value.filter(\n\t\t(assessment) => assessment.status === \"In Progress\",\n\t).length\n})\n\nconst planningCount = computed(() => {\n\treturn riskAssessments.value.filter(\n\t\t(assessment) => assessment.status === \"Planning\",\n\t).length\n})\n\nconst riskTrend = computed(() => {\n\t// Simple trend calculation - in a real app this would be more sophisticated\n\treturn averageRiskScore.value > 15 ? \"Increasing\" : \"Stable\"\n})\n\nconst topRiskCategory = computed(() => {\n\t// Simple calculation - in a real app this would analyze actual risk categories\n\treturn \"Operational\"\n})\n\nconst yearOptions = computed(() => {\n\tconst currentYear = new Date().getFullYear()\n\tconst years = []\n\tfor (let i = currentYear - 2; i <= currentYear + 2; i++) {\n\t\tyears.push({ label: i.toString(), value: i.toString() })\n\t}\n\treturn years\n})\n\nconst filteredAssessments = computed(() => {\n\tlet assessments = riskAssessments.value\n\n\t// Search filter\n\tif (searchQuery.value) {\n\t\tconst query = searchQuery.value.toLowerCase()\n\t\tassessments = assessments.filter(\n\t\t\t(a) =>\n\t\t\t\ta.assessment_id?.toLowerCase().includes(query) ||\n\t\t\t\ta.assessment_name?.toLowerCase().includes(query) ||\n\t\t\t\ta.assessment_period?.toLowerCase().includes(query),\n\t\t)\n\t}\n\n\t// Status filter\n\tif (filterStatus.value) {\n\t\tassessments = assessments.filter((a) => a.status === filterStatus.value)\n\t}\n\n\t// Period filter\n\tif (filterPeriod.value) {\n\t\tassessments = assessments.filter(\n\t\t\t(a) => a.assessment_period === filterPeriod.value,\n\t\t)\n\t}\n\n\t// Year filter\n\tif (filterYear.value) {\n\t\tassessments = assessments.filter((a) => a.fiscal_year === filterYear.value)\n\t}\n\n\treturn assessments\n})\n\n// Methods\nconst clearFilters = () => {\n\tsearchQuery.value = \"\"\n\tfilterStatus.value = \"\"\n\tfilterPeriod.value = \"\"\n\tfilterYear.value = \"\"\n}\n\nconst exportAssessments = () => {\n\texporting.value = true\n\ttry {\n\t\tconst data = filteredAssessments.value.map((assessment) => ({\n\t\t\t\"Assessment ID\": assessment.assessment_id,\n\t\t\t\"Assessment Name\": assessment.assessment_name,\n\t\t\tPeriod: assessment.assessment_period,\n\t\t\tYear: assessment.fiscal_year,\n\t\t\tDate: formatDate(assessment.assessment_date),\n\t\t\tStatus: assessment.status,\n\t\t\t\"Total Risks\": assessment.risk_register?.length || 0,\n\t\t\t\"Critical Risks\": assessment.top_risks?.length || 0,\n\t\t\t\"Average Risk Score\": getAverageRiskScore(assessment),\n\t\t}))\n\n\t\tconst csv = [\n\t\t\tObject.keys(data[0]).join(\",\"),\n\t\t\t...data.map((row) =>\n\t\t\t\tObject.values(row)\n\t\t\t\t\t.map((val) => `\"${val}\"`)\n\t\t\t\t\t.join(\",\"),\n\t\t\t),\n\t\t].join(\"\\n\")\n\n\t\tconst blob = new Blob([csv], { type: \"text/csv\" })\n\t\tconst url = window.URL.createObjectURL(blob)\n\t\tconst a = document.createElement(\"a\")\n\t\ta.href = url\n\t\ta.download = `risk-assessments-${new Date().toISOString().split(\"T\")[0]}.csv`\n\t\ta.click()\n\t\twindow.URL.revokeObjectURL(url)\n\t} finally {\n\t\texporting.value = false\n\t}\n}\n\nconst selectAllAssessments = () => {\n\tif (selectedAssessments.value.length === filteredAssessments.value.length) {\n\t\tselectedAssessments.value = []\n\t} else {\n\t\tselectedAssessments.value = filteredAssessments.value.map((a) => a.name)\n\t}\n}\n\nconst toggleAssessmentSelection = (assessmentId) => {\n\tconst index = selectedAssessments.value.indexOf(assessmentId)\n\tif (index > -1) {\n\t\tselectedAssessments.value.splice(index, 1)\n\t} else {\n\t\tselectedAssessments.value.push(assessmentId)\n\t}\n}\n\nconst sortBy = (field) => {\n\tif (sortField.value === field) {\n\t\tsortDirection.value = sortDirection.value === \"asc\" ? \"desc\" : \"asc\"\n\t} else {\n\t\tsortField.value = field\n\t\tsortDirection.value = \"asc\"\n\t}\n}\n\nconst getAverageRiskScore = (assessment) => {\n\tif (!assessment.top_risks || assessment.top_risks.length === 0) return 0\n\tconst totalScore = assessment.top_risks.reduce(\n\t\t(sum, risk) => sum + (risk.inherent_risk_score || 0),\n\t\t0,\n\t)\n\treturn Math.round(totalScore / assessment.top_risks.length)\n}\n\nconst getRiskScoreColor = (score) => {\n\tif (score >= 20) return \"bg-red-500\"\n\tif (score >= 15) return \"bg-orange-500\"\n\tif (score >= 10) return \"bg-yellow-500\"\n\treturn \"bg-green-500\"\n}\n\nconst showAssessmentMenu = (assessment, event) => {\n\t// Placeholder for context menu functionality\n\tconsole.log(\"Show menu for assessment:\", assessment.name)\n}\n\nconst bulkUpdateStatus = () => {\n\t// Placeholder for bulk status update\n\tconsole.log(\"Bulk update status for selected assessments\")\n}\n\nconst bulkExport = () => {\n\t// Placeholder for bulk export\n\tconsole.log(\"Bulk export selected assessments\")\n}\n\nconst bulkGenerateReport = () => {\n\t// Placeholder for bulk report generation\n\tconsole.log(\"Generate reports for selected assessments\")\n}\n\nconst bulkDelete = () => {\n\t// Placeholder for bulk delete\n\tconsole.log(\"Bulk delete selected assessments\")\n}\n\nconst createNewAssessment = () => {\n\teditingAssessment.value = null\n\tformMode.value = \"create\"\n\tshowFormModal.value = true\n}\n\nconst viewAssessment = (assessment) => {\n\trouter.push(`/audit-planning/risk-assessment/${assessment.name}`)\n}\n\nconst editAssessment = (assessment) => {\n\teditingAssessment.value = assessment\n\tformMode.value = \"edit\"\n\tshowFormModal.value = true\n}\n\nconst handleFormSubmit = async (formData) => {\n\ttry {\n\t\tsaving.value = true\n\t\tif (formMode.value === \"create\") {\n\t\t\tawait auditStore.createRiskAssessment(formData)\n\t\t} else {\n\t\t\tawait auditStore.updateRiskAssessment(\n\t\t\t\teditingAssessment.value.name,\n\t\t\t\tformData,\n\t\t\t)\n\t\t}\n\t\tshowFormModal.value = false\n\t\tawait refreshData()\n\t} catch (error) {\n\t\tconsole.error(\"Error saving assessment:\", error)\n\t} finally {\n\t\tsaving.value = false\n\t}\n}\n\nconst handleFormCancel = () => {\n\tshowFormModal.value = false\n\teditingAssessment.value = null\n}\n\nconst refreshData = async () => {\n\tloading.value = true\n\ttry {\n\t\tawait auditStore.fetchRiskAssessments()\n\t} catch (error) {\n\t\tconsole.error(\"Error refreshing data:\", error)\n\t} finally {\n\t\tloading.value = false\n\t}\n}\n\nconst duplicateAssessment = async (assessment) => {\n\ttry {\n\t\tconst assessmentDetails = await auditStore.fetchRiskAssessmentDetails(\n\t\t\tassessment.name,\n\t\t)\n\t\tif (assessmentDetails) {\n\t\t\t// For now, just navigate to new assessment - in future could pre-populate\n\t\t\trouter.push(\"/audit-planning/risk-assessment/new\")\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error duplicating assessment:\", error)\n\t}\n}\n\nconst formatDate = (dateString) => {\n\tif (!dateString) return \"\"\n\treturn new Date(dateString).toLocaleDateString()\n}\n\nconst getStatusVariant = (status) => {\n\tconst variants = {\n\t\tPlanning: \"secondary\",\n\t\t\"In Progress\": \"warning\",\n\t\tReview: \"info\",\n\t\tFinalized: \"success\",\n\t\tApproved: \"success\",\n\t}\n\treturn variants[status] || \"secondary\"\n}\n\n// Watchers\nwatch(filteredAssessments, () => {\n\tselectedAssessments.value = []\n})\n\nwatch(searchQuery, () => {\n\t// Reset to first page when searching\n})\n\nwatch(filterStatus, () => {\n\tselectedAssessments.value = []\n})\n\nwatch(filterPeriod, () => {\n\tselectedAssessments.value = []\n})\n\nwatch(filterYear, () => {\n\tselectedAssessments.value = []\n})\n</script>"],"names":["props","__props","periodOptions","statusOptions","currentYear","yearOptions","i","statusOptionsWithAll","computed","periodOptionsWithAll","yearOptionsWithAll","hasActiveFilters","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","_hoisted_4","_hoisted_5","_createVNode","_unref","SearchIcon","$emit","$event","Select","_hoisted_7","_hoisted_8","Button","LayersIcon","_toDisplayString","_hoisted_9","BarChart3Icon","_hoisted_10","_createBlock","_resolveDynamicComponent","LayoutGridIcon","TableIcon","_createTextVNode","_hoisted_11","XIcon","emit","__emit","selectedCell","ref","impactLevelsReversed","categoryIcons","SettingsIcon","DollarSignIcon","ShieldIcon","TargetIcon","AlertTriangleIcon","MonitorIcon","getCategoryIcon","category","getCategoryLabel","hasSelectedRisks","risks","risk","onCellClick","cell","onRiskClick","toggleRiskSelection","riskName","createRiskInCell","_Fragment","_renderList","impact","_hoisted_6","row","rowIndex","colIndex","_normalizeClass","_withModifiers","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_hoisted_20","likelihood","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_38","AlertCircleIcon","PlusIcon","useMultiSectionForm","options","sections","form","reactive","validateSection","childTables","activeSection","_a","errors","sectionErrors","isSaving","isSavingDraft","hasUnsavedChanges","watch","getSectionStatus","sectionId","section","s","requiredFields","filledFields","field","value","getSectionStatusClass","status","classes","completedSections","formProgress","isFormValid","navigateToSection","nextSection","currentIndex","prevSection","isFirstSection","isLastSection","navigateToFirstError","errorSection","validateForm","key","isValid","sectionResult","clearError","fieldName","clearAllErrors","prepareFormData","data","__spreadValues","doctype","__spreadProps","resetForm","initialData","loadFormData","getSection","currentSectionIndex","isOpen","isEditMode","selectedMethodologies","formData","methodologyOptions","teamColumns","defaultTeamMember","riskRegisterColumns","riskRegisterFormFields","defaultRiskEntry","actionPlanColumns","actionPlanFormFields","defaultActionEntry","likelihoodLevels","impactLevels","lastSaved","lastSavedText","diff","riskCounts","counts","score","actionCounts","action","topRisks","b","computedHeatMapData","matrix","j","risksInCell","r","level","color","overallRiskColor","calculateOverallRiskScore","overallRiskVariant","overallRiskBarColor","isMethodSelected","method","total","sum","calculateOverallRiskRating","getRiskVariant","getRiskBorderClass","getRiskBgClass","formatDate","dateString","onRiskRowClick","onHeatMapRiskClick","saveDraft","__async","error","submitForm","getRiskRatingFromScore","closeForm","newAssessment","newMethods","Dialog","index","CheckIcon","ChevronRightIcon","SaveIcon","_hoisted_18","ChevronLeftIcon","_hoisted_21","CheckCircleIcon","_withDirectives","SectionHeader","FormControl","LinkField","_hoisted_29","InlineChildTable","_hoisted_37","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","ChildTable","_hoisted_46","RiskHeatMap","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","Badge","_hoisted_63","_normalizeStyle","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","ClockIcon","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","FileTextIcon","_hoisted_12","router","useRouter","auditStore","useAuditStore","loading","saving","exporting","showTemplatesModal","showBulkModal","showAnalyticsModal","showFormModal","editingAssessment","formMode","viewMode","searchQuery","filterStatus","filterPeriod","filterYear","selectedAssessments","sortField","sortDirection","riskAssessments","criticalRiskCount","count","assessment","highRiskCount","approvedCount","averageRiskScore","assessments","totalScore","getAverageRiskScore","statsData","mediumRiskCount","inProgressCount","planningCount","riskTrend","topRiskCategory","years","filteredAssessments","query","a","_b","_c","clearFilters","exportAssessments","csv","val","blob","url","selectAllAssessments","toggleAssessmentSelection","assessmentId","sortBy","getRiskScoreColor","showAssessmentMenu","event","bulkUpdateStatus","bulkExport","bulkGenerateReport","bulkDelete","createNewAssessment","viewAssessment","editAssessment","handleFormSubmit","refreshData","handleFormCancel","duplicateAssessment","getStatusVariant","DownloadIcon","RefreshCwIcon","RiskAssessmentStats","RiskAssessmentFilters","ArrowUpDownIcon","EyeIcon","EditIcon","CopyIcon","MoreHorizontalIcon","_d","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","TrashIcon","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","RiskAssessmentForm"],"mappings":"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"}