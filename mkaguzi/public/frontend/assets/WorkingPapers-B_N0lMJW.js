var Je=Object.defineProperty,Ke=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var Ue=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var Ae=(_,R,c)=>R in _?Je(_,R,{enumerable:!0,configurable:!0,writable:!0,value:c}):_[R]=c,te=(_,R)=>{for(var c in R||(R={}))et.call(R,c)&&Ae(_,c,R[c]);if(Ue)for(var c of Ue(R))tt.call(R,c)&&Ae(_,c,R[c]);return _},se=(_,R)=>Ke(_,Ze(R));var O=(_,R,c)=>new Promise((C,V)=>{var P=s=>{try{T(c.next(s))}catch(p){V(p)}},U=s=>{try{T(c.throw(s))}catch(p){V(p)}},T=s=>s.done?C(s.value):Promise.resolve(s.value).then(P,U);T((c=c.apply(_,R)).next())});import{r as A,j as $,l as b,p as f,q as e,H as q,B as z,s as a,v as r,A as i,a6 as H,F as Q,x as X,$ as fe,y as Y,u as m,z as y,C as st,b as Te,w as De,ac as S,ah as E,ao as J,ad as ue,ab as lt,Q as ot,am as je,as as le}from"./vue-DciwFjI_.js";import{a as w,L as pe,D as ve,f as at,i as oe,c as ce,d as Me}from"./index-qIC3Tfxg.js";import{U as rt,bo as nt,n as he,af as it,bf as dt,a4 as ut,E as pt,f as ct,F as G,b as we,C as _e,N as ge,a7 as We,o as mt,T as vt,i as gt,_ as qe,a0 as ft,$ as xt,m as yt,aH as bt,aI as wt,a2 as _t,a8 as ht,a9 as ze,aa as Fe,ak as Be,ab as Ne}from"./icons-CtLkBOsu.js";import"./charts-DlPBe6v3.js";import"./utils-Bcd7wHeW.js";const kt={class:"w-full"},$t=["multiple","accept"],Ct={class:"text-center"},Pt={class:"flex justify-center mb-4"},St={class:"space-y-2"},Rt={class:"text-lg font-medium text-gray-900"},Vt={class:"text-sm text-gray-500"},Ut={key:0,class:"text-xs text-gray-400"},At={key:1,class:"text-xs text-gray-400"},Tt={key:0,class:"mt-4 space-y-2"},Dt={class:"flex items-center space-x-3"},jt={class:"flex-shrink-0"},Mt={class:"min-w-0 flex-1"},Wt={class:"text-sm font-medium text-gray-900 truncate"},zt={class:"text-xs text-gray-500"},Ft={class:"flex items-center space-x-2"},Bt={key:0,class:"flex-1 max-w-24"},Nt={class:"w-full bg-gray-200 rounded-full h-2"},qt={class:"flex-shrink-0"},Et={key:1,class:"mt-4 flex justify-end space-x-2"},Ot={__name:"FileUploader",props:{multiple:{type:Boolean,default:!1},accept:{type:String,default:""},maxSize:{type:Number,default:0},maxFiles:{type:Number,default:0},disabled:{type:Boolean,default:!1},uploadButtonText:{type:String,default:"Upload Files"},autoUpload:{type:Boolean,default:!1}},emits:["files-selected","file-removed","upload-start","upload-progress","upload-complete","upload-error"],setup(_,{emit:R}){const c=_,C=R,V=A(!1),P=A([]),U=A(!1),T=$(()=>P.value.length>0&&P.value.every(v=>v.status!=="uploading")&&!c.disabled),s=v=>{const x=Array.from(v.target.files);h(x)},p=v=>{V.value=!1;const x=Array.from(v.dataTransfer.files);h(x)},h=v=>{const x=[];for(const k of v){const g=M(k);g.valid?x.push({file:k,name:k.name,size:k.size,type:k.type,status:"pending",progress:0,error:null}):C("upload-error",{file:k,error:g.error})}if(c.maxFiles>0&&P.value.length+x.length>c.maxFiles){C("upload-error",{error:`Maximum ${c.maxFiles} files allowed`});return}c.multiple?P.value.push(...x):P.value=x.slice(0,1),C("files-selected",P.value),c.autoUpload&&x.length>0&&B()},M=v=>{if(c.maxSize>0&&v.size>c.maxSize)return{valid:!1,error:`File size exceeds maximum limit of ${j(c.maxSize)}`};if(c.accept){const x=c.accept.split(",").map(D=>D.trim()),k=v.type.toLowerCase(),g=v.name.toLowerCase();if(!x.some(D=>D.startsWith(".")?g.endsWith(D):k.includes(D.replace("*",""))))return{valid:!1,error:`File type not accepted. Accepted types: ${c.accept}`}}return{valid:!0}},L=v=>{const x=P.value.splice(v,1)[0];C("file-removed",x)},I=()=>{P.value=[],C("files-selected",[])},B=()=>O(this,null,function*(){if(T.value){U.value=!0,C("upload-start",P.value);try{for(const v of P.value)if(v.status!=="completed"){v.status="uploading",v.progress=0;try{yield N(v),v.status="completed",v.progress=100,C("upload-progress",{file:v,progress:100})}catch(x){v.status="error",v.error=x.message,C("upload-error",{file:v,error:x.message})}}C("upload-complete",P.value)}catch(v){C("upload-error",{error:v.message})}finally{U.value=!1}}}),N=v=>O(this,null,function*(){return new Promise((x,k)=>{let g=0;const K=setInterval(()=>{g+=Math.random()*20,g>=100&&(g=100,clearInterval(K),x()),v.progress=Math.round(g),C("upload-progress",{file:v,progress:v.progress})},200)})}),j=v=>{if(v===0)return"0 Bytes";const x=1024,k=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(v)/Math.log(x));return Number.parseFloat((v/Math.pow(x,g)).toFixed(2))+" "+k[g]};return(v,x)=>(f(),b("div",kt,[e("div",{class:z(["relative border-2 border-dashed rounded-lg p-6 transition-colors",V.value?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400",_.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"]),onDragover:x[0]||(x[0]=H(k=>V.value=!0,["prevent"])),onDragleave:x[1]||(x[1]=H(k=>V.value=!1,["prevent"])),onDrop:H(p,["prevent"]),onClick:x[2]||(x[2]=k=>_.disabled?null:v.$refs.fileInput.click())},[e("input",{ref:"fileInput",type:"file",multiple:_.multiple,accept:_.accept,class:"hidden",onChange:s},null,40,$t),e("div",Ct,[e("div",Pt,[e("div",{class:z(["rounded-full p-3",V.value?"bg-blue-100":"bg-gray-100"])},[a(r(rt),{class:z(["h-8 w-8",V.value?"text-blue-600":"text-gray-400"])},null,8,["class"])],2)]),e("div",St,[e("p",Rt,i(V.value?"Drop files here":"Upload files"),1),e("p",Vt,i(_.multiple?"Select multiple files":"Select a file")+" or drag and drop ",1),_.accept?(f(),b("p",Ut," Accepted formats: "+i(_.accept),1)):q("",!0),_.maxSize?(f(),b("p",At," Maximum file size: "+i(j(_.maxSize)),1)):q("",!0)])])],34),P.value.length>0?(f(),b("div",Tt,[x[3]||(x[3]=e("h4",{class:"text-sm font-medium text-gray-700"},"Selected Files",-1)),(f(!0),b(Q,null,X(P.value,(k,g)=>(f(),b("div",{key:g,class:"flex items-center justify-between rounded-lg border border-gray-200 bg-white p-3"},[e("div",Dt,[e("div",jt,[a(r(nt),{class:"h-8 w-8 text-gray-400"})]),e("div",Mt,[e("p",Wt,i(k.name),1),e("p",zt,i(j(k.size)),1)])]),e("div",Ft,[k.status==="uploading"?(f(),b("div",Bt,[e("div",Nt,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:fe({width:`${k.progress||0}%`})},null,4)])])):q("",!0),e("div",qt,[k.status==="completed"?(f(),Y(r(he),{key:0,class:"h-5 w-5 text-green-500"})):q("",!0),k.status==="error"?(f(),Y(r(it),{key:1,class:"h-5 w-5 text-red-500"})):q("",!0),k.status==="uploading"?(f(),Y(r(dt),{key:2,class:"h-5 w-5 text-blue-500 animate-spin"})):q("",!0)]),a(r(w),{variant:"ghost",size:"sm",onClick:K=>L(g),disabled:k.status==="uploading"},{default:m(()=>[a(r(ut),{class:"h-4 w-4"})]),_:1},8,["onClick","disabled"])])]))),128))])):q("",!0),P.value.length>0?(f(),b("div",Et,[a(r(w),{variant:"outline",onClick:I},{default:m(()=>[...x[4]||(x[4]=[y(" Clear All ",-1)])]),_:1}),a(r(w),{onClick:B,disabled:!T.value,loading:U.value},{default:m(()=>[y(i(_.uploadButtonText),1)]),_:1},8,["disabled","loading"])])):q("",!0)]))}},Lt={class:"flex items-center space-x-4 mb-6"},It={class:"flex-shrink-0"},Qt={class:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center"},Xt={class:"flex-1"},Gt={class:"flex items-center space-x-3"},Yt={class:"text-xl font-bold text-gray-900"},Ht={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},Jt={class:"text-gray-600 mt-1"},me={__name:"WorkingPaperSectionHeader",props:{title:{type:String,required:!0},description:{type:String,required:!0},icon:{type:String,default:"file-text"},step:{type:[String,Number],required:!0}},setup(_){const R=_,c=$(()=>({"file-text":G,"clipboard-list":ct,users:pt,"check-circle":he})[R.icon]||G);return(C,V)=>(f(),b("div",Lt,[e("div",It,[e("div",Qt,[(f(),Y(st(c.value),{class:"h-6 w-6 text-purple-600"}))])]),e("div",Xt,[e("div",Gt,[e("h3",Yt,i(_.title),1),e("span",Ht," Step "+i(_.step),1)]),e("p",Jt,i(_.description),1)])]))}},Kt={class:"h-[80vh] flex"},Zt={class:"w-64 bg-gray-50 border-r border-gray-200 flex-shrink-0 overflow-y-auto"},es={class:"p-5"},ts={class:"space-y-1"},ss=["onClick"],ls={key:1},os={class:"flex-1 min-w-0"},as={class:"text-sm font-medium truncate"},rs={class:"text-xs text-gray-500"},ns={class:"mt-6 p-4 bg-white rounded-lg border border-gray-200"},is={class:"flex items-center justify-between mb-2"},ds={class:"text-sm font-bold text-purple-600"},us={class:"w-full bg-gray-200 rounded-full h-2"},ps={class:"text-xs text-gray-500 mt-2"},cs={class:"flex-1 overflow-y-auto"},ms={class:"p-6 max-w-5xl mx-auto"},vs={class:"space-y-6"},gs={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6"},fs={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},xs={key:0,class:"mt-1 text-xs text-red-500"},ys={key:1,class:"mt-1 text-xs text-gray-500"},bs=["value"],ws=["value"],_s={key:0,class:"mt-1 text-xs text-red-500"},hs={class:"mt-6"},ks={key:0,class:"mt-1 text-xs text-red-500"},$s={class:"mt-6"},Cs={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},Ps={class:"space-y-6"},Ss={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6"},Rs={key:0,class:"mt-1 text-xs text-red-500"},Vs={class:"space-y-6"},Us={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6"},As={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ts={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ds={key:0,class:"mt-1 text-xs text-red-500"},js={class:"space-y-6"},Ms={class:"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6"},Ws={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zs={class:"border-t border-gray-200 pt-6"},Fs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Bs={class:"border-t border-gray-200 pt-6"},Ns={class:"flex items-center justify-between w-full"},qs={class:"flex items-center space-x-4"},Es={class:"flex items-center space-x-2"},Os={class:"flex items-center space-x-2"},Ls={class:"flex items-center space-x-3"},Is={__name:"WorkingPapersForm",props:{modelValue:{type:Boolean,default:!1},workingPaper:{type:Object,default:null}},emits:["update:modelValue","created","updated","cancelled"],setup(_,{emit:R}){const c=_,C=R,V=$({get:()=>c.modelValue,set:u=>C("update:modelValue",u)}),P=$(()=>{var u;return!!((u=c.workingPaper)!=null&&u.name)}),U=[{id:"basic",label:"Basic Information",description:"Core details",icon:"file-text"},{id:"content",label:"Content & Work",description:"Documentation",icon:"clipboard-list"},{id:"assignment",label:"Assignment",description:"Team & timeline",icon:"users"},{id:"quality",label:"Quality Control",description:"Review & docs",icon:"check-circle"}],T=A("basic"),s=Te({working_paper_id:"",wp_title:"",wp_reference_no:"",wp_type:"",engagement_reference:"",procedure_reference:"",work_performed:"",objective:"",scope:"",prepared_by:"",reviewed_by:"",preparation_date:"",review_date:"",due_date:"",review_status:"Not Reviewed",quality_score:"",review_comments:"",supporting_documents:"",attachments:[],notes:""}),p=Te({}),h=A(!1),M=A(!1),L=[{label:"Not Reviewed",value:"Not Reviewed"},{label:"Under Review",value:"Under Review"},{label:"Review Complete",value:"Review Complete"},{label:"Revision Required",value:"Revision Required"}],I=[{label:"Planning Memo",value:"Planning Memo"},{label:"Risk Assessment",value:"Risk Assessment"},{label:"Walkthrough",value:"Walkthrough"},{label:"Test of Controls",value:"Test of Controls"},{label:"Substantive Test",value:"Substantive Test"},{label:"Analytical Review",value:"Analytical Review"},{label:"Data Analytics",value:"Data Analytics"},{label:"Summary",value:"Summary"},{label:"Other",value:"Other"}],B=$(()=>U.findIndex(u=>u.id===T.value)),N=u=>{switch(u){case"basic":return s.wp_title&&s.wp_type&&s.engagement_reference?"complete":s.wp_title||s.wp_type?"partial":"incomplete";case"content":return s.work_performed?"complete":"incomplete";case"assignment":return s.prepared_by&&s.preparation_date?"complete":s.prepared_by||s.preparation_date?"partial":"incomplete";case"quality":return"complete";default:return"incomplete"}},j=u=>{const o=N(u);return o==="complete"?"bg-purple-500 text-white":o==="partial"?"bg-amber-500 text-white":"bg-gray-300 text-gray-600"},v=$(()=>U.filter(u=>N(u.id)==="complete").length),x=$(()=>Math.round(v.value/U.length*100)),k=$(()=>!!(s.wp_title&&s.wp_type&&s.engagement_reference&&s.work_performed&&s.prepared_by&&s.preparation_date)),g=()=>{const u=B.value;u>0&&(T.value=U[u-1].id)},K=()=>{const u=B.value;u<U.length-1&&(T.value=U[u+1].id)},D=()=>{const u={};return s.wp_title||(u.wp_title="Working paper title is required"),s.wp_type||(u.wp_type="Type is required"),s.engagement_reference||(u.engagement_reference="Engagement reference is required"),s.work_performed||(u.work_performed="Work performed is required"),s.prepared_by||(u.prepared_by="Prepared by is required"),s.preparation_date||(u.preparation_date="Preparation date is required"),Object.assign(p,u),Object.keys(u).length===0},F=()=>se(te({},s),{attachments:Array.isArray(s.attachments)?s.attachments:[]}),ae=()=>O(this,null,function*(){if(!D()){const u=U.find(o=>N(o.id)!=="complete");u&&(T.value=u.id);return}try{h.value=!0;const u=F();P.value?C("updated",se(te({},u),{name:c.workingPaper.name})):C("created",u),V.value=!1}catch(u){console.error("Error saving working paper:",u)}finally{h.value=!1}}),re=()=>O(this,null,function*(){try{M.value=!0;const u=F();C("created",se(te({},u),{review_status:"Not Reviewed"})),V.value=!1}catch(u){console.error("Error saving draft:",u)}finally{M.value=!1}}),Z=()=>{C("cancelled"),V.value=!1},ne=()=>{Object.keys(s).forEach(u=>{Array.isArray(s[u])?s[u]=[]:typeof s[u]=="number"?s[u]=null:s[u]=""}),s.review_status="Not Reviewed",Object.keys(p).forEach(u=>delete p[u]),T.value="basic"},ie=u=>{u&&Object.keys(s).forEach(o=>{u[o]!==void 0&&(s[o]=u[o])})};return De(()=>c.modelValue,u=>{u&&(c.workingPaper?ie(c.workingPaper):ne())}),De(()=>c.workingPaper,u=>{u&&c.modelValue&&ie(u)},{deep:!0}),(u,o)=>(f(),Y(r(ve),{modelValue:V.value,"onUpdate:modelValue":o[20]||(o[20]=d=>V.value=d),options:{title:P.value?"Edit Working Paper":"Create New Working Paper",size:"full"}},{"body-content":m(()=>[e("div",Kt,[e("div",Zt,[e("div",es,[o[22]||(o[22]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-4"},"Form Sections",-1)),e("nav",ts,[(f(),b(Q,null,X(U,(d,de)=>e("button",{key:d.id,onClick:xe=>T.value=d.id,class:z(["w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg text-left transition-all",[T.value===d.id?"bg-purple-100 border border-purple-300 text-purple-800":"hover:bg-gray-100 text-gray-700"]])},[e("div",{class:z(["w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold flex-shrink-0",j(d.id)])},[N(d.id)==="complete"?(f(),Y(r(We),{key:0,class:"h-3 w-3"})):(f(),b("span",ls,i(de+1),1))],2),e("div",os,[e("div",as,i(d.label),1),e("div",rs,i(d.description),1)])],10,ss)),64))]),e("div",ns,[e("div",is,[o[21]||(o[21]=e("span",{class:"text-sm font-medium text-gray-700"},"Progress",-1)),e("span",ds,i(x.value)+"%",1)]),e("div",us,[e("div",{class:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:fe({width:`${x.value}%`})},null,4)]),e("p",ps,i(v.value)+" of "+i(U.length)+" sections complete ",1)])])]),e("div",cs,[e("div",ms,[S(e("div",vs,[a(me,{title:"Basic Information",description:"Essential working paper details and identification",icon:"file-text",step:"1"}),e("div",gs,[e("div",fs,[e("div",null,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Working Paper ID "),e("span",{class:"text-red-500"},"*")],-1)),S(e("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>s.working_paper_id=d),type:"text",placeholder:"Auto-generated if left blank",class:z(["w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",p.working_paper_id?"border-red-300":"border-gray-300"])},null,2),[[E,s.working_paper_id]]),p.working_paper_id?(f(),b("p",xs,i(p.working_paper_id),1)):(f(),b("p",ys,"Format: WP-YYYY-XXX"))]),e("div",null,[o[24]||(o[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Review Status "),e("span",{class:"text-red-500"},"*")],-1)),S(e("select",{"onUpdate:modelValue":o[1]||(o[1]=d=>s.review_status=d),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[(f(),b(Q,null,X(L,d=>e("option",{key:d.value,value:d.value},i(d.label),9,bs)),64))],512),[[J,s.review_status]])]),e("div",null,[o[26]||(o[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Type "),e("span",{class:"text-red-500"},"*")],-1)),S(e("select",{"onUpdate:modelValue":o[2]||(o[2]=d=>s.wp_type=d),class:z(["w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",p.wp_type?"border-red-300":"border-gray-300"])},[o[25]||(o[25]=e("option",{value:""},"Select type",-1)),(f(),b(Q,null,X(I,d=>e("option",{key:d.value,value:d.value},i(d.label),9,ws)),64))],2),[[J,s.wp_type]]),p.wp_type?(f(),b("p",_s,i(p.wp_type),1)):q("",!0)])]),e("div",hs,[o[27]||(o[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Title "),e("span",{class:"text-red-500"},"*")],-1)),S(e("input",{"onUpdate:modelValue":o[3]||(o[3]=d=>s.wp_title=d),type:"text",placeholder:"Enter working paper title",class:z(["w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",p.wp_title?"border-red-300":"border-gray-300"])},null,2),[[E,s.wp_title]]),p.wp_title?(f(),b("p",ks,i(p.wp_title),1)):q("",!0)]),e("div",$s,[o[28]||(o[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Reference Number ",-1)),S(e("input",{"onUpdate:modelValue":o[4]||(o[4]=d=>s.wp_reference_no=d),type:"text",placeholder:"REF-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.wp_reference_no]])]),e("div",Cs,[e("div",null,[o[29]||(o[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Engagement Reference "),e("span",{class:"text-red-500"},"*")],-1)),a(pe,{modelValue:s.engagement_reference,"onUpdate:modelValue":o[5]||(o[5]=d=>s.engagement_reference=d),doctype:"Audit Engagement",placeholder:"Select audit engagement",required:!0,error:p.engagement_reference},null,8,["modelValue","error"])]),e("div",null,[o[30]||(o[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Procedure Reference ",-1)),a(pe,{modelValue:s.procedure_reference,"onUpdate:modelValue":o[6]||(o[6]=d=>s.procedure_reference=d),doctype:"Audit Procedure",placeholder:"Link to audit procedure"},null,8,["modelValue"])])])])],512),[[ue,T.value==="basic"]]),S(e("div",Ps,[a(me,{title:"Content & Work Performed",description:"Document the work performed and findings",icon:"clipboard-list",step:"2"}),e("div",Ss,[e("div",null,[o[31]||(o[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Work Performed "),e("span",{class:"text-red-500"},"*")],-1)),S(e("textarea",{"onUpdate:modelValue":o[7]||(o[7]=d=>s.work_performed=d),rows:"6",placeholder:"Describe the work performed, procedures followed, and methodology used...",class:z(["w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition",p.work_performed?"border-red-300":"border-gray-300"])},null,2),[[E,s.work_performed]]),p.work_performed?(f(),b("p",Rs,i(p.work_performed),1)):q("",!0)]),e("div",null,[o[32]||(o[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Objective ",-1)),S(e("textarea",{"onUpdate:modelValue":o[8]||(o[8]=d=>s.objective=d),rows:"3",placeholder:"What was the objective of this working paper?",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.objective]])]),e("div",null,[o[33]||(o[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Scope ",-1)),S(e("textarea",{"onUpdate:modelValue":o[9]||(o[9]=d=>s.scope=d),rows:"3",placeholder:"Define the scope and boundaries of this working paper...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.scope]])])])],512),[[ue,T.value==="content"]]),S(e("div",Vs,[a(me,{title:"Assignment & Timeline",description:"Assign team members and track progress",icon:"users",step:"3"}),e("div",Us,[e("div",As,[e("div",null,[o[34]||(o[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Prepared By "),e("span",{class:"text-red-500"},"*")],-1)),a(pe,{modelValue:s.prepared_by,"onUpdate:modelValue":o[10]||(o[10]=d=>s.prepared_by=d),doctype:"User",filters:{enabled:1},placeholder:"Select preparer",required:!0,error:p.prepared_by},null,8,["modelValue","error"])]),e("div",null,[o[35]||(o[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Reviewed By ",-1)),a(pe,{modelValue:s.reviewed_by,"onUpdate:modelValue":o[11]||(o[11]=d=>s.reviewed_by=d),doctype:"User",filters:{enabled:1},placeholder:"Select reviewer"},null,8,["modelValue"])])]),e("div",Ts,[e("div",null,[o[36]||(o[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"},[y(" Preparation Date "),e("span",{class:"text-red-500"},"*")],-1)),S(e("input",{"onUpdate:modelValue":o[12]||(o[12]=d=>s.preparation_date=d),type:"date",class:z(["w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",p.preparation_date?"border-red-300":"border-gray-300"])},null,2),[[E,s.preparation_date]]),p.preparation_date?(f(),b("p",Ds,i(p.preparation_date),1)):q("",!0)]),e("div",null,[o[37]||(o[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Review Date ",-1)),S(e("input",{"onUpdate:modelValue":o[13]||(o[13]=d=>s.review_date=d),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.review_date]])]),e("div",null,[o[38]||(o[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Due Date ",-1)),S(e("input",{"onUpdate:modelValue":o[14]||(o[14]=d=>s.due_date=d),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.due_date]])])])])],512),[[ue,T.value==="assignment"]]),S(e("div",js,[a(me,{title:"Quality Control & Documentation",description:"Quality assessment and documentation references",icon:"check-circle",step:"4"}),e("div",Ms,[e("div",Ws,[e("div",null,[o[40]||(o[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Quality Score ",-1)),S(e("select",{"onUpdate:modelValue":o[15]||(o[15]=d=>s.quality_score=d),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[...o[39]||(o[39]=[e("option",{value:""},"Select score",-1),e("option",{value:"1"},"1 - Poor",-1),e("option",{value:"2"},"2 - Below Average",-1),e("option",{value:"3"},"3 - Average",-1),e("option",{value:"4"},"4 - Good",-1),e("option",{value:"5"},"5 - Excellent",-1)])],512),[[J,s.quality_score]])]),e("div",null,[o[41]||(o[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Review Comments ",-1)),S(e("textarea",{"onUpdate:modelValue":o[16]||(o[16]=d=>s.review_comments=d),rows:"3",placeholder:"Reviewer feedback and comments...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.review_comments]])])]),e("div",zs,[o[44]||(o[44]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-4"},"Documentation References",-1)),e("div",Fs,[e("div",null,[o[42]||(o[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Supporting Documents ",-1)),S(e("textarea",{"onUpdate:modelValue":o[17]||(o[17]=d=>s.supporting_documents=d),rows:"3",placeholder:"List supporting documents, references, and evidence...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.supporting_documents]])]),e("div",null,[o[43]||(o[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," File Attachments ",-1)),a(Ot,{modelValue:s.attachments,"onUpdate:modelValue":o[18]||(o[18]=d=>s.attachments=d),multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png",placeholder:"Upload working paper files"},null,8,["modelValue"])])])]),e("div",Bs,[o[45]||(o[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1.5"}," Additional Notes ",-1)),S(e("textarea",{"onUpdate:modelValue":o[19]||(o[19]=d=>s.notes=d),rows:"3",placeholder:"Any additional notes or observations...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,s.notes]])])])],512),[[ue,T.value==="quality"]])])])])]),actions:m(()=>[e("div",Ns,[e("div",qs,[e("div",Es,[e("div",{class:z(["w-3 h-3 rounded-full",k.value?"bg-green-500":"bg-amber-500"])},null,2),e("span",{class:z(["text-sm font-medium",k.value?"text-green-700":"text-amber-700"])},i(k.value?"Ready to save":"Complete required fields"),3)]),e("div",Os,[a(r(w),{variant:"ghost",size:"sm",disabled:B.value===0,onClick:g},{default:m(()=>[a(r(we),{class:"h-4 w-4 mr-1"}),o[46]||(o[46]=y(" Previous ",-1))]),_:1},8,["disabled"]),a(r(w),{variant:"ghost",size:"sm",disabled:B.value===U.length-1,onClick:K},{default:m(()=>[o[47]||(o[47]=y(" Next ",-1)),a(r(_e),{class:"h-4 w-4 ml-1"})]),_:1},8,["disabled"])])]),e("div",Ls,[a(r(w),{variant:"outline",onClick:Z,disabled:h.value},{default:m(()=>[...o[48]||(o[48]=[y(" Cancel ",-1)])]),_:1},8,["disabled"]),P.value?q("",!0):(f(),Y(r(w),{key:0,variant:"outline",theme:"gray",onClick:re,loading:M.value,disabled:h.value},{default:m(()=>[...o[49]||(o[49]=[y(" Save as Draft ",-1)])]),_:1},8,["loading","disabled"])),a(r(w),{variant:"solid",theme:"purple",onClick:ae,loading:h.value},{prefix:m(()=>[P.value?(f(),Y(r(We),{key:1,class:"h-4 w-4"})):(f(),Y(r(ge),{key:0,class:"h-4 w-4"}))]),default:m(()=>[y(" "+i(P.value?"Update Working Paper":"Create Working Paper"),1)]),_:1},8,["loading"])])])]),_:1},8,["modelValue","options"]))}},Qs={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4"},Xs={class:"bg-purple-50 rounded-xl border border-purple-200 p-6 hover:shadow-lg transition-shadow"},Gs={class:"flex items-center justify-between"},Ys={class:"text-3xl font-bold text-purple-900 mt-1"},Hs={class:"p-3 bg-purple-500 rounded-xl shadow-sm"},Js={class:"bg-green-50 rounded-xl border border-green-200 p-6 hover:shadow-lg transition-shadow"},Ks={class:"flex items-center justify-between"},Zs={class:"text-3xl font-bold text-green-900 mt-1"},el={class:"text-xs text-green-600 mt-1"},tl={class:"p-3 bg-green-500 rounded-xl shadow-sm"},sl={class:"bg-yellow-50 rounded-xl border border-yellow-200 p-6 hover:shadow-lg transition-shadow"},ll={class:"flex items-center justify-between"},ol={class:"text-3xl font-bold text-yellow-900 mt-1"},al={class:"p-3 bg-yellow-500 rounded-xl shadow-sm"},rl={class:"bg-red-50 rounded-xl border border-red-200 p-6 hover:shadow-lg transition-shadow"},nl={class:"flex items-center justify-between"},il={class:"text-3xl font-bold text-red-900 mt-1"},dl={class:"p-3 bg-red-500 rounded-xl shadow-sm"},ul={class:"bg-blue-50 rounded-xl border border-blue-200 p-6 hover:shadow-lg transition-shadow"},pl={class:"flex items-center justify-between"},cl={class:"text-3xl font-bold text-blue-900 mt-1"},ml={class:"w-full bg-blue-200 rounded-full h-2 mt-2"},vl={class:"p-3 bg-blue-500 rounded-xl shadow-sm"},gl={class:"bg-indigo-50 rounded-xl border border-indigo-200 p-6 hover:shadow-lg transition-shadow"},fl={class:"flex items-center justify-between"},xl={class:"text-3xl font-bold text-indigo-900 mt-1"},yl={class:"p-3 bg-indigo-500 rounded-xl shadow-sm"},bl={__name:"WorkingPapersStats",props:{workingPapers:{type:Array,default:()=>[]}},setup(_){const R=_,c=$(()=>R.workingPapers.length),C=$(()=>R.workingPapers.filter(s=>s.review_status==="Review Complete").length),V=$(()=>R.workingPapers.filter(s=>s.review_status==="Under Review").length),P=$(()=>R.workingPapers.filter(s=>s.review_status==="Revision Required").length),U=$(()=>{const s=R.workingPapers.filter(h=>h.review_date&&h.preparation_date);if(s.length===0)return 0;const p=s.reduce((h,M)=>{const L=new Date(M.preparation_date),I=new Date(M.review_date),B=Math.abs(I-L),N=Math.ceil(B/(1e3*60*60*24));return h+N},0);return Math.round(p/s.length)}),T=$(()=>{const s=R.workingPapers.filter(h=>h.quality_score);if(s.length===0)return 0;const p=s.reduce((h,M)=>h+(M.quality_score||0),0);return Math.round(p/s.length)});return(s,p)=>(f(),b("div",Qs,[e("div",Xs,[e("div",Gs,[e("div",null,[p[0]||(p[0]=e("p",{class:"text-sm font-semibold text-purple-700 uppercase tracking-wide"},"Total Papers",-1)),e("p",Ys,i(c.value),1),p[1]||(p[1]=e("p",{class:"text-xs text-purple-600 mt-1"},"Active documentation",-1))]),e("div",Hs,[a(r(G),{class:"h-7 w-7 text-white"})])])]),e("div",Js,[e("div",Ks,[e("div",null,[p[2]||(p[2]=e("p",{class:"text-sm font-semibold text-green-700 uppercase tracking-wide"},"Review Complete",-1)),e("p",Zs,i(C.value),1),e("p",el,i((C.value/Math.max(c.value,1)*100).toFixed(0))+"% of total",1)]),e("div",tl,[a(r(he),{class:"h-7 w-7 text-white"})])])]),e("div",sl,[e("div",ll,[e("div",null,[p[3]||(p[3]=e("p",{class:"text-sm font-semibold text-yellow-700 uppercase tracking-wide"},"Under Review",-1)),e("p",ol,i(V.value),1),p[4]||(p[4]=e("p",{class:"text-xs text-yellow-600 mt-1"},"Pending approval",-1))]),e("div",al,[a(r(mt),{class:"h-7 w-7 text-white"})])])]),e("div",rl,[e("div",nl,[e("div",null,[p[5]||(p[5]=e("p",{class:"text-sm font-semibold text-red-700 uppercase tracking-wide"},"Revision Required",-1)),e("p",il,i(P.value),1),p[6]||(p[6]=e("p",{class:"text-xs text-red-600 mt-1"},"Needs updates",-1))]),e("div",dl,[a(r(vt),{class:"h-7 w-7 text-white"})])])]),e("div",ul,[e("div",pl,[e("div",null,[p[7]||(p[7]=e("p",{class:"text-sm font-semibold text-blue-700 uppercase tracking-wide"},"Avg. Review Time",-1)),e("p",cl,i(U.value)+" days",1),e("div",ml,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:fe({width:`${Math.min(U.value/14*100,100)}%`})},null,4)])]),e("div",vl,[a(r(gt),{class:"h-7 w-7 text-white"})])])]),e("div",gl,[e("div",fl,[e("div",null,[p[8]||(p[8]=e("p",{class:"text-sm font-semibold text-indigo-700 uppercase tracking-wide"},"Quality Score",-1)),e("p",xl,i(T.value)+"%",1),p[9]||(p[9]=e("p",{class:"text-xs text-indigo-600 mt-1"},"Scored papers",-1))]),e("div",yl,[a(r(qe),{class:"h-7 w-7 text-white"})])])])]))}},wl={class:"space-y-6"},_l={class:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},hl={class:"flex items-center space-x-3"},kl={class:"p-2 bg-purple-100 rounded-lg"},$l={class:"flex flex-wrap items-center gap-3"},Cl={class:"p-1"},Pl={class:"p-1"},Sl={class:"p-1"},Rl={class:"p-1"},Vl={class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm"},Ul={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},Al={class:"flex flex-col sm:flex-row gap-4 flex-1"},Tl={class:"relative flex-1 max-w-md"},Dl={class:"flex gap-2"},jl=["value"],Ml=["value"],Wl=["value"],zl={class:"flex items-center gap-3"},Fl={class:"flex items-center bg-gray-100 rounded-lg p-1"},Bl={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},Nl={class:"px-6 py-4 border-b border-gray-200 bg-gray-50"},ql={class:"flex items-center justify-between"},El={class:"flex items-center space-x-3"},Ol={class:"text-sm font-medium text-gray-700"},Ll={class:"flex items-center space-x-2"},Il={key:0},Ql={class:"overflow-x-auto"},Xl={class:"min-w-full divide-y divide-gray-200"},Gl={class:"bg-gray-50"},Yl={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Hl={class:"bg-white divide-y divide-gray-200"},Jl={class:"px-6 py-4 whitespace-nowrap"},Kl={class:"px-6 py-4 whitespace-nowrap"},Zl={class:"flex items-center"},eo={class:"flex-shrink-0 h-10 w-10"},to={class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},so={class:"ml-4"},lo={class:"text-sm font-medium text-gray-900"},oo={class:"px-6 py-4 whitespace-nowrap"},ao={class:"text-sm font-medium text-gray-900"},ro={class:"text-sm text-gray-500"},no={class:"px-6 py-4 whitespace-nowrap"},io={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},uo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},po={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},co={class:"px-6 py-4 whitespace-nowrap"},mo={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},vo={class:"flex items-center space-x-2"},go={class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},fo={class:"flex items-center justify-between"},xo={class:"text-sm text-gray-700"},yo={class:"flex items-center space-x-2"},bo={class:"text-sm text-gray-700"},wo={key:1,class:"p-6"},_o={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ho=["onClick"],ko={class:"flex items-start justify-between mb-4"},$o={class:"flex items-center space-x-3"},Co={class:"flex-shrink-0"},Po={class:"h-12 w-12 rounded-lg bg-purple-100 flex items-center justify-center"},So={class:"text-lg font-semibold text-gray-900"},Ro={class:"text-sm text-gray-500"},Vo={class:"space-y-3 mb-4"},Uo={class:"flex items-center justify-between"},Ao={class:"flex items-center justify-between"},To={class:"flex items-center justify-between"},Do={class:"text-sm text-gray-900"},jo={class:"flex items-center justify-between"},Mo={class:"text-sm text-gray-900"},Wo={class:"flex items-center justify-between"},zo={class:"text-sm text-gray-900"},Fo={class:"flex items-center justify-between pt-4 border-t border-gray-200"},Bo={class:"flex space-x-2"},No={class:"mt-6 flex items-center justify-between"},qo={class:"text-sm text-gray-700"},Eo={class:"flex items-center space-x-2"},Oo={class:"text-sm text-gray-700"},Lo={key:0,class:"bg-white rounded-xl border border-gray-200 p-12 text-center"},Io={class:"max-w-md mx-auto"},Qo={class:"mx-auto h-24 w-24 text-gray-400 mb-4"},Xo={class:"text-gray-600 mb-6"},Go={class:"space-y-3"},Yo={class:"space-y-4"},Ho={class:"space-y-2"},Jo={class:"flex items-center space-x-2"},Ko={class:"flex items-center space-x-2"},Zo={class:"flex items-center space-x-2"},ea={class:"flex items-center space-x-2"},ta={class:"flex items-center space-x-2"},sa={class:"space-y-4"},la={class:"text-sm text-gray-600"},oa={class:"space-y-3"},aa={class:"flex items-center space-x-2"},ra={class:"space-y-4"},na={class:"grid grid-cols-2 gap-4"},ia={class:"bg-purple-50 p-4 rounded-lg"},da={class:"text-2xl font-bold text-purple-600"},ua={class:"bg-green-50 p-4 rounded-lg"},pa={class:"text-2xl font-bold text-green-600"},ca={class:"space-y-2"},ma={class:"space-y-2 max-h-40 overflow-y-auto"},va={class:"text-sm"},ga={class:"flex items-center space-x-2"},fa={class:"w-20 bg-gray-200 rounded-full h-2"},xa={class:"text-xs text-gray-600"},$a={__name:"WorkingPapers",setup(_){const R=lt(),c=at(),C=A(!1),V=A(!1),P=A(!1),U=A(null),T=A(!1),s=A([]),p=A("preparation_date"),h=A(1),M=A(10),L=A("table"),I=A(!1),B=A(!1),N=A(!1),j=A(""),v=A(""),x=A(""),k=A(!1),g=A({search:"",engagement:"",type:"",status:"",preparedBy:""}),K=A({working_paper_id:"",wp_title:"",wp_reference_no:"",wp_type:"Planning Memo",engagement_reference:"",procedure_reference:"",prepared_by:"",preparation_date:"",reviewed_by:"",review_date:"",review_status:"Not Reviewed",work_performed:"",objective:"",scope:""}),D=$(()=>c.workingPapers),F=$(()=>{let n=D.value;return g.value.search&&(n=n.filter(t=>{var l,W;return((l=t.wp_title)==null?void 0:l.toLowerCase().includes(g.value.search.toLowerCase()))||((W=t.working_paper_id)==null?void 0:W.toLowerCase().includes(g.value.search.toLowerCase()))})),g.value.engagement&&(n=n.filter(t=>t.engagement_reference===g.value.engagement)),g.value.type&&(n=n.filter(t=>t.wp_type===g.value.type)),g.value.status&&(n=n.filter(t=>t.review_status===g.value.status)),g.value.preparedBy&&(n=n.filter(t=>t.prepared_by===g.value.preparedBy)),n}),ae=$({get:()=>F.value.length>0&&s.value.length===F.value.length,set:n=>{n?s.value=F.value.map(t=>t.name):s.value=[]}}),re=$(()=>{const n=(h.value-1)*M.value,t=n+M.value;return F.value.slice(n,t)}),Z=$(()=>Math.ceil(F.value.length/M.value));$(()=>D.value.length),$(()=>D.value.filter(n=>n.review_status==="Review Complete").length);const ne=$(()=>D.value.filter(n=>n.review_status==="Under Review").length);$(()=>D.value.filter(n=>n.review_status==="Revision Required").length),$(()=>D.value.filter(n=>n.review_status==="Not Reviewed").length),$(()=>{const n=D.value.filter(l=>l.review_date&&l.preparation_date);if(n.length===0)return 0;const t=n.reduce((l,W)=>{const Xe=new Date(W.preparation_date),Ge=new Date(W.review_date),Ye=Math.abs(Ge-Xe),He=Math.ceil(Ye/(1e3*60*60*24));return l+He},0);return Math.round(t/n.length)}),$(()=>{const n=D.value.filter(l=>l.quality_score);if(n.length===0)return 0;const t=n.reduce((l,W)=>l+(W.quality_score||0),0);return Math.round(t/n.length)});const ie=$(()=>{const n={};return D.value.forEach(t=>{t.reviewed_by&&(n[t.reviewed_by]||(n[t.reviewed_by]={name:t.reviewed_by,count:0}),n[t.reviewed_by].count++)}),Object.values(n).map(t=>se(te({},t),{load:Math.min(100,Math.round(t.count/10*100))}))});$(()=>{const n=c.engagements;return[{label:"All Engagements",value:""},...n.map(t=>({label:t.engagement_title,value:t.name}))]});const u=[{label:"All Status",value:""},{label:"Not Reviewed",value:"Not Reviewed"},{label:"Under Review",value:"Under Review"},{label:"Review Complete",value:"Review Complete"},{label:"Revision Required",value:"Revision Required"}];$(()=>{const n=new Set;return D.value.forEach(t=>{t.prepared_by&&n.add(t.prepared_by)}),[{label:"All Preparers",value:""},...Array.from(n).map(t=>({label:t,value:t}))]});const o=u.slice(1);$(()=>[{label:"Select Procedure",value:""}]);const d=$(()=>[{label:"Select User",value:""},{label:"John Doe",value:"john.doe@example.com"},{label:"Jane Smith",value:"jane.smith@example.com"}]),de=n=>({"Planning Memo":"blue","Risk Assessment":"red",Walkthrough:"green","Test of Controls":"purple","Substantive Test":"orange","Analytical Review":"yellow","Data Analytics":"indigo",Summary:"gray",Other:"gray"})[n]||"gray",xe=n=>({"Not Reviewed":"gray","Under Review":"yellow","Review Complete":"green","Revision Required":"red"})[n]||"gray",ke=n=>{const t=c.engagements.find(l=>l.name===n);return t?t.engagement_title:"Unknown Engagement"},$e=n=>n?new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",Ce=n=>{R.push(`/working-papers/${n.name}`)},Pe=n=>{U.value=n,P.value=!0,V.value=!0},Se=n=>{U.value=null,P.value=!1,K.value={working_paper_id:"",wp_title:`${n.wp_title} (Copy)`,wp_reference_no:"",wp_type:n.wp_type||"Planning Memo",engagement_reference:n.engagement_reference||"",procedure_reference:n.procedure_reference||"",prepared_by:"",preparation_date:new Date().toISOString().split("T")[0],reviewed_by:"",review_date:"",review_status:"Not Reviewed",work_performed:n.work_performed||"",objective:n.objective||"",scope:n.scope||""},V.value=!0},Re=n=>{confirm("Are you sure you want to delete this working paper?")&&c.fetchWorkingPapers()},ye=()=>{U.value=null,P.value=!1,V.value=!0},Ee=n=>O(this,null,function*(){V.value=!1,U.value=null,P.value=!1,yield ee()}),Oe=n=>O(this,null,function*(){V.value=!1,U.value=null,P.value=!1,yield ee()}),Ve=n=>{n?s.value=F.value.map(t=>t.name):s.value=[]},be=n=>{const t=s.value.indexOf(n);t>-1?s.value.splice(t,1):s.value.push(n)},ee=()=>O(this,null,function*(){C.value=!0;try{yield c.fetchWorkingPapers(),yield c.fetchEngagements()}catch(n){console.error("Error loading data:",n)}finally{C.value=!1}}),Le=()=>O(this,null,function*(){T.value=!0;try{console.log("Exporting working papers data...")}finally{T.value=!1}}),Ie=()=>O(this,null,function*(){if(j.value)try{console.log("Applying template:",j.value,"to working papers:",s.value),N.value=!1,j.value="",s.value=[],yield ee()}catch(n){console.error("Error applying template:",n)}}),Qe=()=>O(this,null,function*(){try{v.value&&console.log("Updating status to:",v.value,"for working papers:",s.value),x.value&&console.log("Assigning reviewer:",x.value,"to working papers:",s.value),k.value&&confirm(`Are you sure you want to delete ${s.value.length} working papers? This action cannot be undone.`)&&console.log("Deleting working papers:",s.value),I.value=!1,v.value="",x.value="",k.value=!1,s.value=[],yield ee()}catch(n){console.error("Error applying bulk actions:",n)}});return ot(()=>O(this,null,function*(){C.value=!0;try{yield c.fetchEngagements(),yield c.fetchWorkingPapers()}catch(n){console.error("Error loading data:",n)}finally{C.value=!1}})),(n,t)=>(f(),b("div",wl,[e("div",_l,[e("div",null,[e("div",hl,[e("div",kl,[a(r(G),{class:"h-6 w-6 text-purple-600"})]),t[34]||(t[34]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Working Papers"),e("p",{class:"text-gray-600 mt-1"}," Manage audit working papers and documentation with advanced tracking ")],-1))])]),e("div",$l,[e("div",Cl,[a(r(w),{variant:"solid",theme:"gray",size:"sm",onClick:Le,loading:T.value},{prefix:m(()=>[a(r(ft),{class:"h-3.5 w-3.5"})]),default:m(()=>[t[35]||(t[35]=y(" Export ",-1))]),_:1},8,["loading"])]),e("div",Pl,[a(r(w),{variant:"solid",theme:"gray",size:"sm",onClick:t[0]||(t[0]=l=>N.value=!0)},{prefix:m(()=>[a(r(G),{class:"h-3.5 w-3.5"})]),default:m(()=>[t[36]||(t[36]=y(" Templates ",-1))]),_:1})]),e("div",Sl,[a(r(w),{variant:"solid",theme:"gray",size:"sm",onClick:ee,loading:C.value},{prefix:m(()=>[a(r(xt),{class:"h-3.5 w-3.5"})]),default:m(()=>[t[37]||(t[37]=y(" Refresh ",-1))]),_:1},8,["loading"])]),e("div",Rl,[a(r(w),{variant:"solid",theme:"purple",size:"sm",onClick:ye},{prefix:m(()=>[a(r(ge),{class:"h-3.5 w-3.5"})]),default:m(()=>[t[38]||(t[38]=y(" New Working Paper ",-1))]),_:1})])])]),a(bl,{"working-papers":D.value},null,8,["working-papers"]),e("div",Vl,[e("div",Ul,[e("div",Al,[e("div",Tl,[a(r(yt),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),S(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>g.value.search=l),type:"text",placeholder:"Search working papers...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[E,g.value.search]])]),e("div",Dl,[S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>g.value.engagement=l),class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[t[39]||(t[39]=e("option",{value:""},"All Engagements",-1)),(f(!0),b(Q,null,X(r(c).engagements,l=>(f(),b("option",{key:l.name,value:l.name},i(l.engagement_title),9,jl))),128))],512),[[J,g.value.engagement]]),S(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>g.value.type=l),class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[...t[40]||(t[40]=[je('<option value="">All Types</option><option value="Planning Memo">Planning Memo</option><option value="Risk Assessment">Risk Assessment</option><option value="Walkthrough">Walkthrough</option><option value="Test of Controls">Test of Controls</option><option value="Substantive Test">Substantive Test</option><option value="Analytical Review">Analytical Review</option><option value="Data Analytics">Data Analytics</option><option value="Summary">Summary</option><option value="Other">Other</option>',10)])],512),[[J,g.value.type]]),S(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>g.value.status=l),class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[...t[41]||(t[41]=[je('<option value="">All Status</option><option value="Not Reviewed">Not Reviewed</option><option value="Under Review">Under Review</option><option value="Review Complete">Review Complete</option><option value="Revision Required">Revision Required</option>',5)])],512),[[J,g.value.status]]),S(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>g.value.preparedBy=l),class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[t[42]||(t[42]=e("option",{value:""},"All Preparers",-1)),(f(!0),b(Q,null,X(Array.from(new Set(D.value.map(l=>l.prepared_by).filter(Boolean))),l=>(f(),b("option",{key:l,value:l},i(l),9,Ml))),128))],512),[[J,g.value.preparedBy]]),S(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>g.value.reviewer=l),class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[t[43]||(t[43]=e("option",{value:""},"All Reviewers",-1)),(f(!0),b(Q,null,X(Array.from(new Set(D.value.map(l=>l.reviewed_by).filter(Boolean))),l=>(f(),b("option",{key:l,value:l},i(l),9,Wl))),128))],512),[[J,g.value.reviewer]])])]),e("div",zl,[e("div",Fl,[e("button",{onClick:t[7]||(t[7]=l=>L.value="table"),class:z(["px-3 py-1.5 rounded-md text-sm font-medium transition-colors",L.value==="table"?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"])},[a(r(bt),{class:"h-4 w-4 inline mr-1"}),t[44]||(t[44]=y(" Table ",-1))],2),e("button",{onClick:t[8]||(t[8]=l=>L.value="cards"),class:z(["px-3 py-1.5 rounded-md text-sm font-medium transition-colors",L.value==="cards"?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-gray-900"])},[a(r(wt),{class:"h-4 w-4 inline mr-1"}),t[45]||(t[45]=y(" Cards ",-1))],2)]),a(r(w),{onClick:t[9]||(t[9]=l=>n.showTemplatesModal=!0),variant:"outline",class:"flex items-center gap-2"},{default:m(()=>[a(r(G),{class:"h-4 w-4"}),t[46]||(t[46]=y(" Templates ",-1))]),_:1}),a(r(w),{onClick:t[10]||(t[10]=l=>n.showBulkActionsModal=!0),variant:"outline",class:"flex items-center gap-2",disabled:s.value.length===0},{default:m(()=>[a(r(_t),{class:"h-4 w-4"}),t[47]||(t[47]=y(" Bulk Actions ",-1))]),_:1},8,["disabled"]),a(r(w),{onClick:t[11]||(t[11]=l=>B.value=!0),variant:"solid",class:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700"},{default:m(()=>[a(r(qe),{class:"h-4 w-4"}),t[48]||(t[48]=y(" Capacity ",-1))]),_:1}),a(r(w),{onClick:ye,variant:"solid",class:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700"},{default:m(()=>[a(r(ge),{class:"h-4 w-4"}),t[49]||(t[49]=y(" New Paper ",-1))]),_:1})])])]),e("div",Bl,[e("div",Nl,[e("div",ql,[e("div",El,[a(r(oe),{modelValue:ae.value,"onUpdate:modelValue":Ve},null,8,["modelValue"]),e("span",Ol,i(s.value.length)+" of "+i(F.value.length)+" selected ",1)]),e("div",Ll,[a(r(w),{variant:"outline",size:"sm",onClick:t[12]||(t[12]=l=>p.value=p.value==="preparation_date"?"wp_title":"preparation_date")},{default:m(()=>[a(r(ht),{class:"h-4 w-4 mr-2"}),y(" Sort by "+i(p.value==="preparation_date"?"Title":"Date"),1)]),_:1})])])]),L.value==="table"?(f(),b("div",Il,[e("div",Ql,[e("table",Xl,[e("thead",Gl,[e("tr",null,[e("th",Yl,[a(r(oe),{modelValue:ae.value,"onUpdate:modelValue":Ve},null,8,["modelValue"])]),t[50]||(t[50]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," WP ID ",-1)),t[51]||(t[51]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title ",-1)),t[52]||(t[52]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type ",-1)),t[53]||(t[53]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Engagement ",-1)),t[54]||(t[54]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Prepared By ",-1)),t[55]||(t[55]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date ",-1)),t[56]||(t[56]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status ",-1)),t[57]||(t[57]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ",-1))])]),e("tbody",Hl,[(f(!0),b(Q,null,X(re.value,l=>(f(),b("tr",{key:l.name,class:z(["hover:bg-gray-50 transition-colors",{"bg-purple-50":s.value.includes(l.name)}])},[e("td",Jl,[a(r(oe),{modelValue:s.value.includes(l.name),"onUpdate:modelValue":W=>be(l.name)},null,8,["modelValue","onUpdate:modelValue"])]),e("td",Kl,[e("div",Zl,[e("div",eo,[e("div",to,[a(r(G),{class:"h-5 w-5 text-gray-600"})])]),e("div",so,[e("div",lo,i(l.working_paper_id),1)])])]),e("td",oo,[e("div",ao,i(l.wp_title||"Untitled"),1),e("div",ro,i(l.wp_reference_no||"No reference"),1)]),e("td",no,[a(r(ce),{theme:de(l.wp_type)},{default:m(()=>[y(i(l.wp_type),1)]),_:2},1032,["theme"])]),e("td",io,i(ke(l.engagement_reference)),1),e("td",uo,i(l.prepared_by||"Unassigned"),1),e("td",po,i($e(l.preparation_date)),1),e("td",co,[a(r(ce),{theme:xe(l.review_status)},{default:m(()=>[y(i(l.review_status),1)]),_:2},1032,["theme"])]),e("td",mo,[e("div",vo,[a(r(w),{variant:"ghost",size:"sm",onClick:W=>Ce(l)},{default:m(()=>[a(r(ze),{class:"h-4 w-4"})]),_:1},8,["onClick"]),a(r(w),{variant:"ghost",size:"sm",onClick:W=>Pe(l)},{default:m(()=>[a(r(Fe),{class:"h-4 w-4"})]),_:1},8,["onClick"]),a(r(w),{variant:"ghost",size:"sm",onClick:W=>Se(l),theme:"blue"},{default:m(()=>[a(r(Be),{class:"h-4 w-4"})]),_:1},8,["onClick"]),a(r(w),{variant:"ghost",size:"sm",onClick:W=>Re(),theme:"red"},{default:m(()=>[a(r(Ne),{class:"h-4 w-4"})]),_:1},8,["onClick"])])])],2))),128))])])]),e("div",go,[e("div",fo,[e("div",xo," Showing "+i((h.value-1)*M.value+1)+" to "+i(Math.min(h.value*M.value,F.value.length))+" of "+i(F.value.length)+" results ",1),e("div",yo,[a(r(w),{variant:"outline",size:"sm",disabled:h.value===1,onClick:t[13]||(t[13]=l=>h.value--)},{default:m(()=>[a(r(we),{class:"h-4 w-4"}),t[58]||(t[58]=y(" Previous ",-1))]),_:1},8,["disabled"]),e("span",bo," Page "+i(h.value)+" of "+i(Z.value),1),a(r(w),{variant:"outline",size:"sm",disabled:h.value===Z.value,onClick:t[14]||(t[14]=l=>h.value++)},{default:m(()=>[t[59]||(t[59]=y(" Next ",-1)),a(r(_e),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])])])):(f(),b("div",wo,[e("div",_o,[(f(!0),b(Q,null,X(re.value,l=>(f(),b("div",{key:l.name,class:z(["bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer",{"ring-2 ring-purple-500 bg-purple-50":s.value.includes(l.name)}]),onClick:W=>be(l.name)},[e("div",ko,[e("div",$o,[e("div",Co,[e("div",Po,[a(r(G),{class:"h-6 w-6 text-purple-600"})])]),e("div",null,[e("h3",So,i(l.wp_title||"Untitled"),1),e("p",Ro,i(l.working_paper_id),1)])]),a(r(oe),{modelValue:s.value.includes(l.name),"onUpdate:modelValue":W=>be(l.name),onClick:t[15]||(t[15]=H(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"])]),e("div",Vo,[e("div",Uo,[t[60]||(t[60]=e("span",{class:"text-sm text-gray-600"},"Type:",-1)),a(r(ce),{theme:de(l.wp_type)},{default:m(()=>[y(i(l.wp_type),1)]),_:2},1032,["theme"])]),e("div",Ao,[t[61]||(t[61]=e("span",{class:"text-sm text-gray-600"},"Status:",-1)),a(r(ce),{theme:xe(l.review_status)},{default:m(()=>[y(i(l.review_status),1)]),_:2},1032,["theme"])]),e("div",To,[t[62]||(t[62]=e("span",{class:"text-sm text-gray-600"},"Engagement:",-1)),e("span",Do,i(ke(l.engagement_reference)),1)]),e("div",jo,[t[63]||(t[63]=e("span",{class:"text-sm text-gray-600"},"Prepared By:",-1)),e("span",Mo,i(l.prepared_by||"Unassigned"),1)]),e("div",Wo,[t[64]||(t[64]=e("span",{class:"text-sm text-gray-600"},"Date:",-1)),e("span",zo,i($e(l.preparation_date)),1)])]),e("div",Fo,[e("div",Bo,[a(r(w),{variant:"ghost",size:"sm",onClick:H(W=>Ce(l),["stop"])},{default:m(()=>[a(r(ze),{class:"h-4 w-4"})]),_:1},8,["onClick"]),a(r(w),{variant:"ghost",size:"sm",onClick:H(W=>Pe(l),["stop"])},{default:m(()=>[a(r(Fe),{class:"h-4 w-4"})]),_:1},8,["onClick"]),a(r(w),{variant:"ghost",size:"sm",onClick:H(W=>Se(l),["stop"]),theme:"blue"},{default:m(()=>[a(r(Be),{class:"h-4 w-4"})]),_:1},8,["onClick"])]),a(r(w),{variant:"ghost",size:"sm",onClick:H(W=>Re(),["stop"]),theme:"red"},{default:m(()=>[a(r(Ne),{class:"h-4 w-4"})]),_:1},8,["onClick"])])],10,ho))),128))]),e("div",No,[e("div",qo," Showing "+i((h.value-1)*M.value+1)+" to "+i(Math.min(h.value*M.value,F.value.length))+" of "+i(F.value.length)+" results ",1),e("div",Eo,[a(r(w),{variant:"outline",size:"sm",disabled:h.value===1,onClick:t[16]||(t[16]=l=>h.value--)},{default:m(()=>[a(r(we),{class:"h-4 w-4"}),t[65]||(t[65]=y(" Previous ",-1))]),_:1},8,["disabled"]),e("span",Oo," Page "+i(h.value)+" of "+i(Z.value),1),a(r(w),{variant:"outline",size:"sm",disabled:h.value===Z.value,onClick:t[17]||(t[17]=l=>h.value++)},{default:m(()=>[t[66]||(t[66]=y(" Next ",-1)),a(r(_e),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])]))]),F.value.length===0?(f(),b("div",Lo,[e("div",Io,[e("div",Qo,[a(r(G),{class:"h-24 w-24"})]),t[69]||(t[69]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No working papers found",-1)),e("p",Xo,i(g.value.search||g.value.engagement||g.value.type||g.value.status?"Try adjusting your filters or search terms to find what you're looking for.":"Get started by creating your first working paper for audit documentation."),1),e("div",Go,[a(r(w),{onClick:ye,variant:"solid",class:"bg-purple-600 hover:bg-purple-700"},{default:m(()=>[a(r(ge),{class:"h-4 w-4 mr-2"}),t[67]||(t[67]=y(" Create Working Paper ",-1))]),_:1}),t[68]||(t[68]=e("div",{class:"text-sm text-gray-500"},[e("p",{class:"mb-1"},[y(" "),e("strong",null,"Quick Tips:")]),e("ul",{class:"text-left space-y-1"},[e("li",null," Use templates to standardize your documentation"),e("li",null," Link working papers to specific audit engagements"),e("li",null," Track review status to ensure quality control")])],-1))])])])):q("",!0),a(Is,{modelValue:V.value,"onUpdate:modelValue":t[18]||(t[18]=l=>V.value=l),"working-paper":U.value,onCreated:Ee,onUpdated:Oe,onCancelled:t[19]||(t[19]=l=>V.value=!1)},null,8,["modelValue","working-paper"]),a(r(ve),{modelValue:N.value,"onUpdate:modelValue":t[26]||(t[26]=l=>N.value=l),options:{title:"Apply Template"}},{"body-content":m(()=>[e("div",Yo,[t[75]||(t[75]=e("p",{class:"text-sm text-gray-600"}," Select a template to apply to the selected working papers: ",-1)),e("div",Ho,[e("label",Jo,[S(e("input",{type:"radio","onUpdate:modelValue":t[20]||(t[20]=l=>j.value=l),value:"planning-memo",class:"text-blue-600"},null,512),[[le,j.value]]),t[70]||(t[70]=e("span",{class:"text-sm"},"Planning Memo Template",-1))]),e("label",Ko,[S(e("input",{type:"radio","onUpdate:modelValue":t[21]||(t[21]=l=>j.value=l),value:"test-of-controls",class:"text-blue-600"},null,512),[[le,j.value]]),t[71]||(t[71]=e("span",{class:"text-sm"},"Test of Controls Template",-1))]),e("label",Zo,[S(e("input",{type:"radio","onUpdate:modelValue":t[22]||(t[22]=l=>j.value=l),value:"substantive-test",class:"text-blue-600"},null,512),[[le,j.value]]),t[72]||(t[72]=e("span",{class:"text-sm"},"Substantive Test Template",-1))]),e("label",ea,[S(e("input",{type:"radio","onUpdate:modelValue":t[23]||(t[23]=l=>j.value=l),value:"analytical-review",class:"text-blue-600"},null,512),[[le,j.value]]),t[73]||(t[73]=e("span",{class:"text-sm"},"Analytical Review Template",-1))]),e("label",ta,[S(e("input",{type:"radio","onUpdate:modelValue":t[24]||(t[24]=l=>j.value=l),value:"summary-memo",class:"text-blue-600"},null,512),[[le,j.value]]),t[74]||(t[74]=e("span",{class:"text-sm"},"Summary Memo Template",-1))])])])]),actions:m(()=>[a(r(w),{variant:"ghost",onClick:t[25]||(t[25]=l=>N.value=!1)},{default:m(()=>[...t[76]||(t[76]=[y(" Cancel ",-1)])]),_:1}),a(r(w),{variant:"solid",onClick:Ie,disabled:!j.value},{default:m(()=>[...t[77]||(t[77]=[y(" Apply Template ",-1)])]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),a(r(ve),{modelValue:I.value,"onUpdate:modelValue":t[31]||(t[31]=l=>I.value=l),options:{title:"Bulk Actions"}},{"body-content":m(()=>[e("div",sa,[e("p",la," Apply bulk action to "+i(s.value.length)+" selected working papers: ",1),e("div",oa,[e("div",null,[t[78]||(t[78]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Update Status ",-1)),a(r(Me),{modelValue:v.value,"onUpdate:modelValue":t[27]||(t[27]=l=>v.value=l),options:r(o)},null,8,["modelValue","options"])]),e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Assign Reviewer ",-1)),a(r(Me),{modelValue:x.value,"onUpdate:modelValue":t[28]||(t[28]=l=>x.value=l),options:d.value},null,8,["modelValue","options"])]),e("div",aa,[a(r(oe),{modelValue:k.value,"onUpdate:modelValue":t[29]||(t[29]=l=>k.value=l)},null,8,["modelValue"]),t[80]||(t[80]=e("span",{class:"text-sm text-red-600"}," Delete selected working papers (this action cannot be undone) ",-1))])])])]),actions:m(()=>[a(r(w),{variant:"ghost",onClick:t[30]||(t[30]=l=>I.value=!1)},{default:m(()=>[...t[81]||(t[81]=[y(" Cancel ",-1)])]),_:1}),a(r(w),{variant:"solid",onClick:Qe,disabled:!v.value&&!x.value&&!k.value},{default:m(()=>[...t[82]||(t[82]=[y(" Apply Changes ",-1)])]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),a(r(ve),{modelValue:B.value,"onUpdate:modelValue":t[33]||(t[33]=l=>B.value=l),options:{title:"Review Capacity Planning"}},{"body-content":m(()=>[e("div",ra,[e("div",na,[e("div",ia,[t[83]||(t[83]=e("h4",{class:"font-medium text-purple-900"},"Papers Under Review",-1)),e("p",da,i(ne.value),1),t[84]||(t[84]=e("p",{class:"text-sm text-purple-700"},"Pending approval",-1))]),e("div",ua,[t[85]||(t[85]=e("h4",{class:"font-medium text-green-900"},"Review Capacity",-1)),e("p",pa,i(Math.max(0,50-ne.value)),1),t[86]||(t[86]=e("p",{class:"text-sm text-green-700"},"Available slots",-1))])]),e("div",ca,[t[87]||(t[87]=e("h4",{class:"font-medium"},"Reviewer Workload",-1)),e("div",ma,[(f(!0),b(Q,null,X(ie.value,l=>(f(),b("div",{key:l.name,class:"flex justify-between items-center p-2 bg-gray-50 rounded"},[e("span",va,i(l.name),1),e("div",ga,[e("div",fa,[e("div",{class:"bg-purple-600 h-2 rounded-full",style:fe({width:`${l.load}%`})},null,4)]),e("span",xa,i(l.load)+"%",1)])]))),128))])])])]),actions:m(()=>[a(r(w),{variant:"solid",onClick:t[32]||(t[32]=l=>B.value=!1)},{default:m(()=>[...t[88]||(t[88]=[y(" Close ",-1)])]),_:1})]),_:1},8,["modelValue"])]))}};export{$a as default};
//# sourceMappingURL=WorkingPapers-B_N0lMJW.js.map
