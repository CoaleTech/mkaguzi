{"version":3,"file":"WorkingPapers-B_N0lMJW.js","sources":["../../../../frontend/src/components/Common/FileUploader.vue","../../../../frontend/src/components/workingpaper/WorkingPaperSectionHeader.vue","../../../../frontend/src/components/workingpaper/WorkingPapersForm.vue","../../../../frontend/src/components/workingpaper/WorkingPapersStats.vue","../../../../frontend/src/pages/WorkingPapers.vue"],"sourcesContent":["<template>\n  <div class=\"w-full\">\n    <!-- Upload Area -->\n    <div\n      :class=\"[\n        'relative border-2 border-dashed rounded-lg p-6 transition-colors',\n        isDragOver ? 'border-blue-400 bg-blue-50' : 'border-gray-300 hover:border-gray-400',\n        disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'\n      ]\"\n      @dragover.prevent=\"isDragOver = true\"\n      @dragleave.prevent=\"isDragOver = false\"\n      @drop.prevent=\"handleDrop\"\n      @click=\"disabled ? null : $refs.fileInput.click()\"\n    >\n      <input\n        ref=\"fileInput\"\n        type=\"file\"\n        :multiple=\"multiple\"\n        :accept=\"accept\"\n        class=\"hidden\"\n        @change=\"handleFileSelect\"\n      />\n\n      <!-- Upload Content -->\n      <div class=\"text-center\">\n        <div class=\"flex justify-center mb-4\">\n          <div\n            :class=\"[\n              'rounded-full p-3',\n              isDragOver ? 'bg-blue-100' : 'bg-gray-100'\n            ]\"\n          >\n            <UploadIcon\n              :class=\"[\n                'h-8 w-8',\n                isDragOver ? 'text-blue-600' : 'text-gray-400'\n              ]\"\n            />\n          </div>\n        </div>\n\n        <div class=\"space-y-2\">\n          <p class=\"text-lg font-medium text-gray-900\">\n            {{ isDragOver ? 'Drop files here' : 'Upload files' }}\n          </p>\n          <p class=\"text-sm text-gray-500\">\n            {{ multiple ? 'Select multiple files' : 'Select a file' }} or drag and drop\n          </p>\n          <p v-if=\"accept\" class=\"text-xs text-gray-400\">\n            Accepted formats: {{ accept }}\n          </p>\n          <p v-if=\"maxSize\" class=\"text-xs text-gray-400\">\n            Maximum file size: {{ formatFileSize(maxSize) }}\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Selected Files -->\n    <div v-if=\"files.length > 0\" class=\"mt-4 space-y-2\">\n      <h4 class=\"text-sm font-medium text-gray-700\">Selected Files</h4>\n\n      <div\n        v-for=\"(file, index) in files\"\n        :key=\"index\"\n        class=\"flex items-center justify-between rounded-lg border border-gray-200 bg-white p-3\"\n      >\n        <div class=\"flex items-center space-x-3\">\n          <div class=\"flex-shrink-0\">\n            <FileIcon class=\"h-8 w-8 text-gray-400\" />\n          </div>\n          <div class=\"min-w-0 flex-1\">\n            <p class=\"text-sm font-medium text-gray-900 truncate\">\n              {{ file.name }}\n            </p>\n            <p class=\"text-xs text-gray-500\">\n              {{ formatFileSize(file.size) }}\n            </p>\n          </div>\n        </div>\n\n        <!-- File Status -->\n        <div class=\"flex items-center space-x-2\">\n          <!-- Progress Bar -->\n          <div v-if=\"file.status === 'uploading'\" class=\"flex-1 max-w-24\">\n            <div class=\"w-full bg-gray-200 rounded-full h-2\">\n              <div\n                class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                :style=\"{ width: `${file.progress || 0}%` }\"\n              ></div>\n            </div>\n          </div>\n\n          <!-- Status Icon -->\n          <div class=\"flex-shrink-0\">\n            <CheckCircleIcon\n              v-if=\"file.status === 'completed'\"\n              class=\"h-5 w-5 text-green-500\"\n            />\n            <XCircleIcon\n              v-if=\"file.status === 'error'\"\n              class=\"h-5 w-5 text-red-500\"\n            />\n            <LoaderIcon\n              v-if=\"file.status === 'uploading'\"\n              class=\"h-5 w-5 text-blue-500 animate-spin\"\n            />\n          </div>\n\n          <!-- Remove Button -->\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            @click=\"removeFile(index)\"\n            :disabled=\"file.status === 'uploading'\"\n          >\n            <XIcon class=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Upload Actions -->\n    <div v-if=\"files.length > 0\" class=\"mt-4 flex justify-end space-x-2\">\n      <Button variant=\"outline\" @click=\"clearAll\">\n        Clear All\n      </Button>\n      <Button\n        @click=\"uploadFiles\"\n        :disabled=\"!canUpload\"\n        :loading=\"isUploading\"\n      >\n        {{ uploadButtonText }}\n      </Button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { Button } from \"frappe-ui\"\nimport {\n\tCheckCircleIcon,\n\tFileIcon,\n\tLoaderIcon,\n\tUploadIcon,\n\tXCircleIcon,\n\tXIcon,\n} from \"lucide-vue-next\"\nimport { computed, ref } from \"vue\"\n\n// Props\nconst props = defineProps({\n\tmultiple: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\taccept: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tmaxSize: {\n\t\ttype: Number,\n\t\tdefault: 0, // in bytes, 0 means no limit\n\t},\n\tmaxFiles: {\n\t\ttype: Number,\n\t\tdefault: 0, // 0 means no limit\n\t},\n\tdisabled: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tuploadButtonText: {\n\t\ttype: String,\n\t\tdefault: \"Upload Files\",\n\t},\n\tautoUpload: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n})\n\n// Emits\nconst emit = defineEmits([\n\t\"files-selected\",\n\t\"file-removed\",\n\t\"upload-start\",\n\t\"upload-progress\",\n\t\"upload-complete\",\n\t\"upload-error\",\n])\n\n// Reactive state\nconst isDragOver = ref(false)\nconst files = ref([])\nconst isUploading = ref(false)\n\n// Computed properties\nconst canUpload = computed(() => {\n\treturn (\n\t\tfiles.value.length > 0 &&\n\t\tfiles.value.every((file) => file.status !== \"uploading\") &&\n\t\t!props.disabled\n\t)\n})\n\n// Methods\nconst handleFileSelect = (event) => {\n\tconst selectedFiles = Array.from(event.target.files)\n\taddFiles(selectedFiles)\n}\n\nconst handleDrop = (event) => {\n\tisDragOver.value = false\n\tconst droppedFiles = Array.from(event.dataTransfer.files)\n\taddFiles(droppedFiles)\n}\n\nconst addFiles = (newFiles) => {\n\tconst validFiles = []\n\n\tfor (const file of newFiles) {\n\t\t// Validate file\n\t\tconst validation = validateFile(file)\n\t\tif (validation.valid) {\n\t\t\tvalidFiles.push({\n\t\t\t\tfile,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type,\n\t\t\t\tstatus: \"pending\",\n\t\t\t\tprogress: 0,\n\t\t\t\terror: null,\n\t\t\t})\n\t\t} else {\n\t\t\t// Handle invalid file\n\t\t\temit(\"upload-error\", {\n\t\t\t\tfile,\n\t\t\t\terror: validation.error,\n\t\t\t})\n\t\t}\n\t}\n\n\t// Check max files limit\n\tif (\n\t\tprops.maxFiles > 0 &&\n\t\tfiles.value.length + validFiles.length > props.maxFiles\n\t) {\n\t\temit(\"upload-error\", {\n\t\t\terror: `Maximum ${props.maxFiles} files allowed`,\n\t\t})\n\t\treturn\n\t}\n\n\t// Add valid files\n\tif (props.multiple) {\n\t\tfiles.value.push(...validFiles)\n\t} else {\n\t\tfiles.value = validFiles.slice(0, 1)\n\t}\n\n\temit(\"files-selected\", files.value)\n\n\t// Auto upload if enabled\n\tif (props.autoUpload && validFiles.length > 0) {\n\t\tuploadFiles()\n\t}\n}\n\nconst validateFile = (file) => {\n\t// Check file size\n\tif (props.maxSize > 0 && file.size > props.maxSize) {\n\t\treturn {\n\t\t\tvalid: false,\n\t\t\terror: `File size exceeds maximum limit of ${formatFileSize(props.maxSize)}`,\n\t\t}\n\t}\n\n\t// Check file type\n\tif (props.accept) {\n\t\tconst acceptedTypes = props.accept.split(\",\").map((type) => type.trim())\n\t\tconst fileType = file.type.toLowerCase()\n\t\tconst fileName = file.name.toLowerCase()\n\n\t\tconst isAccepted = acceptedTypes.some((type) => {\n\t\t\tif (type.startsWith(\".\")) {\n\t\t\t\treturn fileName.endsWith(type)\n\t\t\t} else {\n\t\t\t\treturn fileType.includes(type.replace(\"*\", \"\"))\n\t\t\t}\n\t\t})\n\n\t\tif (!isAccepted) {\n\t\t\treturn {\n\t\t\t\tvalid: false,\n\t\t\t\terror: `File type not accepted. Accepted types: ${props.accept}`,\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { valid: true }\n}\n\nconst removeFile = (index) => {\n\tconst removedFile = files.value.splice(index, 1)[0]\n\temit(\"file-removed\", removedFile)\n}\n\nconst clearAll = () => {\n\tfiles.value = []\n\temit(\"files-selected\", [])\n}\n\nconst uploadFiles = async () => {\n\tif (!canUpload.value) return\n\n\tisUploading.value = true\n\temit(\"upload-start\", files.value)\n\n\ttry {\n\t\t// Upload each file\n\t\tfor (const fileItem of files.value) {\n\t\t\tif (fileItem.status === \"completed\") continue\n\n\t\t\tfileItem.status = \"uploading\"\n\t\t\tfileItem.progress = 0\n\n\t\t\ttry {\n\t\t\t\t// Simulate upload progress (replace with actual upload logic)\n\t\t\t\tawait simulateUpload(fileItem)\n\n\t\t\t\tfileItem.status = \"completed\"\n\t\t\t\tfileItem.progress = 100\n\n\t\t\t\temit(\"upload-progress\", {\n\t\t\t\t\tfile: fileItem,\n\t\t\t\t\tprogress: 100,\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tfileItem.status = \"error\"\n\t\t\t\tfileItem.error = error.message\n\n\t\t\t\temit(\"upload-error\", {\n\t\t\t\t\tfile: fileItem,\n\t\t\t\t\terror: error.message,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\temit(\"upload-complete\", files.value)\n\t} catch (error) {\n\t\temit(\"upload-error\", { error: error.message })\n\t} finally {\n\t\tisUploading.value = false\n\t}\n}\n\nconst simulateUpload = async (fileItem) => {\n\t// Simulate upload with progress\n\treturn new Promise((resolve, reject) => {\n\t\tlet progress = 0\n\t\tconst interval = setInterval(() => {\n\t\t\tprogress += Math.random() * 20\n\t\t\tif (progress >= 100) {\n\t\t\t\tprogress = 100\n\t\t\t\tclearInterval(interval)\n\t\t\t\tresolve()\n\t\t\t}\n\t\t\tfileItem.progress = Math.round(progress)\n\t\t\temit(\"upload-progress\", {\n\t\t\t\tfile: fileItem,\n\t\t\t\tprogress: fileItem.progress,\n\t\t\t})\n\t\t}, 200)\n\t})\n}\n\nconst formatFileSize = (bytes) => {\n\tif (bytes === 0) return \"0 Bytes\"\n\n\tconst k = 1024\n\tconst sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"]\n\tconst i = Math.floor(Math.log(bytes) / Math.log(k))\n\n\treturn Number.parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i]\n}\n</script>","<template>\n  <div class=\"flex items-center space-x-4 mb-6\">\n    <div class=\"flex-shrink-0\">\n      <div class=\"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center\">\n        <component :is=\"iconComponent\" class=\"h-6 w-6 text-purple-600\" />\n      </div>\n    </div>\n    <div class=\"flex-1\">\n      <div class=\"flex items-center space-x-3\">\n        <h3 class=\"text-xl font-bold text-gray-900\">{{ title }}</h3>\n        <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800\">\n          Step {{ step }}\n        </span>\n      </div>\n      <p class=\"text-gray-600 mt-1\">{{ description }}</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {\n\tCheckCircleIcon,\n\tClipboardListIcon,\n\tFileTextIcon,\n\tUsersIcon,\n} from \"lucide-vue-next\"\nimport { computed } from \"vue\"\n\n// Props\nconst props = defineProps({\n\ttitle: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tdescription: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\ticon: {\n\t\ttype: String,\n\t\tdefault: \"file-text\",\n\t},\n\tstep: {\n\t\ttype: [String, Number],\n\t\trequired: true,\n\t},\n})\n\n// Icon mapping\nconst iconComponent = computed(() => {\n\tconst icons = {\n\t\t\"file-text\": FileTextIcon,\n\t\t\"clipboard-list\": ClipboardListIcon,\n\t\tusers: UsersIcon,\n\t\t\"check-circle\": CheckCircleIcon,\n\t}\n\treturn icons[props.icon] || FileTextIcon\n})\n</script>","<template>\n  <Dialog\n    v-model=\"isOpen\"\n    :options=\"{\n      title: isEditMode ? 'Edit Working Paper' : 'Create New Working Paper',\n      size: 'full'\n    }\"\n  >\n    <template #body-content>\n      <div class=\"h-[80vh] flex\">\n        <!-- Progress Sidebar -->\n        <div class=\"w-64 bg-gray-50 border-r border-gray-200 flex-shrink-0 overflow-y-auto\">\n          <div class=\"p-5\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-4\">Form Sections</h4>\n            <nav class=\"space-y-1\">\n              <button\n                v-for=\"(section, index) in formSections\"\n                :key=\"section.id\"\n                @click=\"activeSection = section.id\"\n                class=\"w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg text-left transition-all\"\n                :class=\"[\n                  activeSection === section.id\n                    ? 'bg-purple-100 border border-purple-300 text-purple-800'\n                    : 'hover:bg-gray-100 text-gray-700'\n                ]\"\n              >\n                <div\n                  class=\"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold flex-shrink-0\"\n                  :class=\"getSectionStatusClass(section.id)\"\n                >\n                  <CheckIcon v-if=\"getSectionStatus(section.id) === 'complete'\" class=\"h-3 w-3\" />\n                  <span v-else>{{ index + 1 }}</span>\n                </div>\n                <div class=\"flex-1 min-w-0\">\n                  <div class=\"text-sm font-medium truncate\">{{ section.label }}</div>\n                  <div class=\"text-xs text-gray-500\">{{ section.description }}</div>\n                </div>\n              </button>\n            </nav>\n\n            <!-- Progress Summary -->\n            <div class=\"mt-6 p-4 bg-white rounded-lg border border-gray-200\">\n              <div class=\"flex items-center justify-between mb-2\">\n                <span class=\"text-sm font-medium text-gray-700\">Progress</span>\n                <span class=\"text-sm font-bold text-purple-600\">{{ formProgress }}%</span>\n              </div>\n              <div class=\"w-full bg-gray-200 rounded-full h-2\">\n                <div\n                  class=\"bg-purple-500 h-2 rounded-full transition-all duration-300\"\n                  :style=\"{ width: `${formProgress}%` }\"\n                ></div>\n              </div>\n              <p class=\"text-xs text-gray-500 mt-2\">\n                {{ completedSections }} of {{ formSections.length }} sections complete\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Main Form Content -->\n        <div class=\"flex-1 overflow-y-auto\">\n          <div class=\"p-6 max-w-5xl mx-auto\">\n            <!-- Section: Basic Information -->\n            <div v-show=\"activeSection === 'basic'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Basic Information\"\n                description=\"Essential working paper details and identification\"\n                icon=\"file-text\"\n                step=\"1\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <!-- Working Paper ID -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Working Paper ID <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      v-model=\"form.working_paper_id\"\n                      type=\"text\"\n                      placeholder=\"Auto-generated if left blank\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition\"\n                      :class=\"errors.working_paper_id ? 'border-red-300' : 'border-gray-300'\"\n                    />\n                    <p v-if=\"errors.working_paper_id\" class=\"mt-1 text-xs text-red-500\">{{ errors.working_paper_id }}</p>\n                    <p v-else class=\"mt-1 text-xs text-gray-500\">Format: WP-YYYY-XXX</p>\n                  </div>\n\n                  <!-- Status -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Review Status <span class=\"text-red-500\">*</span>\n                    </label>\n                    <select\n                      v-model=\"form.review_status\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    >\n                      <option v-for=\"opt in reviewStatusOptions\" :key=\"opt.value\" :value=\"opt.value\">\n                        {{ opt.label }}\n                      </option>\n                    </select>\n                  </div>\n\n                  <!-- Type -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Type <span class=\"text-red-500\">*</span>\n                    </label>\n                    <select\n                      v-model=\"form.wp_type\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition\"\n                      :class=\"errors.wp_type ? 'border-red-300' : 'border-gray-300'\"\n                    >\n                      <option value=\"\">Select type</option>\n                      <option v-for=\"opt in wpTypeOptions\" :key=\"opt.value\" :value=\"opt.value\">\n                        {{ opt.label }}\n                      </option>\n                    </select>\n                    <p v-if=\"errors.wp_type\" class=\"mt-1 text-xs text-red-500\">{{ errors.wp_type }}</p>\n                  </div>\n                </div>\n\n                <!-- Title -->\n                <div class=\"mt-6\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Title <span class=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    v-model=\"form.wp_title\"\n                    type=\"text\"\n                    placeholder=\"Enter working paper title\"\n                    class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition\"\n                    :class=\"errors.wp_title ? 'border-red-300' : 'border-gray-300'\"\n                  />\n                  <p v-if=\"errors.wp_title\" class=\"mt-1 text-xs text-red-500\">{{ errors.wp_title }}</p>\n                </div>\n\n                <!-- Reference Number -->\n                <div class=\"mt-6\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Reference Number\n                  </label>\n                  <input\n                    v-model=\"form.wp_reference_no\"\n                    type=\"text\"\n                    placeholder=\"REF-001\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <!-- References Row -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\n                  <!-- Engagement Reference -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Engagement Reference <span class=\"text-red-500\">*</span>\n                    </label>\n                    <LinkField\n                      v-model=\"form.engagement_reference\"\n                      doctype=\"Audit Engagement\"\n                      placeholder=\"Select audit engagement\"\n                      :required=\"true\"\n                      :error=\"errors.engagement_reference\"\n                    />\n                  </div>\n\n                  <!-- Procedure Reference -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Procedure Reference\n                    </label>\n                    <LinkField\n                      v-model=\"form.procedure_reference\"\n                      doctype=\"Audit Procedure\"\n                      placeholder=\"Link to audit procedure\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Content & Work Performed -->\n            <div v-show=\"activeSection === 'content'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Content & Work Performed\"\n                description=\"Document the work performed and findings\"\n                icon=\"clipboard-list\"\n                step=\"2\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Work Performed -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Work Performed <span class=\"text-red-500\">*</span>\n                  </label>\n                  <textarea\n                    v-model=\"form.work_performed\"\n                    rows=\"6\"\n                    placeholder=\"Describe the work performed, procedures followed, and methodology used...\"\n                    class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition\"\n                    :class=\"errors.work_performed ? 'border-red-300' : 'border-gray-300'\"\n                  ></textarea>\n                  <p v-if=\"errors.work_performed\" class=\"mt-1 text-xs text-red-500\">{{ errors.work_performed }}</p>\n                </div>\n\n                <!-- Objective -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Objective\n                  </label>\n                  <textarea\n                    v-model=\"form.objective\"\n                    rows=\"3\"\n                    placeholder=\"What was the objective of this working paper?\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n\n                <!-- Scope -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Scope\n                  </label>\n                  <textarea\n                    v-model=\"form.scope\"\n                    rows=\"3\"\n                    placeholder=\"Define the scope and boundaries of this working paper...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Assignment & Timeline -->\n            <div v-show=\"activeSection === 'assignment'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Assignment & Timeline\"\n                description=\"Assign team members and track progress\"\n                icon=\"users\"\n                step=\"3\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Assignment Row -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <!-- Prepared By -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Prepared By <span class=\"text-red-500\">*</span>\n                    </label>\n                    <LinkField\n                      v-model=\"form.prepared_by\"\n                      doctype=\"User\"\n                      :filters=\"{ enabled: 1 }\"\n                      placeholder=\"Select preparer\"\n                      :required=\"true\"\n                      :error=\"errors.prepared_by\"\n                    />\n                  </div>\n\n                  <!-- Reviewed By -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Reviewed By\n                    </label>\n                    <LinkField\n                      v-model=\"form.reviewed_by\"\n                      doctype=\"User\"\n                      :filters=\"{ enabled: 1 }\"\n                      placeholder=\"Select reviewer\"\n                    />\n                  </div>\n                </div>\n\n                <!-- Dates Row -->\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <!-- Preparation Date -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Preparation Date <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      v-model=\"form.preparation_date\"\n                      type=\"date\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                      :class=\"errors.preparation_date ? 'border-red-300' : 'border-gray-300'\"\n                    />\n                    <p v-if=\"errors.preparation_date\" class=\"mt-1 text-xs text-red-500\">{{ errors.preparation_date }}</p>\n                  </div>\n\n                  <!-- Review Date -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Review Date\n                    </label>\n                    <input\n                      v-model=\"form.review_date\"\n                      type=\"date\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    />\n                  </div>\n\n                  <!-- Due Date -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Due Date\n                    </label>\n                    <input\n                      v-model=\"form.due_date\"\n                      type=\"date\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Quality & Documentation -->\n            <div v-show=\"activeSection === 'quality'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Quality Control & Documentation\"\n                description=\"Quality assessment and documentation references\"\n                icon=\"check-circle\"\n                step=\"4\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Quality Assessment -->\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <!-- Quality Score -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Quality Score\n                    </label>\n                    <select\n                      v-model=\"form.quality_score\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    >\n                      <option value=\"\">Select score</option>\n                      <option value=\"1\">1 - Poor</option>\n                      <option value=\"2\">2 - Below Average</option>\n                      <option value=\"3\">3 - Average</option>\n                      <option value=\"4\">4 - Good</option>\n                      <option value=\"5\">5 - Excellent</option>\n                    </select>\n                  </div>\n\n                  <!-- Review Comments -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Review Comments\n                    </label>\n                    <textarea\n                      v-model=\"form.review_comments\"\n                      rows=\"3\"\n                      placeholder=\"Reviewer feedback and comments...\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    ></textarea>\n                  </div>\n                </div>\n\n                <!-- Documentation References -->\n                <div class=\"border-t border-gray-200 pt-6\">\n                  <h4 class=\"text-sm font-semibold text-gray-900 mb-4\">Documentation References</h4>\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <!-- Supporting Documents -->\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                        Supporting Documents\n                      </label>\n                      <textarea\n                        v-model=\"form.supporting_documents\"\n                        rows=\"3\"\n                        placeholder=\"List supporting documents, references, and evidence...\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                      ></textarea>\n                    </div>\n\n                    <!-- File Attachments -->\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                        File Attachments\n                      </label>\n                      <FileUploader\n                        v-model=\"form.attachments\"\n                        :multiple=\"true\"\n                        accept=\".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png\"\n                        placeholder=\"Upload working paper files\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Additional Notes -->\n                <div class=\"border-t border-gray-200 pt-6\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Additional Notes\n                  </label>\n                  <textarea\n                    v-model=\"form.notes\"\n                    rows=\"3\"\n                    placeholder=\"Any additional notes or observations...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <template #actions>\n      <div class=\"flex items-center justify-between w-full\">\n        <!-- Left: Status and Navigation -->\n        <div class=\"flex items-center space-x-4\">\n          <div class=\"flex items-center space-x-2\">\n            <div\n              class=\"w-3 h-3 rounded-full\"\n              :class=\"isFormValid ? 'bg-green-500' : 'bg-amber-500'\"\n            ></div>\n            <span class=\"text-sm font-medium\" :class=\"isFormValid ? 'text-green-700' : 'text-amber-700'\">\n              {{ isFormValid ? 'Ready to save' : 'Complete required fields' }}\n            </span>\n          </div>\n\n          <!-- Section Navigation -->\n          <div class=\"flex items-center space-x-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              :disabled=\"currentSectionIndex === 0\"\n              @click=\"goToPreviousSection\"\n            >\n              <ChevronLeftIcon class=\"h-4 w-4 mr-1\" />\n              Previous\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              :disabled=\"currentSectionIndex === formSections.length - 1\"\n              @click=\"goToNextSection\"\n            >\n              Next\n              <ChevronRightIcon class=\"h-4 w-4 ml-1\" />\n            </Button>\n          </div>\n        </div>\n\n        <!-- Right: Action Buttons -->\n        <div class=\"flex items-center space-x-3\">\n          <Button variant=\"outline\" @click=\"handleCancel\" :disabled=\"isSaving\">\n            Cancel\n          </Button>\n          <Button\n            v-if=\"!isEditMode\"\n            variant=\"outline\"\n            theme=\"gray\"\n            @click=\"saveAsDraft\"\n            :loading=\"isSavingDraft\"\n            :disabled=\"isSaving\"\n          >\n            Save as Draft\n          </Button>\n          <Button\n            variant=\"solid\"\n            theme=\"purple\"\n            @click=\"handleSubmit\"\n            :loading=\"isSaving\"\n          >\n            <template #prefix>\n              <PlusIcon v-if=\"!isEditMode\" class=\"h-4 w-4\" />\n              <CheckIcon v-else class=\"h-4 w-4\" />\n            </template>\n            {{ isEditMode ? 'Update Working Paper' : 'Create Working Paper' }}\n          </Button>\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { Button, Dialog } from \"frappe-ui\"\nimport {\n\tCheckCircleIcon,\n\tCheckIcon,\n\tChevronLeftIcon,\n\tChevronRightIcon,\n\tClipboardListIcon,\n\tFileTextIcon,\n\tPlusIcon,\n\tUsersIcon,\n} from \"lucide-vue-next\"\nimport { computed, onMounted, reactive, ref, watch } from \"vue\"\n\n// Import custom components\nimport FileUploader from \"@/components/Common/FileUploader.vue\"\nimport LinkField from \"@/components/Common/fields/LinkField.vue\"\nimport SectionHeader from \"@/components/workingpaper/WorkingPaperSectionHeader.vue\"\n\n// Props\nconst props = defineProps({\n\tmodelValue: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tworkingPaper: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n})\n\n// Emits\nconst emit = defineEmits([\n\t\"update:modelValue\",\n\t\"created\",\n\t\"updated\",\n\t\"cancelled\",\n])\n\n// Dialog visibility\nconst isOpen = computed({\n\tget: () => props.modelValue,\n\tset: (val) => emit(\"update:modelValue\", val),\n})\n\n// Edit mode detection\nconst isEditMode = computed(() => !!props.workingPaper?.name)\n\n// Form Sections\nconst formSections = [\n\t{\n\t\tid: \"basic\",\n\t\tlabel: \"Basic Information\",\n\t\tdescription: \"Core details\",\n\t\ticon: \"file-text\",\n\t},\n\t{\n\t\tid: \"content\",\n\t\tlabel: \"Content & Work\",\n\t\tdescription: \"Documentation\",\n\t\ticon: \"clipboard-list\",\n\t},\n\t{\n\t\tid: \"assignment\",\n\t\tlabel: \"Assignment\",\n\t\tdescription: \"Team & timeline\",\n\t\ticon: \"users\",\n\t},\n\t{\n\t\tid: \"quality\",\n\t\tlabel: \"Quality Control\",\n\t\tdescription: \"Review & docs\",\n\t\ticon: \"check-circle\",\n\t},\n]\n\nconst activeSection = ref(\"basic\")\n\n// Form State\nconst form = reactive({\n\t// Basic Information\n\tworking_paper_id: \"\",\n\twp_title: \"\",\n\twp_reference_no: \"\",\n\twp_type: \"\",\n\tengagement_reference: \"\",\n\tprocedure_reference: \"\",\n\n\t// Content & Work Performed\n\twork_performed: \"\",\n\tobjective: \"\",\n\tscope: \"\",\n\n\t// Assignment & Timeline\n\tprepared_by: \"\",\n\treviewed_by: \"\",\n\tpreparation_date: \"\",\n\treview_date: \"\",\n\tdue_date: \"\",\n\treview_status: \"Not Reviewed\",\n\n\t// Quality & Documentation\n\tquality_score: \"\",\n\treview_comments: \"\",\n\tsupporting_documents: \"\",\n\tattachments: [],\n\tnotes: \"\",\n})\n\nconst errors = reactive({})\nconst isSaving = ref(false)\nconst isSavingDraft = ref(false)\n\n// Options\nconst reviewStatusOptions = [\n\t{ label: \"Not Reviewed\", value: \"Not Reviewed\" },\n\t{ label: \"Under Review\", value: \"Under Review\" },\n\t{ label: \"Review Complete\", value: \"Review Complete\" },\n\t{ label: \"Revision Required\", value: \"Revision Required\" },\n]\n\nconst wpTypeOptions = [\n\t{ label: \"Planning Memo\", value: \"Planning Memo\" },\n\t{ label: \"Risk Assessment\", value: \"Risk Assessment\" },\n\t{ label: \"Walkthrough\", value: \"Walkthrough\" },\n\t{ label: \"Test of Controls\", value: \"Test of Controls\" },\n\t{ label: \"Substantive Test\", value: \"Substantive Test\" },\n\t{ label: \"Analytical Review\", value: \"Analytical Review\" },\n\t{ label: \"Data Analytics\", value: \"Data Analytics\" },\n\t{ label: \"Summary\", value: \"Summary\" },\n\t{ label: \"Other\", value: \"Other\" },\n]\n\n// Computed Properties\nconst currentSectionIndex = computed(() =>\n\tformSections.findIndex((s) => s.id === activeSection.value),\n)\n\nconst getSectionStatus = (sectionId) => {\n\tswitch (sectionId) {\n\t\tcase \"basic\":\n\t\t\treturn form.wp_title && form.wp_type && form.engagement_reference\n\t\t\t\t? \"complete\"\n\t\t\t\t: form.wp_title || form.wp_type\n\t\t\t\t\t? \"partial\"\n\t\t\t\t\t: \"incomplete\"\n\t\tcase \"content\":\n\t\t\treturn form.work_performed ? \"complete\" : \"incomplete\"\n\t\tcase \"assignment\":\n\t\t\treturn form.prepared_by && form.preparation_date\n\t\t\t\t? \"complete\"\n\t\t\t\t: form.prepared_by || form.preparation_date\n\t\t\t\t\t? \"partial\"\n\t\t\t\t\t: \"incomplete\"\n\t\tcase \"quality\":\n\t\t\treturn \"complete\" // Optional section\n\t\tdefault:\n\t\t\treturn \"incomplete\"\n\t}\n}\n\nconst getSectionStatusClass = (sectionId) => {\n\tconst status = getSectionStatus(sectionId)\n\tif (status === \"complete\") return \"bg-purple-500 text-white\"\n\tif (status === \"partial\") return \"bg-amber-500 text-white\"\n\treturn \"bg-gray-300 text-gray-600\"\n}\n\nconst completedSections = computed(\n\t() =>\n\t\tformSections.filter((s) => getSectionStatus(s.id) === \"complete\").length,\n)\n\nconst formProgress = computed(() =>\n\tMath.round((completedSections.value / formSections.length) * 100),\n)\n\nconst isFormValid = computed(() => {\n\treturn !!(\n\t\tform.wp_title &&\n\t\tform.wp_type &&\n\t\tform.engagement_reference &&\n\t\tform.work_performed &&\n\t\tform.prepared_by &&\n\t\tform.preparation_date\n\t)\n})\n\n// Methods\nconst goToPreviousSection = () => {\n\tconst idx = currentSectionIndex.value\n\tif (idx > 0) {\n\t\tactiveSection.value = formSections[idx - 1].id\n\t}\n}\n\nconst goToNextSection = () => {\n\tconst idx = currentSectionIndex.value\n\tif (idx < formSections.length - 1) {\n\t\tactiveSection.value = formSections[idx + 1].id\n\t}\n}\n\nconst validateForm = () => {\n\tconst errs = {}\n\n\t// Required fields validation\n\tif (!form.wp_title) errs.wp_title = \"Working paper title is required\"\n\tif (!form.wp_type) errs.wp_type = \"Type is required\"\n\tif (!form.engagement_reference)\n\t\terrs.engagement_reference = \"Engagement reference is required\"\n\tif (!form.work_performed) errs.work_performed = \"Work performed is required\"\n\tif (!form.prepared_by) errs.prepared_by = \"Prepared by is required\"\n\tif (!form.preparation_date)\n\t\terrs.preparation_date = \"Preparation date is required\"\n\n\tObject.assign(errors, errs)\n\treturn Object.keys(errs).length === 0\n}\n\nconst prepareFormData = () => {\n\treturn {\n\t\t...form,\n\t\t// Ensure arrays are properly formatted\n\t\tattachments: Array.isArray(form.attachments) ? form.attachments : [],\n\t}\n}\n\nconst handleSubmit = async () => {\n\tif (!validateForm()) {\n\t\t// Navigate to the first section with errors\n\t\tconst firstErrorSection = formSections.find((s) => {\n\t\t\tconst status = getSectionStatus(s.id)\n\t\t\treturn status !== \"complete\"\n\t\t})\n\t\tif (firstErrorSection) {\n\t\t\tactiveSection.value = firstErrorSection.id\n\t\t}\n\t\treturn\n\t}\n\n\ttry {\n\t\tisSaving.value = true\n\t\tconst formData = prepareFormData()\n\n\t\tif (isEditMode.value) {\n\t\t\temit(\"updated\", { ...formData, name: props.workingPaper.name })\n\t\t} else {\n\t\t\temit(\"created\", formData)\n\t\t}\n\n\t\tisOpen.value = false\n\t} catch (error) {\n\t\tconsole.error(\"Error saving working paper:\", error)\n\t} finally {\n\t\tisSaving.value = false\n\t}\n}\n\nconst saveAsDraft = async () => {\n\ttry {\n\t\tisSavingDraft.value = true\n\t\tconst formData = prepareFormData()\n\t\temit(\"created\", { ...formData, review_status: \"Not Reviewed\" })\n\t\tisOpen.value = false\n\t} catch (error) {\n\t\tconsole.error(\"Error saving draft:\", error)\n\t} finally {\n\t\tisSavingDraft.value = false\n\t}\n}\n\nconst handleCancel = () => {\n\temit(\"cancelled\")\n\tisOpen.value = false\n}\n\nconst resetForm = () => {\n\tObject.keys(form).forEach((key) => {\n\t\tif (Array.isArray(form[key])) {\n\t\t\tform[key] = []\n\t\t} else if (typeof form[key] === \"number\") {\n\t\t\tform[key] = null\n\t\t} else {\n\t\t\tform[key] = \"\"\n\t\t}\n\t})\n\tform.review_status = \"Not Reviewed\"\n\tObject.keys(errors).forEach((key) => delete errors[key])\n\tactiveSection.value = \"basic\"\n}\n\nconst loadWorkingPaperData = (workingPaper) => {\n\tif (!workingPaper) return\n\n\tObject.keys(form).forEach((key) => {\n\t\tif (workingPaper[key] !== undefined) {\n\t\t\tform[key] = workingPaper[key]\n\t\t}\n\t})\n}\n\n// Watchers\nwatch(\n\t() => props.modelValue,\n\t(newVal) => {\n\t\tif (newVal) {\n\t\t\tif (props.workingPaper) {\n\t\t\t\tloadWorkingPaperData(props.workingPaper)\n\t\t\t} else {\n\t\t\t\tresetForm()\n\t\t\t}\n\t\t}\n\t},\n)\n\nwatch(\n\t() => props.workingPaper,\n\t(newVal) => {\n\t\tif (newVal && props.modelValue) {\n\t\t\tloadWorkingPaperData(newVal)\n\t\t}\n\t},\n\t{ deep: true },\n)\n</script>","<template>\n  <div class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-4\">\n    <!-- Total Working Papers Card -->\n    <div class=\"bg-purple-50 rounded-xl border border-purple-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Total Papers</p>\n          <p class=\"text-3xl font-bold text-purple-900 mt-1\">{{ totalWorkingPapers }}</p>\n          <p class=\"text-xs text-purple-600 mt-1\">Active documentation</p>\n        </div>\n        <div class=\"p-3 bg-purple-500 rounded-xl shadow-sm\">\n          <FileTextIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Review Complete Card -->\n    <div class=\"bg-green-50 rounded-xl border border-green-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Review Complete</p>\n          <p class=\"text-3xl font-bold text-green-900 mt-1\">{{ reviewCompleteCount }}</p>\n          <p class=\"text-xs text-green-600 mt-1\">{{ ((reviewCompleteCount / Math.max(totalWorkingPapers, 1)) * 100).toFixed(0) }}% of total</p>\n        </div>\n        <div class=\"p-3 bg-green-500 rounded-xl shadow-sm\">\n          <CheckCircleIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Under Review Card -->\n    <div class=\"bg-yellow-50 rounded-xl border border-yellow-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-yellow-700 uppercase tracking-wide\">Under Review</p>\n          <p class=\"text-3xl font-bold text-yellow-900 mt-1\">{{ underReviewCount }}</p>\n          <p class=\"text-xs text-yellow-600 mt-1\">Pending approval</p>\n        </div>\n        <div class=\"p-3 bg-yellow-500 rounded-xl shadow-sm\">\n          <ClockIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Revision Required Card -->\n    <div class=\"bg-red-50 rounded-xl border border-red-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-red-700 uppercase tracking-wide\">Revision Required</p>\n          <p class=\"text-3xl font-bold text-red-900 mt-1\">{{ revisionRequiredCount }}</p>\n          <p class=\"text-xs text-red-600 mt-1\">Needs updates</p>\n        </div>\n        <div class=\"p-3 bg-red-500 rounded-xl shadow-sm\">\n          <AlertTriangleIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Average Review Time Card -->\n    <div class=\"bg-blue-50 rounded-xl border border-blue-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Avg. Review Time</p>\n          <p class=\"text-3xl font-bold text-blue-900 mt-1\">{{ averageReviewTime }} days</p>\n          <div class=\"w-full bg-blue-200 rounded-full h-2 mt-2\">\n            <div\n              class=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n              :style=\"{ width: `${Math.min((averageReviewTime / 14) * 100, 100)}%` }\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"p-3 bg-blue-500 rounded-xl shadow-sm\">\n          <BarChartIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Quality Score Card -->\n    <div class=\"bg-indigo-50 rounded-xl border border-indigo-200 p-6 hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-indigo-700 uppercase tracking-wide\">Quality Score</p>\n          <p class=\"text-3xl font-bold text-indigo-900 mt-1\">{{ averageQualityScore }}%</p>\n          <p class=\"text-xs text-indigo-600 mt-1\">Scored papers</p>\n        </div>\n        <div class=\"p-3 bg-indigo-500 rounded-xl shadow-sm\">\n          <BarChart3Icon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {\n\tAlertTriangleIcon,\n\tBarChart3Icon,\n\tBarChartIcon,\n\tCheckCircleIcon,\n\tClockIcon,\n\tFileTextIcon,\n} from \"lucide-vue-next\"\nimport { computed } from \"vue\"\n\n// Props\nconst props = defineProps({\n\tworkingPapers: {\n\t\ttype: Array,\n\t\tdefault: () => [],\n\t},\n})\n\n// Computed properties\nconst totalWorkingPapers = computed(() => props.workingPapers.length)\n\nconst reviewCompleteCount = computed(\n\t() =>\n\t\tprops.workingPapers.filter(\n\t\t\t(paper) => paper.review_status === \"Review Complete\",\n\t\t).length,\n)\n\nconst underReviewCount = computed(\n\t() =>\n\t\tprops.workingPapers.filter(\n\t\t\t(paper) => paper.review_status === \"Under Review\",\n\t\t).length,\n)\n\nconst revisionRequiredCount = computed(\n\t() =>\n\t\tprops.workingPapers.filter(\n\t\t\t(paper) => paper.review_status === \"Revision Required\",\n\t\t).length,\n)\n\nconst averageReviewTime = computed(() => {\n\tconst reviewedPapers = props.workingPapers.filter(\n\t\t(paper) => paper.review_date && paper.preparation_date,\n\t)\n\tif (reviewedPapers.length === 0) return 0\n\n\tconst totalDays = reviewedPapers.reduce((sum, paper) => {\n\t\tconst prepDate = new Date(paper.preparation_date)\n\t\tconst reviewDate = new Date(paper.review_date)\n\t\tconst diffTime = Math.abs(reviewDate - prepDate)\n\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\t\treturn sum + diffDays\n\t}, 0)\n\n\treturn Math.round(totalDays / reviewedPapers.length)\n})\n\nconst averageQualityScore = computed(() => {\n\tconst scoredPapers = props.workingPapers.filter(\n\t\t(paper) => paper.quality_score,\n\t)\n\tif (scoredPapers.length === 0) return 0\n\n\tconst totalScore = scoredPapers.reduce(\n\t\t(sum, paper) => sum + (paper.quality_score || 0),\n\t\t0,\n\t)\n\treturn Math.round(totalScore / scoredPapers.length)\n})\n</script>","<template>\n  <div class=\"space-y-6\">\n    <!-- Page Header with Enhanced Actions -->\n    <div class=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\n      <div>\n        <div class=\"flex items-center space-x-3\">\n          <div class=\"p-2 bg-purple-100 rounded-lg\">\n            <FileTextIcon class=\"h-6 w-6 text-purple-600\" />\n          </div>\n          <div>\n            <h1 class=\"text-2xl font-bold text-gray-900\">Working Papers</h1>\n            <p class=\"text-gray-600 mt-1\">\n              Manage audit working papers and documentation with advanced tracking\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"flex flex-wrap items-center gap-3\">\n        <!-- Action Buttons -->\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n            @click=\"exportWorkingPapers\"\n            :loading=\"exporting\"\n          >\n            <template #prefix>\n              <DownloadIcon class=\"h-3.5 w-3.5\" />\n            </template>\n            Export\n          </Button>\n        </div>\n\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n            @click=\"showTemplateModal = true\"\n          >\n            <template #prefix>\n              <FileTextIcon class=\"h-3.5 w-3.5\" />\n            </template>\n            Templates\n          </Button>\n        </div>\n\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n            @click=\"refreshData\"\n            :loading=\"loading\"\n          >\n            <template #prefix>\n              <RefreshCwIcon class=\"h-3.5 w-3.5\" />\n            </template>\n            Refresh\n          </Button>\n        </div>\n\n        <div class=\"p-1\">\n          <Button\n            variant=\"solid\"\n            theme=\"purple\"\n            size=\"sm\"\n            @click=\"createNewWorkingPaper\"\n          >\n            <template #prefix>\n              <PlusIcon class=\"h-3.5 w-3.5\" />\n            </template>\n            New Working Paper\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Enhanced Stats Dashboard -->\n    <WorkingPapersStats :working-papers=\"workingPapers\" />\n\n    <!-- Quick Actions Bar -->\n    <div class=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n      <div class=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n        <!-- Left Section: Search and Filters -->\n        <div class=\"flex flex-col sm:flex-row gap-4 flex-1\">\n          <!-- Search Input -->\n          <div class=\"relative flex-1 max-w-md\">\n            <SearchIcon class=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n            <input\n              v-model=\"filters.search\"\n              type=\"text\"\n              placeholder=\"Search working papers...\"\n              class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            />\n          </div>\n\n          <!-- Filters -->\n          <div class=\"flex gap-2\">\n            <select\n              v-model=\"filters.engagement\"\n              class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Engagements</option>\n              <option v-for=\"engagement in auditStore.engagements\" :key=\"engagement.name\" :value=\"engagement.name\">\n                {{ engagement.engagement_title }}\n              </option>\n            </select>\n\n            <select\n              v-model=\"filters.type\"\n              class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Types</option>\n              <option value=\"Planning Memo\">Planning Memo</option>\n              <option value=\"Risk Assessment\">Risk Assessment</option>\n              <option value=\"Walkthrough\">Walkthrough</option>\n              <option value=\"Test of Controls\">Test of Controls</option>\n              <option value=\"Substantive Test\">Substantive Test</option>\n              <option value=\"Analytical Review\">Analytical Review</option>\n              <option value=\"Data Analytics\">Data Analytics</option>\n              <option value=\"Summary\">Summary</option>\n              <option value=\"Other\">Other</option>\n            </select>\n\n            <select\n              v-model=\"filters.status\"\n              class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Status</option>\n              <option value=\"Not Reviewed\">Not Reviewed</option>\n              <option value=\"Under Review\">Under Review</option>\n              <option value=\"Review Complete\">Review Complete</option>\n              <option value=\"Revision Required\">Revision Required</option>\n            </select>\n\n            <select\n              v-model=\"filters.preparedBy\"\n              class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Preparers</option>\n              <option v-for=\"preparer in Array.from(new Set(workingPapers.map(p => p.prepared_by).filter(Boolean)))\" :key=\"preparer\" :value=\"preparer\">\n                {{ preparer }}\n              </option>\n            </select>\n\n            <select\n              v-model=\"filters.reviewer\"\n              class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n            >\n              <option value=\"\">All Reviewers</option>\n              <option v-for=\"reviewer in Array.from(new Set(workingPapers.map(p => p.reviewed_by).filter(Boolean)))\" :key=\"reviewer\" :value=\"reviewer\">\n                {{ reviewer }}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <!-- Right Section: View Toggle and Actions -->\n        <div class=\"flex items-center gap-3\">\n          <!-- View Mode Toggle -->\n          <div class=\"flex items-center bg-gray-100 rounded-lg p-1\">\n            <button\n              @click=\"viewMode = 'table'\"\n              :class=\"[\n                'px-3 py-1.5 rounded-md text-sm font-medium transition-colors',\n                viewMode === 'table'\n                  ? 'bg-white text-purple-700 shadow-sm'\n                  : 'text-gray-600 hover:text-gray-900'\n              ]\"\n            >\n              <TableIcon class=\"h-4 w-4 inline mr-1\" />\n              Table\n            </button>\n            <button\n              @click=\"viewMode = 'cards'\"\n              :class=\"[\n                'px-3 py-1.5 rounded-md text-sm font-medium transition-colors',\n                viewMode === 'cards'\n                  ? 'bg-white text-purple-700 shadow-sm'\n                  : 'text-gray-600 hover:text-gray-900'\n              ]\"\n            >\n              <GridIcon class=\"h-4 w-4 inline mr-1\" />\n              Cards\n            </button>\n          </div>\n\n          <!-- Action Buttons -->\n          <Button\n            @click=\"showTemplatesModal = true\"\n            variant=\"outline\"\n            class=\"flex items-center gap-2\"\n          >\n            <FileTextIcon class=\"h-4 w-4\" />\n            Templates\n          </Button>\n\n          <Button\n            @click=\"showBulkActionsModal = true\"\n            variant=\"outline\"\n            class=\"flex items-center gap-2\"\n            :disabled=\"selectedPapers.length === 0\"\n          >\n            <LayersIcon class=\"h-4 w-4\" />\n            Bulk Actions\n          </Button>\n\n          <Button\n            @click=\"showCapacityModal = true\"\n            variant=\"solid\"\n            class=\"flex items-center gap-2 bg-purple-600 hover:bg-purple-700\"\n          >\n            <BarChart3Icon class=\"h-4 w-4\" />\n            Capacity\n          </Button>\n\n          <Button\n            @click=\"createNewWorkingPaper\"\n            variant=\"solid\"\n            class=\"flex items-center gap-2 bg-purple-600 hover:bg-purple-700\"\n          >\n            <PlusIcon class=\"h-4 w-4\" />\n            New Paper\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content Area -->\n    <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden\">\n      <!-- Header Controls -->\n      <div class=\"px-6 py-4 border-b border-gray-200 bg-gray-50\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center space-x-3\">\n            <Checkbox\n              :modelValue=\"selectAllPapers\"\n              @update:modelValue=\"toggleSelectAllPapers\"\n            />\n            <span class=\"text-sm font-medium text-gray-700\">\n              {{ selectedPapers.length }} of {{ filteredWorkingPapers.length }} selected\n            </span>\n          </div>\n          <div class=\"flex items-center space-x-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              @click=\"sortBy = sortBy === 'preparation_date' ? 'wp_title' : 'preparation_date'\"\n            >\n              <ArrowUpDownIcon class=\"h-4 w-4 mr-2\" />\n              Sort by {{ sortBy === 'preparation_date' ? 'Title' : 'Date' }}\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Table View -->\n      <div v-if=\"viewMode === 'table'\">\n        <!-- Table Content -->\n        <div class=\"overflow-x-auto\">\n          <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  <Checkbox\n                    :modelValue=\"selectAllPapers\"\n                    @update:modelValue=\"toggleSelectAllPapers\"\n                  />\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  WP ID\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Title\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Type\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Engagement\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Prepared By\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Date\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n              <tr\n                v-for=\"paper in paginatedPapers\"\n                :key=\"paper.name\"\n                class=\"hover:bg-gray-50 transition-colors\"\n                :class=\"{ 'bg-purple-50': selectedPapers.includes(paper.name) }\"\n              >\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <Checkbox\n                    :modelValue=\"selectedPapers.includes(paper.name)\"\n                    @update:modelValue=\"togglePaperSelection(paper.name)\"\n                  />\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"flex items-center\">\n                    <div class=\"flex-shrink-0 h-10 w-10\">\n                      <div class=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center\">\n                        <FileTextIcon class=\"h-5 w-5 text-gray-600\" />\n                      </div>\n                    </div>\n                    <div class=\"ml-4\">\n                      <div class=\"text-sm font-medium text-gray-900\">\n                        {{ paper.working_paper_id }}\n                      </div>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"text-sm font-medium text-gray-900\">\n                    {{ paper.wp_title || 'Untitled' }}\n                  </div>\n                  <div class=\"text-sm text-gray-500\">\n                    {{ paper.wp_reference_no || 'No reference' }}\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <Badge :theme=\"getTypeTheme(paper.wp_type)\">\n                    {{ paper.wp_type }}\n                  </Badge>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  {{ getEngagementTitle(paper.engagement_reference) }}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  {{ paper.prepared_by || 'Unassigned' }}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  {{ formatDate(paper.preparation_date) }}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <Badge :theme=\"getStatusTheme(paper.review_status)\">\n                    {{ paper.review_status }}\n                  </Badge>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <div class=\"flex items-center space-x-2\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      @click=\"viewWorkingPaper(paper)\"\n                    >\n                      <EyeIcon class=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      @click=\"editWorkingPaper(paper)\"\n                    >\n                      <EditIcon class=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      @click=\"duplicateWorkingPaper(paper)\"\n                      theme=\"blue\"\n                    >\n                      <CopyIcon class=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      @click=\"deleteWorkingPaper(paper)\"\n                      theme=\"red\"\n                    >\n                      <TrashIcon class=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- Pagination -->\n        <div class=\"px-6 py-4 border-t border-gray-200 bg-gray-50\">\n          <div class=\"flex items-center justify-between\">\n            <div class=\"text-sm text-gray-700\">\n              Showing {{ (currentPage - 1) * itemsPerPage + 1 }} to {{ Math.min(currentPage * itemsPerPage, filteredWorkingPapers.length) }} of {{ filteredWorkingPapers.length }} results\n            </div>\n            <div class=\"flex items-center space-x-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                :disabled=\"currentPage === 1\"\n                @click=\"currentPage--\"\n              >\n                <ChevronLeftIcon class=\"h-4 w-4\" />\n                Previous\n              </Button>\n              <span class=\"text-sm text-gray-700\">\n                Page {{ currentPage }} of {{ totalPages }}\n              </span>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                :disabled=\"currentPage === totalPages\"\n                @click=\"currentPage++\"\n              >\n                Next\n                <ChevronRightIcon class=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Card View -->\n      <div v-else class=\"p-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <div\n            v-for=\"paper in paginatedPapers\"\n            :key=\"paper.name\"\n            class=\"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer\"\n            :class=\"{ 'ring-2 ring-purple-500 bg-purple-50': selectedPapers.includes(paper.name) }\"\n            @click=\"togglePaperSelection(paper.name)\"\n          >\n            <!-- Card Header -->\n            <div class=\"flex items-start justify-between mb-4\">\n              <div class=\"flex items-center space-x-3\">\n                <div class=\"flex-shrink-0\">\n                  <div class=\"h-12 w-12 rounded-lg bg-purple-100 flex items-center justify-center\">\n                    <FileTextIcon class=\"h-6 w-6 text-purple-600\" />\n                  </div>\n                </div>\n                <div>\n                  <h3 class=\"text-lg font-semibold text-gray-900\">\n                    {{ paper.wp_title || 'Untitled' }}\n                  </h3>\n                  <p class=\"text-sm text-gray-500\">{{ paper.working_paper_id }}</p>\n                </div>\n              </div>\n              <Checkbox\n                :modelValue=\"selectedPapers.includes(paper.name)\"\n                @update:modelValue=\"togglePaperSelection(paper.name)\"\n                @click.stop\n              />\n            </div>\n\n            <!-- Card Content -->\n            <div class=\"space-y-3 mb-4\">\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-sm text-gray-600\">Type:</span>\n                <Badge :theme=\"getTypeTheme(paper.wp_type)\">\n                  {{ paper.wp_type }}\n                </Badge>\n              </div>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-sm text-gray-600\">Status:</span>\n                <Badge :theme=\"getStatusTheme(paper.review_status)\">\n                  {{ paper.review_status }}\n                </Badge>\n              </div>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-sm text-gray-600\">Engagement:</span>\n                <span class=\"text-sm text-gray-900\">{{ getEngagementTitle(paper.engagement_reference) }}</span>\n              </div>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-sm text-gray-600\">Prepared By:</span>\n                <span class=\"text-sm text-gray-900\">{{ paper.prepared_by || 'Unassigned' }}</span>\n              </div>\n              <div class=\"flex items-center justify-between\">\n                <span class=\"text-sm text-gray-600\">Date:</span>\n                <span class=\"text-sm text-gray-900\">{{ formatDate(paper.preparation_date) }}</span>\n              </div>\n            </div>\n\n            <!-- Card Actions -->\n            <div class=\"flex items-center justify-between pt-4 border-t border-gray-200\">\n              <div class=\"flex space-x-2\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  @click.stop=\"viewWorkingPaper(paper)\"\n                >\n                  <EyeIcon class=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  @click.stop=\"editWorkingPaper(paper)\"\n                >\n                  <EditIcon class=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  @click.stop=\"duplicateWorkingPaper(paper)\"\n                  theme=\"blue\"\n                >\n                  <CopyIcon class=\"h-4 w-4\" />\n                </Button>\n              </div>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                @click.stop=\"deleteWorkingPaper(paper)\"\n                theme=\"red\"\n              >\n                <TrashIcon class=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Pagination for Cards -->\n        <div class=\"mt-6 flex items-center justify-between\">\n          <div class=\"text-sm text-gray-700\">\n            Showing {{ (currentPage - 1) * itemsPerPage + 1 }} to {{ Math.min(currentPage * itemsPerPage, filteredWorkingPapers.length) }} of {{ filteredWorkingPapers.length }} results\n          </div>\n          <div class=\"flex items-center space-x-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              :disabled=\"currentPage === 1\"\n              @click=\"currentPage--\"\n            >\n              <ChevronLeftIcon class=\"h-4 w-4\" />\n              Previous\n            </Button>\n            <span class=\"text-sm text-gray-700\">\n              Page {{ currentPage }} of {{ totalPages }}\n            </span>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              :disabled=\"currentPage === totalPages\"\n              @click=\"currentPage++\"\n            >\n              Next\n              <ChevronRightIcon class=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Empty State -->\n    <div v-if=\"filteredWorkingPapers.length === 0\" class=\"bg-white rounded-xl border border-gray-200 p-12 text-center\">\n      <div class=\"max-w-md mx-auto\">\n        <div class=\"mx-auto h-24 w-24 text-gray-400 mb-4\">\n          <FileTextIcon class=\"h-24 w-24\" />\n        </div>\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">No working papers found</h3>\n        <p class=\"text-gray-600 mb-6\">\n          {{ filters.search || filters.engagement || filters.type || filters.status\n             ? 'Try adjusting your filters or search terms to find what you\\'re looking for.'\n             : 'Get started by creating your first working paper for audit documentation.' }}\n        </p>\n        <div class=\"space-y-3\">\n          <Button\n            @click=\"createNewWorkingPaper\"\n            variant=\"solid\"\n            class=\"bg-purple-600 hover:bg-purple-700\"\n          >\n            <PlusIcon class=\"h-4 w-4 mr-2\" />\n            Create Working Paper\n          </Button>\n          <div class=\"text-sm text-gray-500\">\n            <p class=\"mb-1\"> <strong>Quick Tips:</strong></p>\n            <ul class=\"text-left space-y-1\">\n              <li> Use templates to standardize your documentation</li>\n              <li> Link working papers to specific audit engagements</li>\n              <li> Track review status to ensure quality control</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Working Paper Modal -->\n    <WorkingPapersForm\n      v-model=\"showWorkingPaperModal\"\n      :working-paper=\"currentWorkingPaper\"\n      @created=\"handleWorkingPaperCreated\"\n      @updated=\"handleWorkingPaperUpdated\"\n      @cancelled=\"showWorkingPaperModal = false\"\n    />\n\n\t<!-- Templates Modal -->\n\t<Dialog v-model=\"showTemplateModal\" :options=\"{ title: 'Apply Template' }\">\n\t\t<template #body-content>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<p class=\"text-sm text-gray-600\">\n\t\t\t\t\tSelect a template to apply to the selected working papers:\n\t\t\t\t</p>\n\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t<label class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t<input type=\"radio\" v-model=\"selectedTemplate\" value=\"planning-memo\" class=\"text-blue-600\">\n\t\t\t\t\t\t<span class=\"text-sm\">Planning Memo Template</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t<input type=\"radio\" v-model=\"selectedTemplate\" value=\"test-of-controls\" class=\"text-blue-600\">\n\t\t\t\t\t\t<span class=\"text-sm\">Test of Controls Template</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t<input type=\"radio\" v-model=\"selectedTemplate\" value=\"substantive-test\" class=\"text-blue-600\">\n\t\t\t\t\t\t<span class=\"text-sm\">Substantive Test Template</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t<input type=\"radio\" v-model=\"selectedTemplate\" value=\"analytical-review\" class=\"text-blue-600\">\n\t\t\t\t\t\t<span class=\"text-sm\">Analytical Review Template</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t<input type=\"radio\" v-model=\"selectedTemplate\" value=\"summary-memo\" class=\"text-blue-600\">\n\t\t\t\t\t\t<span class=\"text-sm\">Summary Memo Template</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #actions>\n\t\t\t<Button variant=\"ghost\" @click=\"showTemplateModal = false\">\n\t\t\t\tCancel\n\t\t\t</Button>\n\t\t\t<Button variant=\"solid\" @click=\"applyTemplate\" :disabled=\"!selectedTemplate\">\n\t\t\t\tApply Template\n\t\t\t</Button>\n\t\t</template>\n\t</Dialog>\n\n\t<!-- Bulk Actions Modal -->\n\t<Dialog v-model=\"showBulkModal\" :options=\"{ title: 'Bulk Actions' }\">\n\t\t<template #body-content>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<p class=\"text-sm text-gray-600\">\n\t\t\t\t\tApply bulk action to {{ selectedPapers.length }} selected working papers:\n\t\t\t\t</p>\n\t\t\t\t<div class=\"space-y-3\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-1\">\n\t\t\t\t\t\t\tUpdate Status\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<Select v-model=\"bulkStatusUpdate\" :options=\"reviewStatusOptions\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"block text-sm font-medium text-gray-700 mb-1\">\n\t\t\t\t\t\t\tAssign Reviewer\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<Select v-model=\"bulkReviewerUpdate\" :options=\"userOptions\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t<Checkbox v-model=\"bulkDeleteConfirm\" />\n\t\t\t\t\t\t<span class=\"text-sm text-red-600\">\n\t\t\t\t\t\t\tDelete selected working papers (this action cannot be undone)\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #actions>\n\t\t\t<Button variant=\"ghost\" @click=\"showBulkModal = false\">\n\t\t\t\tCancel\n\t\t\t</Button>\n\t\t\t<Button variant=\"solid\" @click=\"applyBulkActions\" :disabled=\"!bulkStatusUpdate && !bulkReviewerUpdate && !bulkDeleteConfirm\">\n\t\t\t\tApply Changes\n\t\t\t</Button>\n\t\t</template>\n\t</Dialog>\n\n\t<!-- Capacity Planning Modal -->\n\t<Dialog v-model=\"showCapacityModal\" :options=\"{ title: 'Review Capacity Planning' }\">\n\t\t<template #body-content>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<div class=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t<div class=\"bg-purple-50 p-4 rounded-lg\">\n\t\t\t\t\t\t<h4 class=\"font-medium text-purple-900\">Papers Under Review</h4>\n\t\t\t\t\t\t<p class=\"text-2xl font-bold text-purple-600\">{{ underReviewCount }}</p>\n\t\t\t\t\t\t<p class=\"text-sm text-purple-700\">Pending approval</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bg-green-50 p-4 rounded-lg\">\n\t\t\t\t\t\t<h4 class=\"font-medium text-green-900\">Review Capacity</h4>\n\t\t\t\t\t\t<p class=\"text-2xl font-bold text-green-600\">{{ Math.max(0, 50 - underReviewCount) }}</p>\n\t\t\t\t\t\t<p class=\"text-sm text-green-700\">Available slots</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t<h4 class=\"font-medium\">Reviewer Workload</h4>\n\t\t\t\t\t<div class=\"space-y-2 max-h-40 overflow-y-auto\">\n\t\t\t\t\t\t<div v-for=\"reviewer in reviewerWorkload\" :key=\"reviewer.name\" class=\"flex justify-between items-center p-2 bg-gray-50 rounded\">\n\t\t\t\t\t\t\t<span class=\"text-sm\">{{ reviewer.name }}</span>\n\t\t\t\t\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t\t<div class=\"w-20 bg-gray-200 rounded-full h-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"bg-purple-600 h-2 rounded-full\" :style=\"{ width: `${reviewer.load}%` }\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class=\"text-xs text-gray-600\">{{ reviewer.load }}%</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #actions>\n\t\t\t<Button variant=\"solid\" @click=\"showCapacityModal = false\">\n\t\t\t\tClose\n\t\t\t</Button>\n\t\t</template>\n        </Dialog>\n  </div>\n</template><script setup>\nimport WorkingPapersForm from \"@/components/workingpaper/WorkingPapersForm.vue\"\nimport WorkingPapersStats from \"@/components/workingpaper/WorkingPapersStats.vue\"\nimport { useAuditStore } from \"@/stores/audit\"\nimport { Badge, Button, Checkbox, Dialog, FormControl, Select } from \"frappe-ui\"\nimport {\n\tAlertTriangleIcon,\n\tArrowUpDownIcon,\n\tBarChart3Icon,\n\tCheckCircleIcon,\n\tChevronLeftIcon,\n\tChevronRightIcon,\n\tClockIcon,\n\tCopyIcon,\n\tDownloadIcon,\n\tEditIcon,\n\tEyeIcon,\n\tFileTextIcon,\n\tGridIcon,\n\tLayersIcon,\n\tPlusIcon,\n\tRefreshCwIcon,\n\tSearchIcon,\n\tTableIcon,\n\tTrashIcon,\n} from \"lucide-vue-next\"\nimport { computed, onMounted, ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\n\nconst router = useRouter()\nconst auditStore = useAuditStore()\n\n// Reactive state\nconst loading = ref(false)\nconst showWorkingPaperModal = ref(false)\nconst isEditing = ref(false)\nconst currentWorkingPaper = ref(null)\nconst exporting = ref(false)\n\n// New reactive variables for enhanced functionality\nconst selectedPapers = ref([])\nconst sortBy = ref(\"preparation_date\")\nconst currentPage = ref(1)\nconst itemsPerPage = ref(10)\nconst viewMode = ref(\"table\")\nconst showBulkModal = ref(false)\nconst showCapacityModal = ref(false)\nconst showTemplateModal = ref(false)\n\n// Modal reactive variables\nconst selectedTemplate = ref(\"\")\nconst bulkStatusUpdate = ref(\"\")\nconst bulkReviewerUpdate = ref(\"\")\nconst bulkDeleteConfirm = ref(false)\n\nconst filters = ref({\n\tsearch: \"\",\n\tengagement: \"\",\n\ttype: \"\",\n\tstatus: \"\",\n\tpreparedBy: \"\",\n})\n\nconst workingPaperForm = ref({\n\tworking_paper_id: \"\",\n\twp_title: \"\",\n\twp_reference_no: \"\",\n\twp_type: \"Planning Memo\",\n\tengagement_reference: \"\",\n\tprocedure_reference: \"\",\n\tprepared_by: \"\",\n\tpreparation_date: \"\",\n\treviewed_by: \"\",\n\treview_date: \"\",\n\treview_status: \"Not Reviewed\",\n\twork_performed: \"\",\n\tobjective: \"\",\n\tscope: \"\",\n})\n\n// Computed properties\nconst workingPapers = computed(() => auditStore.workingPapers)\n\nconst filteredWorkingPapers = computed(() => {\n\tlet filtered = workingPapers.value\n\n\tif (filters.value.search) {\n\t\tfiltered = filtered.filter(\n\t\t\t(paper) =>\n\t\t\t\tpaper.wp_title\n\t\t\t\t\t?.toLowerCase()\n\t\t\t\t\t.includes(filters.value.search.toLowerCase()) ||\n\t\t\t\tpaper.working_paper_id\n\t\t\t\t\t?.toLowerCase()\n\t\t\t\t\t.includes(filters.value.search.toLowerCase()),\n\t\t)\n\t}\n\n\tif (filters.value.engagement) {\n\t\tfiltered = filtered.filter(\n\t\t\t(paper) => paper.engagement_reference === filters.value.engagement,\n\t\t)\n\t}\n\n\tif (filters.value.type) {\n\t\tfiltered = filtered.filter((paper) => paper.wp_type === filters.value.type)\n\t}\n\n\tif (filters.value.status) {\n\t\tfiltered = filtered.filter(\n\t\t\t(paper) => paper.review_status === filters.value.status,\n\t\t)\n\t}\n\n\tif (filters.value.preparedBy) {\n\t\tfiltered = filtered.filter(\n\t\t\t(paper) => paper.prepared_by === filters.value.preparedBy,\n\t\t)\n\t}\n\n\treturn filtered\n})\n\n// New computed properties for enhanced functionality\nconst selectAllPapers = computed({\n\tget: () =>\n\t\tfilteredWorkingPapers.value.length > 0 &&\n\t\tselectedPapers.value.length === filteredWorkingPapers.value.length,\n\tset: (value) => {\n\t\tif (value) {\n\t\t\tselectedPapers.value = filteredWorkingPapers.value.map(\n\t\t\t\t(paper) => paper.name,\n\t\t\t)\n\t\t} else {\n\t\t\tselectedPapers.value = []\n\t\t}\n\t},\n})\n\nconst paginatedPapers = computed(() => {\n\tconst start = (currentPage.value - 1) * itemsPerPage.value\n\tconst end = start + itemsPerPage.value\n\treturn filteredWorkingPapers.value.slice(start, end)\n})\n\nconst totalPages = computed(() =>\n\tMath.ceil(filteredWorkingPapers.value.length / itemsPerPage.value),\n)\n\n// Enhanced stats computed properties\nconst totalWorkingPapers = computed(() => workingPapers.value.length)\n\nconst reviewCompleteCount = computed(\n\t() =>\n\t\tworkingPapers.value.filter(\n\t\t\t(paper) => paper.review_status === \"Review Complete\",\n\t\t).length,\n)\n\nconst underReviewCount = computed(\n\t() =>\n\t\tworkingPapers.value.filter(\n\t\t\t(paper) => paper.review_status === \"Under Review\",\n\t\t).length,\n)\n\nconst revisionRequiredCount = computed(\n\t() =>\n\t\tworkingPapers.value.filter(\n\t\t\t(paper) => paper.review_status === \"Revision Required\",\n\t\t).length,\n)\n\nconst notReviewedCount = computed(\n\t() =>\n\t\tworkingPapers.value.filter(\n\t\t\t(paper) => paper.review_status === \"Not Reviewed\",\n\t\t).length,\n)\n\n// Additional computed properties for stats\nconst averageReviewTime = computed(() => {\n\tconst reviewedPapers = workingPapers.value.filter(\n\t\t(paper) => paper.review_date && paper.preparation_date,\n\t)\n\tif (reviewedPapers.length === 0) return 0\n\n\tconst totalDays = reviewedPapers.reduce((sum, paper) => {\n\t\tconst prepDate = new Date(paper.preparation_date)\n\t\tconst reviewDate = new Date(paper.review_date)\n\t\tconst diffTime = Math.abs(reviewDate - prepDate)\n\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\t\treturn sum + diffDays\n\t}, 0)\n\n\treturn Math.round(totalDays / reviewedPapers.length)\n})\n\nconst averageQualityScore = computed(() => {\n\tconst scoredPapers = workingPapers.value.filter(\n\t\t(paper) => paper.quality_score,\n\t)\n\tif (scoredPapers.length === 0) return 0\n\n\tconst totalScore = scoredPapers.reduce(\n\t\t(sum, paper) => sum + (paper.quality_score || 0),\n\t\t0,\n\t)\n\treturn Math.round(totalScore / scoredPapers.length)\n})\n\n// Capacity planning computed properties\nconst reviewerWorkload = computed(() => {\n\tconst workload = {}\n\tworkingPapers.value.forEach((paper) => {\n\t\tif (paper.reviewed_by) {\n\t\t\tif (!workload[paper.reviewed_by]) {\n\t\t\t\tworkload[paper.reviewed_by] = { name: paper.reviewed_by, count: 0 }\n\t\t\t}\n\t\t\tworkload[paper.reviewed_by].count++\n\t\t}\n\t})\n\n\treturn Object.values(workload).map((reviewer) => ({\n\t\t...reviewer,\n\t\tload: Math.min(100, Math.round((reviewer.count / 10) * 100)), // Assuming max 10 papers per reviewer\n\t}))\n})\n\nconst engagementOptions = computed(() => {\n\tconst engagements = auditStore.engagements\n\treturn [\n\t\t{ label: \"All Engagements\", value: \"\" },\n\t\t...engagements.map((eng) => ({\n\t\t\tlabel: eng.engagement_title,\n\t\t\tvalue: eng.name,\n\t\t})),\n\t]\n})\n\nconst typeOptions = [\n\t{ label: \"All Types\", value: \"\" },\n\t{ label: \"Planning Memo\", value: \"Planning Memo\" },\n\t{ label: \"Risk Assessment\", value: \"Risk Assessment\" },\n\t{ label: \"Walkthrough\", value: \"Walkthrough\" },\n\t{ label: \"Test of Controls\", value: \"Test of Controls\" },\n\t{ label: \"Substantive Test\", value: \"Substantive Test\" },\n\t{ label: \"Analytical Review\", value: \"Analytical Review\" },\n\t{ label: \"Data Analytics\", value: \"Data Analytics\" },\n\t{ label: \"Summary\", value: \"Summary\" },\n\t{ label: \"Other\", value: \"Other\" },\n]\n\nconst statusOptions = [\n\t{ label: \"All Status\", value: \"\" },\n\t{ label: \"Not Reviewed\", value: \"Not Reviewed\" },\n\t{ label: \"Under Review\", value: \"Under Review\" },\n\t{ label: \"Review Complete\", value: \"Review Complete\" },\n\t{ label: \"Revision Required\", value: \"Revision Required\" },\n]\n\nconst preparedByOptions = computed(() => {\n\tconst preparers = new Set()\n\tworkingPapers.value.forEach((paper) => {\n\t\tif (paper.prepared_by) {\n\t\t\tpreparers.add(paper.prepared_by)\n\t\t}\n\t})\n\n\treturn [\n\t\t{ label: \"All Preparers\", value: \"\" },\n\t\t...Array.from(preparers).map((preparer) => ({\n\t\t\tlabel: preparer,\n\t\t\tvalue: preparer,\n\t\t})),\n\t]\n})\n\nconst wpTypeOptions = typeOptions.slice(1) // Remove \"All Types\" option\nconst reviewStatusOptions = statusOptions.slice(1) // Remove \"All Status\" option\n\nconst procedureOptions = computed(() => {\n\t// This would be populated from audit procedures related to the selected engagement\n\treturn [{ label: \"Select Procedure\", value: \"\" }]\n})\n\nconst userOptions = computed(() => {\n\t// This would be populated from system users\n\treturn [\n\t\t{ label: \"Select User\", value: \"\" },\n\t\t{ label: \"John Doe\", value: \"john.doe@example.com\" },\n\t\t{ label: \"Jane Smith\", value: \"jane.smith@example.com\" },\n\t]\n})\n\n// Methods\nconst getStatusVariant = (status) => {\n\tconst variants = {\n\t\t\"Not Reviewed\": \"secondary\",\n\t\t\"Under Review\": \"warning\",\n\t\t\"Review Complete\": \"success\",\n\t\t\"Revision Required\": \"danger\",\n\t}\n\treturn variants[status] || \"secondary\"\n}\n\nconst getTypeTheme = (type) => {\n\tconst themes = {\n\t\t\"Planning Memo\": \"blue\",\n\t\t\"Risk Assessment\": \"red\",\n\t\tWalkthrough: \"green\",\n\t\t\"Test of Controls\": \"purple\",\n\t\t\"Substantive Test\": \"orange\",\n\t\t\"Analytical Review\": \"yellow\",\n\t\t\"Data Analytics\": \"indigo\",\n\t\tSummary: \"gray\",\n\t\tOther: \"gray\",\n\t}\n\treturn themes[type] || \"gray\"\n}\n\nconst getStatusTheme = (status) => {\n\tconst themes = {\n\t\t\"Not Reviewed\": \"gray\",\n\t\t\"Under Review\": \"yellow\",\n\t\t\"Review Complete\": \"green\",\n\t\t\"Revision Required\": \"red\",\n\t}\n\treturn themes[status] || \"gray\"\n}\n\nconst getEngagementTitle = (engagementRef) => {\n\tconst engagement = auditStore.engagements.find(\n\t\t(eng) => eng.name === engagementRef,\n\t)\n\treturn engagement ? engagement.engagement_title : \"Unknown Engagement\"\n}\n\nconst formatDate = (dateString) => {\n\tif (!dateString) return \"\"\n\treturn new Date(dateString).toLocaleDateString(\"en-US\", {\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t\tyear: \"numeric\",\n\t})\n}\n\nconst onWorkingPaperClick = (paper) => {\n\trouter.push(`/working-papers/${paper.name}`)\n}\n\nconst viewWorkingPaper = (paper) => {\n\trouter.push(`/working-papers/${paper.name}`)\n}\n\nconst editWorkingPaper = (paper) => {\n\tcurrentWorkingPaper.value = paper\n\tisEditing.value = true\n\tshowWorkingPaperModal.value = true\n}\n\nconst duplicateWorkingPaper = (paper) => {\n\tcurrentWorkingPaper.value = null\n\tisEditing.value = false\n\n\t// Populate form with duplicated data\n\tworkingPaperForm.value = {\n\t\tworking_paper_id: \"\",\n\t\twp_title: `${paper.wp_title} (Copy)`,\n\t\twp_reference_no: \"\",\n\t\twp_type: paper.wp_type || \"Planning Memo\",\n\t\tengagement_reference: paper.engagement_reference || \"\",\n\t\tprocedure_reference: paper.procedure_reference || \"\",\n\t\tprepared_by: \"\",\n\t\tpreparation_date: new Date().toISOString().split(\"T\")[0],\n\t\treviewed_by: \"\",\n\t\treview_date: \"\",\n\t\treview_status: \"Not Reviewed\",\n\t\twork_performed: paper.work_performed || \"\",\n\t\tobjective: paper.objective || \"\",\n\t\tscope: paper.scope || \"\",\n\t}\n\n\tshowWorkingPaperModal.value = true\n}\n\nconst deleteWorkingPaper = (paper) => {\n\tif (confirm(\"Are you sure you want to delete this working paper?\")) {\n\t\t// Delete logic will be implemented with API call\n\t\t// For now, we'll refresh the list\n\t\tauditStore.fetchWorkingPapers()\n\t}\n}\n\nconst createNewWorkingPaper = () => {\n\tcurrentWorkingPaper.value = null\n\tisEditing.value = false\n\tshowWorkingPaperModal.value = true\n}\n\nconst closeWorkingPaperModal = () => {\n\tshowWorkingPaperModal.value = false\n\tcurrentWorkingPaper.value = null\n\tisEditing.value = false\n}\n\nconst saveWorkingPaper = async () => {\n\ttry {\n\t\tif (isEditing.value) {\n\t\t\t// Update existing working paper\n\t\t\tawait auditStore.updateWorkingPaper(\n\t\t\t\tcurrentWorkingPaper.value.name,\n\t\t\t\tworkingPaperForm.value,\n\t\t\t)\n\t\t} else {\n\t\t\t// Create new working paper\n\t\t\tawait auditStore.createWorkingPaper(workingPaperForm.value)\n\t\t}\n\n\t\tcloseWorkingPaperModal()\n\t} catch (error) {\n\t\tconsole.error(\"Error saving working paper:\", error)\n\t}\n}\n\n// Event handlers for WorkingPapersForm component\nconst handleWorkingPaperCreated = async (workingPaper) => {\n\tshowWorkingPaperModal.value = false\n\tcurrentWorkingPaper.value = null\n\tisEditing.value = false\n\tawait refreshData()\n}\n\nconst handleWorkingPaperUpdated = async (workingPaper) => {\n\tshowWorkingPaperModal.value = false\n\tcurrentWorkingPaper.value = null\n\tisEditing.value = false\n\tawait refreshData()\n}\n\n// New methods for enhanced functionality\nconst toggleSelectAllPapers = (value) => {\n\tif (value) {\n\t\tselectedPapers.value = filteredWorkingPapers.value.map(\n\t\t\t(paper) => paper.name,\n\t\t)\n\t} else {\n\t\tselectedPapers.value = []\n\t}\n}\n\nconst togglePaperSelection = (paperName) => {\n\tconst index = selectedPapers.value.indexOf(paperName)\n\tif (index > -1) {\n\t\tselectedPapers.value.splice(index, 1)\n\t} else {\n\t\tselectedPapers.value.push(paperName)\n\t}\n}\n\nconst refreshData = async () => {\n\tloading.value = true\n\ttry {\n\t\tawait auditStore.fetchWorkingPapers()\n\t\tawait auditStore.fetchEngagements()\n\t} catch (error) {\n\t\tconsole.error(\"Error loading data:\", error)\n\t} finally {\n\t\tloading.value = false\n\t}\n}\n\nconst exportWorkingPapers = async () => {\n\texporting.value = true\n\ttry {\n\t\t// Implement export functionality\n\t\tconsole.log(\"Exporting working papers data...\")\n\t\t// This would typically call an API to export the data\n\t} finally {\n\t\texporting.value = false\n\t}\n}\n\n// Modal methods\nconst applyTemplate = async () => {\n\tif (!selectedTemplate.value) return\n\n\ttry {\n\t\t// Implement template application logic\n\t\tconsole.log(\n\t\t\t\"Applying template:\",\n\t\t\tselectedTemplate.value,\n\t\t\t\"to working papers:\",\n\t\t\tselectedPapers.value,\n\t\t)\n\t\t// This would typically call an API to apply the template\n\t\tshowTemplateModal.value = false\n\t\tselectedTemplate.value = \"\"\n\t\tselectedPapers.value = []\n\t\tawait refreshData()\n\t} catch (error) {\n\t\tconsole.error(\"Error applying template:\", error)\n\t}\n}\n\nconst applyBulkActions = async () => {\n\ttry {\n\t\tif (bulkStatusUpdate.value) {\n\t\t\tconsole.log(\n\t\t\t\t\"Updating status to:\",\n\t\t\t\tbulkStatusUpdate.value,\n\t\t\t\t\"for working papers:\",\n\t\t\t\tselectedPapers.value,\n\t\t\t)\n\t\t\t// Implement bulk status update\n\t\t}\n\n\t\tif (bulkReviewerUpdate.value) {\n\t\t\tconsole.log(\n\t\t\t\t\"Assigning reviewer:\",\n\t\t\t\tbulkReviewerUpdate.value,\n\t\t\t\t\"to working papers:\",\n\t\t\t\tselectedPapers.value,\n\t\t\t)\n\t\t\t// Implement bulk reviewer assignment\n\t\t}\n\n\t\tif (bulkDeleteConfirm.value) {\n\t\t\tif (\n\t\t\t\tconfirm(\n\t\t\t\t\t`Are you sure you want to delete ${selectedPapers.value.length} working papers? This action cannot be undone.`,\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconsole.log(\"Deleting working papers:\", selectedPapers.value)\n\t\t\t\t// Implement bulk delete\n\t\t\t}\n\t\t}\n\n\t\tshowBulkModal.value = false\n\t\tbulkStatusUpdate.value = \"\"\n\t\tbulkReviewerUpdate.value = \"\"\n\t\tbulkDeleteConfirm.value = false\n\t\tselectedPapers.value = []\n\t\tawait refreshData()\n\t} catch (error) {\n\t\tconsole.error(\"Error applying bulk actions:\", error)\n\t}\n}\n\n// Lifecycle\nonMounted(async () => {\n\tloading.value = true\n\ttry {\n\t\tawait auditStore.fetchEngagements()\n\t\tawait auditStore.fetchWorkingPapers()\n\t} catch (error) {\n\t\tconsole.error(\"Error loading data:\", error)\n\t} finally {\n\t\tloading.value = false\n\t}\n})\n</script>"],"names":["props","__props","emit","__emit","isDragOver","ref","files","isUploading","canUpload","computed","file","handleFileSelect","event","selectedFiles","addFiles","handleDrop","droppedFiles","newFiles","validFiles","validation","validateFile","uploadFiles","formatFileSize","acceptedTypes","type","fileType","fileName","removeFile","index","removedFile","clearAll","__async","fileItem","simulateUpload","error","resolve","reject","progress","interval","bytes","k","sizes","i","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","$refs","_hoisted_3","_hoisted_4","_createVNode","_unref","UploadIcon","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_cache","_Fragment","_renderList","_hoisted_11","_hoisted_12","FileIcon","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_normalizeStyle","_hoisted_19","_createBlock","CheckCircleIcon","XCircleIcon","LoaderIcon","Button","$event","XIcon","_hoisted_20","iconComponent","FileTextIcon","ClipboardListIcon","UsersIcon","_hoisted_2","_resolveDynamicComponent","isOpen","val","isEditMode","_a","formSections","activeSection","form","reactive","errors","isSaving","isSavingDraft","reviewStatusOptions","wpTypeOptions","currentSectionIndex","s","getSectionStatus","sectionId","getSectionStatusClass","status","completedSections","formProgress","isFormValid","goToPreviousSection","idx","goToNextSection","validateForm","errs","prepareFormData","__spreadProps","__spreadValues","handleSubmit","firstErrorSection","formData","saveAsDraft","handleCancel","resetForm","key","loadWorkingPaperData","workingPaper","watch","newVal","Dialog","section","CheckIcon","_withDirectives","SectionHeader","_vModelText","_hoisted_21","opt","_hoisted_22","_vModelSelect","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","LinkField","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","FileUploader","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","ChevronLeftIcon","ChevronRightIcon","_hoisted_47","PlusIcon","_createTextVNode","totalWorkingPapers","reviewCompleteCount","paper","underReviewCount","revisionRequiredCount","averageReviewTime","reviewedPapers","totalDays","sum","prepDate","reviewDate","diffTime","diffDays","averageQualityScore","scoredPapers","totalScore","ClockIcon","AlertTriangleIcon","BarChartIcon","BarChart3Icon","router","useRouter","auditStore","useAuditStore","loading","showWorkingPaperModal","isEditing","currentWorkingPaper","exporting","selectedPapers","sortBy","currentPage","itemsPerPage","viewMode","showBulkModal","showCapacityModal","showTemplateModal","selectedTemplate","bulkStatusUpdate","bulkReviewerUpdate","bulkDeleteConfirm","filters","workingPaperForm","workingPapers","filteredWorkingPapers","filtered","_b","selectAllPapers","value","paginatedPapers","start","end","totalPages","reviewerWorkload","workload","reviewer","engagements","eng","statusOptions","preparers","preparer","userOptions","getTypeTheme","getStatusTheme","getEngagementTitle","engagementRef","engagement","formatDate","dateString","viewWorkingPaper","editWorkingPaper","duplicateWorkingPaper","deleteWorkingPaper","createNewWorkingPaper","handleWorkingPaperCreated","refreshData","handleWorkingPaperUpdated","toggleSelectAllPapers","togglePaperSelection","paperName","exportWorkingPapers","applyTemplate","applyBulkActions","onMounted","DownloadIcon","RefreshCwIcon","WorkingPapersStats","SearchIcon","p","TableIcon","GridIcon","showTemplatesModal","showBulkActionsModal","LayersIcon","Checkbox","ArrowUpDownIcon","Badge","_hoisted_48","EyeIcon","EditIcon","CopyIcon","TrashIcon","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_withModifiers","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","WorkingPapersForm","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","Select","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105"],"mappings":"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"}