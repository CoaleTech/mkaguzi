var j=(A,D,w)=>new Promise((k,t)=>{var M=V=>{try{o(w.next(V))}catch(T){t(T)}},U=V=>{try{o(w.throw(V))}catch(T){t(T)}},o=V=>V.done?k(V.value):Promise.resolve(V.value).then(M,U);o((w=w.apply(A,D)).next())});import{ap as ne,ab as se,r as E,j as I,Q as oe,l as i,p as s,q as a,H as g,s as d,u as p,v as l,A as _,y as f,z as c,F as z,x as q,ac as b,ah as S,ao as R,$ as de}from"./vue-DciwFjI_.js";import{a as h,c as F,A as ue,b as v,d as ie}from"./index-qIC3Tfxg.js";import{C as P}from"./Card-BkaRUg6O.js";import{aL as re,aa as pe,n as me,N as L,ab as O,ad as ve}from"./icons-CtLkBOsu.js";import"./charts-DlPBe6v3.js";import"./utils-Bcd7wHeW.js";const ye={class:"space-y-6"},ce={class:"flex items-center justify-between"},_e={class:"flex items-center space-x-4"},ge={class:"text-2xl font-bold text-gray-900"},xe={class:"text-sm text-gray-600"},fe={class:"flex items-center space-x-2"},be={key:0,class:"flex justify-center items-center py-12"},ke={key:1,class:"space-y-6"},we={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ve={class:"space-y-4"},he={class:"space-y-4"},Ae={class:"flex justify-between items-center mb-4"},Ce={key:0,class:"overflow-x-auto"},Pe={class:"min-w-full divide-y divide-gray-200"},Ue={class:"bg-gray-50"},Se={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},De={class:"bg-white divide-y divide-gray-200"},Me={class:"px-4 py-3"},Te=["onUpdate:modelValue"],Be={key:1,class:"text-sm"},$e={class:"px-4 py-3"},je=["onUpdate:modelValue"],Ie={key:1,class:"text-sm"},Re={class:"px-4 py-3"},Ee=["onUpdate:modelValue"],Fe={key:1,class:"text-sm"},Ne={class:"px-4 py-3"},Qe=["onUpdate:modelValue"],ze={key:1,class:"text-sm"},qe={key:0,class:"px-4 py-3"},Le={key:1,class:"text-center py-4 text-gray-500"},Oe={class:"space-y-4"},He={class:"flex justify-between items-center mb-4"},Je={key:0,class:"overflow-x-auto"},Ye={class:"min-w-full divide-y divide-gray-200"},Ke={class:"bg-gray-50"},Ge={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},We={class:"bg-white divide-y divide-gray-200"},Xe={class:"px-4 py-3"},Ze=["onUpdate:modelValue"],et={key:1,class:"text-sm font-medium"},tt={class:"px-4 py-3"},at=["onUpdate:modelValue"],lt={key:1,class:"text-sm"},nt={class:"px-4 py-3"},st=["onUpdate:modelValue"],ot={key:1,class:"text-sm"},dt={class:"px-4 py-3"},ut=["onUpdate:modelValue"],it={key:1,class:"text-sm"},rt={class:"px-4 py-3"},pt=["onUpdate:modelValue"],mt={key:1,class:"text-sm"},vt={class:"px-4 py-3"},yt=["onUpdate:modelValue"],ct={class:"px-4 py-3"},_t=["onUpdate:modelValue"],gt={key:0,class:"px-4 py-3"},xt={key:1,class:"text-center py-4 text-gray-500"},ft={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},bt={class:"flex flex-col"},kt={class:"flex items-center space-x-2"},wt={class:"flex-1 bg-gray-200 rounded-full h-2"},Vt={class:"text-sm font-medium"},ht={class:"mt-4"},At={class:"space-y-4"},Ct={class:"space-y-4"},Pt={class:"space-y-4"},Ut={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},St={class:"flex justify-end space-x-4"},Dt={key:1,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Et={__name:"AnnualPlanDetail",props:{id:{type:String,default:null},mode:{type:String,default:"view"}},setup(A){const D=ne(),w=se(),k=A,t=E(null),M=E(!0),U=E(!1),o=I(()=>k.mode==="edit"||k.mode==="new"),V=[{label:"Draft",value:"Draft"},{label:"Pending Approval",value:"Pending Approval"},{label:"Approved",value:"Approved"},{label:"Active",value:"Active"},{label:"Completed",value:"Completed"},{label:"Archived",value:"Archived"}],T=I(()=>{var r,e;return((r=t.value)==null?void 0:r.status)!=="Approved"&&((e=t.value)==null?void 0:e.status)!=="Completed"}),H=I(()=>!0),N=I(()=>{var r;return(r=t.value)!=null&&r.total_budget?Math.round(t.value.actual_spend/t.value.total_budget*100):0}),J=()=>j(this,null,function*(){try{if(M.value=!0,k.mode==="new")t.value={plan_title:"",fiscal_year:new Date().getFullYear().toString(),status:"Draft",plan_start_date:"",plan_end_date:"",plan_owner:"",executive_summary:"",objectives:"",scope:"",methodology:"",resource_allocation:[],planned_audits:[],total_budget:0,allocated_budget:0,actual_spend:0,budget_notes:"",key_risks:"",risk_mitigation:"",contingency_plan:"",contingency_budget:0,additional_notes:""};else{const r=k.id||D.params.id;if(!r)throw new Error("Plan ID is required");try{const e=yield fetch(`/api/resource/Annual Audit Plan/${r}`);if(e.ok){const x=yield e.json();t.value=x.data||x}else throw new Error("Failed to load plan")}catch(e){console.error("Error loading plan:",e),t.value={name:r,plan_title:"Sample Annual Audit Plan 2024",fiscal_year:"2024",status:"Draft",plan_start_date:"2024-01-01",plan_end_date:"2024-12-31",plan_owner:"Admin",executive_summary:"This is the annual audit plan for fiscal year 2024.",objectives:"Ensure compliance and operational efficiency.",scope:"All departments and business units.",methodology:"Risk-based audit approach.",resource_allocation:[{team_member:"John Doe",role:"Lead Auditor",allocated_hours:500,availability:"Full-time"},{team_member:"Jane Smith",role:"Senior Auditor",allocated_hours:400,availability:"Full-time"}],planned_audits:[{audit_name:"Financial Controls Audit",audit_type:"Financial",quarter:"Q1",planned_start_date:"2024-01-15",planned_end_date:"2024-02-28",priority:"High",status:"Planned"},{audit_name:"IT Security Audit",audit_type:"IT",quarter:"Q2",planned_start_date:"2024-04-01",planned_end_date:"2024-05-15",priority:"Critical",status:"Planned"}],total_budget:5e5,allocated_budget:45e4,actual_spend:125e3,budget_notes:"Budget allocated for FY2024 audit activities.",key_risks:"Resource availability, regulatory changes.",risk_mitigation:"Cross-training team members, monitoring regulatory updates.",contingency_plan:"Engage external auditors if needed.",contingency_budget:5e4,additional_notes:"",owner:"Administrator",modified:new Date().toISOString()}}}}finally{M.value=!1}}),Q=()=>j(this,null,function*(){var r;try{U.value=!0;const e=k.id||D.params.id;if(k.mode==="new"){const x=yield fetch("/api/resource/Annual Audit Plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)});if(x.ok){const C=yield x.json();w.push(`/audit-planning/annual-plan/${((r=C.data)==null?void 0:r.name)||C.name}`)}}else(yield fetch(`/api/resource/Annual Audit Plan/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)})).ok&&w.push(`/audit-planning/annual-plan/${e}`)}catch(e){console.error("Error saving plan:",e)}finally{U.value=!1}}),Y=()=>{k.mode==="new"?w.push("/audit-planning/annual-plan"):w.push(`/audit-planning/annual-plan/${k.id||D.params.id}`)},K=()=>j(this,null,function*(){try{t.value.status="Approved",yield Q()}catch(r){console.error("Error approving plan:",r)}}),G=()=>{t.value.resource_allocation||(t.value.resource_allocation=[]),t.value.resource_allocation.push({team_member:"",role:"",allocated_hours:0,availability:""})},W=r=>{t.value.resource_allocation.splice(r,1)},X=()=>{t.value.planned_audits||(t.value.planned_audits=[]),t.value.planned_audits.push({audit_name:"",audit_type:"Financial",quarter:"Q1",planned_start_date:"",planned_end_date:"",priority:"Medium",status:"Planned"})},Z=r=>{t.value.planned_audits.splice(r,1)},ee=r=>({Draft:"secondary","Pending Approval":"warning",Approved:"success",Active:"info",Completed:"success",Archived:"secondary"})[r]||"secondary",te=r=>({Low:"secondary",Medium:"warning",High:"warning",Critical:"destructive"})[r]||"secondary",ae=r=>({Planned:"secondary","In Progress":"info",Completed:"success",Deferred:"warning"})[r]||"secondary",le=()=>{var r,e,x,C,B,$,n,u;return t.value?{planId:t.value.name||t.value.id,planTitle:t.value.plan_title,fiscalYear:t.value.fiscal_year,status:t.value.status,planStartDate:t.value.plan_start_date,planEndDate:t.value.plan_end_date,totalBudget:t.value.total_budget,allocatedBudget:t.value.allocated_budget,totalAudits:((r=t.value.audit_engagements)==null?void 0:r.length)||0,plannedAudits:((e=t.value.audit_engagements)==null?void 0:e.filter(y=>y.status==="Planned").length)||0,inProgressAudits:((x=t.value.audit_engagements)==null?void 0:x.filter(y=>y.status==="In Progress").length)||0,completedAudits:((C=t.value.audit_engagements)==null?void 0:C.filter(y=>y.status==="Completed").length)||0,totalResources:((B=t.value.resource_allocation)==null?void 0:B.length)||0,highRiskAreas:(($=t.value.audit_engagements)==null?void 0:$.filter(y=>y.risk_level==="High").length)||0,mediumRiskAreas:((n=t.value.audit_engagements)==null?void 0:n.filter(y=>y.risk_level==="Medium").length)||0,lowRiskAreas:((u=t.value.audit_engagements)==null?void 0:u.filter(y=>y.risk_level==="Low").length)||0,objectives:t.value.objectives,scope:t.value.scope,duration:t.value.plan_end_date&&t.value.plan_start_date?Math.ceil((new Date(t.value.plan_end_date)-new Date(t.value.plan_start_date))/(1e3*60*60*24)):0}:{}};return oe(()=>{J()}),(r,e)=>{var x,C,B,$;return s(),i("div",ye,[a("div",ce,[a("div",_e,[d(l(h),{variant:"ghost",size:"sm",onClick:e[0]||(e[0]=n=>r.$router.push("/audit-planning/annual-plan")),class:"flex items-center space-x-2"},{default:p(()=>[d(l(re),{class:"h-4 w-4"}),e[21]||(e[21]=a("span",null,"Back",-1))]),_:1}),a("div",null,[a("h1",ge,_(A.mode==="new"?"New Annual Plan":((x=t.value)==null?void 0:x.plan_title)||"Annual Plan Details"),1),a("p",xe,_(((C=t.value)==null?void 0:C.name)||(A.mode==="new"?"Creating new plan...":"Loading...")),1)])]),a("div",fe,[(B=t.value)!=null&&B.status?(s(),f(l(F),{key:0,variant:ee(t.value.status),class:"capitalize"},{default:p(()=>[c(_(t.value.status),1)]),_:1},8,["variant"])):g("",!0),T.value&&A.mode==="view"?(s(),f(l(h),{key:1,variant:"outline",size:"sm",onClick:e[1]||(e[1]=n=>r.$router.push(`/audit-planning/annual-plan/${A.id}/edit`))},{default:p(()=>[d(l(pe),{class:"h-4 w-4 mr-2"}),e[22]||(e[22]=c(" Edit ",-1))]),_:1})):g("",!0),H.value&&(($=t.value)==null?void 0:$.status)==="Pending Approval"?(s(),f(l(h),{key:2,variant:"default",size:"sm",onClick:K},{default:p(()=>[d(l(me),{class:"h-4 w-4 mr-2"}),e[23]||(e[23]=c(" Approve ",-1))]),_:1})):g("",!0),t.value&&A.mode==="view"?(s(),f(ue,{key:3,contextType:"annual-plan",contextData:le(),capability:"audit-planning"},null,8,["contextData"])):g("",!0)])]),M.value?(s(),i("div",be,[...e[24]||(e[24]=[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):t.value?(s(),i("div",ke,[d(l(P),null,{title:p(()=>[...e[25]||(e[25]=[c("Basic Information",-1)])]),default:p(()=>[a("div",we,[d(l(v),{label:"Plan Title",modelValue:t.value.plan_title,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.plan_title=n),readonly:!o.value,required:""},null,8,["modelValue","readonly"]),d(l(v),{label:"Fiscal Year",modelValue:t.value.fiscal_year,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.fiscal_year=n),readonly:!o.value,required:""},null,8,["modelValue","readonly"]),d(l(v),{label:"Status",readonly:!o.value},{input:p(()=>[d(l(ie),{modelValue:t.value.status,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.status=n),disabled:!o.value,options:V},null,8,["modelValue","disabled"])]),_:1},8,["readonly"]),d(l(v),{label:"Plan Start Date",modelValue:t.value.plan_start_date,"onUpdate:modelValue":e[5]||(e[5]=n=>t.value.plan_start_date=n),type:"date",readonly:!o.value},null,8,["modelValue","readonly"]),d(l(v),{label:"Plan End Date",modelValue:t.value.plan_end_date,"onUpdate:modelValue":e[6]||(e[6]=n=>t.value.plan_end_date=n),type:"date",readonly:!o.value},null,8,["modelValue","readonly"]),d(l(v),{label:"Plan Owner",modelValue:t.value.plan_owner,"onUpdate:modelValue":e[7]||(e[7]=n=>t.value.plan_owner=n),readonly:!o.value},null,8,["modelValue","readonly"])])]),_:1}),d(l(P),null,{title:p(()=>[...e[26]||(e[26]=[c("Plan Overview",-1)])]),default:p(()=>[a("div",Ve,[d(l(v),{label:"Executive Summary",modelValue:t.value.executive_summary,"onUpdate:modelValue":e[8]||(e[8]=n=>t.value.executive_summary=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"]),d(l(v),{label:"Objectives",modelValue:t.value.objectives,"onUpdate:modelValue":e[9]||(e[9]=n=>t.value.objectives=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"]),d(l(v),{label:"Scope",modelValue:t.value.scope,"onUpdate:modelValue":e[10]||(e[10]=n=>t.value.scope=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"]),d(l(v),{label:"Methodology",modelValue:t.value.methodology,"onUpdate:modelValue":e[11]||(e[11]=n=>t.value.methodology=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"])])]),_:1}),d(l(P),null,{title:p(()=>[...e[27]||(e[27]=[c("Resource Allocation",-1)])]),default:p(()=>{var n;return[a("div",he,[a("div",Ae,[e[29]||(e[29]=a("h4",{class:"font-medium"},"Team Members",-1)),o.value?(s(),f(l(h),{key:0,variant:"outline",size:"sm",onClick:G},{default:p(()=>[d(l(L),{class:"h-4 w-4 mr-2"}),e[28]||(e[28]=c(" Add Resource ",-1))]),_:1})):g("",!0)]),(n=t.value.resource_allocation)!=null&&n.length?(s(),i("div",Ce,[a("table",Pe,[a("thead",Ue,[a("tr",null,[e[30]||(e[30]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Team Member",-1)),e[31]||(e[31]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Role",-1)),e[32]||(e[32]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Allocated Hours",-1)),e[33]||(e[33]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Availability",-1)),o.value?(s(),i("th",Se,"Actions")):g("",!0)])]),a("tbody",De,[(s(!0),i(z,null,q(t.value.resource_allocation,(u,y)=>(s(),i("tr",{key:y},[a("td",Me,[o.value?b((s(),i("input",{key:0,"onUpdate:modelValue":m=>u.team_member=m,type:"text",class:"w-full px-2 py-1 border rounded text-sm"},null,8,Te)),[[S,u.team_member]]):(s(),i("span",Be,_(u.team_member),1))]),a("td",$e,[o.value?b((s(),i("input",{key:0,"onUpdate:modelValue":m=>u.role=m,type:"text",class:"w-full px-2 py-1 border rounded text-sm"},null,8,je)),[[S,u.role]]):(s(),i("span",Ie,_(u.role),1))]),a("td",Re,[o.value?b((s(),i("input",{key:0,"onUpdate:modelValue":m=>u.allocated_hours=m,type:"number",class:"w-24 px-2 py-1 border rounded text-sm"},null,8,Ee)),[[S,u.allocated_hours,void 0,{number:!0}]]):(s(),i("span",Fe,_(u.allocated_hours),1))]),a("td",Ne,[o.value?b((s(),i("input",{key:0,"onUpdate:modelValue":m=>u.availability=m,type:"text",class:"w-full px-2 py-1 border rounded text-sm"},null,8,Qe)),[[S,u.availability]]):(s(),i("span",ze,_(u.availability),1))]),o.value?(s(),i("td",qe,[d(l(h),{variant:"ghost",size:"sm",onClick:m=>W(y),class:"text-red-600 hover:text-red-700"},{default:p(()=>[d(l(O),{class:"h-4 w-4"})]),_:1},8,["onClick"])])):g("",!0)]))),128))])])])):(s(),i("div",Le," No resources allocated yet "))])]}),_:1}),d(l(P),null,{title:p(()=>[...e[34]||(e[34]=[c("Planned Audits",-1)])]),default:p(()=>{var n;return[a("div",Oe,[a("div",He,[e[36]||(e[36]=a("h4",{class:"font-medium"},"Audit Schedule",-1)),o.value?(s(),f(l(h),{key:0,variant:"outline",size:"sm",onClick:X},{default:p(()=>[d(l(L),{class:"h-4 w-4 mr-2"}),e[35]||(e[35]=c(" Add Audit ",-1))]),_:1})):g("",!0)]),(n=t.value.planned_audits)!=null&&n.length?(s(),i("div",Je,[a("table",Ye,[a("thead",Ke,[a("tr",null,[e[37]||(e[37]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Audit Name",-1)),e[38]||(e[38]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Audit Type",-1)),e[39]||(e[39]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Quarter",-1)),e[40]||(e[40]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Start Date",-1)),e[41]||(e[41]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"End Date",-1)),e[42]||(e[42]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Priority",-1)),e[43]||(e[43]=a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status",-1)),o.value?(s(),i("th",Ge,"Actions")):g("",!0)])]),a("tbody",We,[(s(!0),i(z,null,q(t.value.planned_audits,(u,y)=>(s(),i("tr",{key:y},[a("td",Xe,[o.value?b((s(),i("input",{key:0,"onUpdate:modelValue":m=>u.audit_name=m,type:"text",class:"w-full px-2 py-1 border rounded text-sm"},null,8,Ze)),[[S,u.audit_name]]):(s(),i("span",et,_(u.audit_name),1))]),a("td",tt,[o.value?b((s(),i("select",{key:0,"onUpdate:modelValue":m=>u.audit_type=m,class:"w-full px-2 py-1 border rounded text-sm"},[...e[44]||(e[44]=[a("option",{value:"Financial"},"Financial",-1),a("option",{value:"Operational"},"Operational",-1),a("option",{value:"Compliance"},"Compliance",-1),a("option",{value:"IT"},"IT",-1),a("option",{value:"Performance"},"Performance",-1)])],8,at)),[[R,u.audit_type]]):(s(),i("span",lt,_(u.audit_type),1))]),a("td",nt,[o.value?b((s(),i("select",{key:0,"onUpdate:modelValue":m=>u.quarter=m,class:"w-full px-2 py-1 border rounded text-sm"},[...e[45]||(e[45]=[a("option",{value:"Q1"},"Q1",-1),a("option",{value:"Q2"},"Q2",-1),a("option",{value:"Q3"},"Q3",-1),a("option",{value:"Q4"},"Q4",-1)])],8,st)),[[R,u.quarter]]):(s(),i("span",ot,_(u.quarter),1))]),a("td",dt,[o.value?b((s(),i("input",{key:0,"onUpdate:modelValue":m=>u.planned_start_date=m,type:"date",class:"w-full px-2 py-1 border rounded text-sm"},null,8,ut)),[[S,u.planned_start_date]]):(s(),i("span",it,_(u.planned_start_date),1))]),a("td",rt,[o.value?b((s(),i("input",{key:0,"onUpdate:modelValue":m=>u.planned_end_date=m,type:"date",class:"w-full px-2 py-1 border rounded text-sm"},null,8,pt)),[[S,u.planned_end_date]]):(s(),i("span",mt,_(u.planned_end_date),1))]),a("td",vt,[o.value?b((s(),i("select",{key:0,"onUpdate:modelValue":m=>u.priority=m,class:"w-full px-2 py-1 border rounded text-sm"},[...e[46]||(e[46]=[a("option",{value:"Low"},"Low",-1),a("option",{value:"Medium"},"Medium",-1),a("option",{value:"High"},"High",-1),a("option",{value:"Critical"},"Critical",-1)])],8,yt)),[[R,u.priority]]):(s(),f(l(F),{key:1,variant:te(u.priority)},{default:p(()=>[c(_(u.priority),1)]),_:2},1032,["variant"]))]),a("td",ct,[o.value?b((s(),i("select",{key:0,"onUpdate:modelValue":m=>u.status=m,class:"w-full px-2 py-1 border rounded text-sm"},[...e[47]||(e[47]=[a("option",{value:"Planned"},"Planned",-1),a("option",{value:"In Progress"},"In Progress",-1),a("option",{value:"Completed"},"Completed",-1),a("option",{value:"Deferred"},"Deferred",-1)])],8,_t)),[[R,u.status]]):(s(),f(l(F),{key:1,variant:ae(u.status)},{default:p(()=>[c(_(u.status),1)]),_:2},1032,["variant"]))]),o.value?(s(),i("td",gt,[d(l(h),{variant:"ghost",size:"sm",onClick:m=>Z(y),class:"text-red-600 hover:text-red-700"},{default:p(()=>[d(l(O),{class:"h-4 w-4"})]),_:1},8,["onClick"])])):g("",!0)]))),128))])])])):(s(),i("div",xt," No audits planned yet "))])]}),_:1}),d(l(P),null,{title:p(()=>[...e[48]||(e[48]=[c("Budget Information",-1)])]),default:p(()=>[a("div",ft,[d(l(v),{label:"Total Budget",modelValue:t.value.total_budget,"onUpdate:modelValue":e[12]||(e[12]=n=>t.value.total_budget=n),modelModifiers:{number:!0},type:"number",readonly:!o.value},null,8,["modelValue","readonly"]),d(l(v),{label:"Allocated Budget",modelValue:t.value.allocated_budget,"onUpdate:modelValue":e[13]||(e[13]=n=>t.value.allocated_budget=n),modelModifiers:{number:!0},type:"number",readonly:!o.value},null,8,["modelValue","readonly"]),d(l(v),{label:"Actual Spend",modelValue:t.value.actual_spend,"onUpdate:modelValue":e[14]||(e[14]=n=>t.value.actual_spend=n),modelModifiers:{number:!0},type:"number",readonly:!o.value},null,8,["modelValue","readonly"]),a("div",bt,[e[49]||(e[49]=a("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Budget Utilization",-1)),a("div",kt,[a("div",wt,[a("div",{class:"bg-blue-600 h-2 rounded-full",style:de({width:`${N.value}%`})},null,4)]),a("span",Vt,_(N.value)+"%",1)])])]),a("div",ht,[d(l(v),{label:"Budget Notes",modelValue:t.value.budget_notes,"onUpdate:modelValue":e[15]||(e[15]=n=>t.value.budget_notes=n),type:"textarea",readonly:!o.value,rows:"3"},null,8,["modelValue","readonly"])])]),_:1}),d(l(P),null,{title:p(()=>[...e[50]||(e[50]=[c("Risk Considerations",-1)])]),default:p(()=>[a("div",At,[d(l(v),{label:"Key Risks",modelValue:t.value.key_risks,"onUpdate:modelValue":e[16]||(e[16]=n=>t.value.key_risks=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"]),d(l(v),{label:"Risk Mitigation Strategies",modelValue:t.value.risk_mitigation,"onUpdate:modelValue":e[17]||(e[17]=n=>t.value.risk_mitigation=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"])])]),_:1}),d(l(P),null,{title:p(()=>[...e[51]||(e[51]=[c("Contingency Planning",-1)])]),default:p(()=>[a("div",Ct,[d(l(v),{label:"Contingency Plan",modelValue:t.value.contingency_plan,"onUpdate:modelValue":e[18]||(e[18]=n=>t.value.contingency_plan=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"]),d(l(v),{label:"Contingency Budget",modelValue:t.value.contingency_budget,"onUpdate:modelValue":e[19]||(e[19]=n=>t.value.contingency_budget=n),modelModifiers:{number:!0},type:"number",readonly:!o.value},null,8,["modelValue","readonly"])])]),_:1}),d(l(P),null,{title:p(()=>[...e[52]||(e[52]=[c("Additional Information",-1)])]),default:p(()=>[a("div",Pt,[d(l(v),{label:"Additional Notes",modelValue:t.value.additional_notes,"onUpdate:modelValue":e[20]||(e[20]=n=>t.value.additional_notes=n),type:"textarea",readonly:!o.value,rows:"4"},null,8,["modelValue","readonly"]),a("div",Ut,[d(l(v),{label:"Created By",value:t.value.owner,readonly:""},null,8,["value"]),d(l(v),{label:"Last Modified",value:t.value.modified,readonly:""},null,8,["value"])])])]),_:1}),a("div",St,[o.value?(s(),f(l(h),{key:0,variant:"outline",onClick:Y},{default:p(()=>[...e[53]||(e[53]=[c(" Cancel ",-1)])]),_:1})):g("",!0),o.value?(s(),f(l(h),{key:1,variant:"default",onClick:Q,disabled:U.value},{default:p(()=>[U.value?(s(),i("div",Dt)):(s(),f(l(ve),{key:0,class:"h-4 w-4 mr-2"})),c(" "+_(U.value?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])):g("",!0)])])):g("",!0)])}}};export{Et as default};
//# sourceMappingURL=AnnualPlanDetail-DhWIoMIF.js.map
