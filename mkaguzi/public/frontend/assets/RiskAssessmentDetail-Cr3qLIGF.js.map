{"version":3,"file":"RiskAssessmentDetail-Cr3qLIGF.js","sources":["../../../../frontend/node_modules/frappe-ui/src/components/LoadingText.vue","../../../../frontend/node_modules/frappe-ui/src/components/Card.vue","../../../../frontend/src/components/RiskHeatMap.vue","../../../../frontend/src/pages/RiskAssessmentDetail.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-center text-base text-ink-gray-4\">\n    <LoadingIndicator class=\"-ml-1 mr-2 h-3 w-3\" /> {{ text }}\n  </div>\n</template>\n<script>\nimport LoadingIndicator from './LoadingIndicator.vue'\n\nexport default {\n  name: 'Loading',\n  props: {\n    text: {\n      type: String,\n      default: 'Loading...',\n    },\n  },\n  components: {\n    LoadingIndicator,\n  },\n}\n</script>\n","<template>\n  <div class=\"flex flex-col rounded-lg border bg-white px-6 py-5 shadow\">\n    <div class=\"flex items-baseline justify-between\">\n      <div class=\"flex items-baseline space-x-2\">\n        <div class=\"flex items-center space-x-2\" v-if=\"$slots['actions-left']\">\n          <slot name=\"actions-left\"></slot>\n        </div>\n        <h2 class=\"text-xl font-semibold\">{{ title }}</h2>\n      </div>\n      <div class=\"flex items-center space-x-2\" v-if=\"$slots['actions']\">\n        <slot name=\"actions\"></slot>\n      </div>\n    </div>\n    <p class=\"mt-1.5 text-base text-gray-600\" v-if=\"subtitle\">\n      {{ subtitle }}\n    </p>\n    <div\n      v-if=\"loading\"\n      class=\"mt-4 flex flex-auto flex-col items-center justify-center rounded-md\"\n    >\n      <LoadingText />\n    </div>\n    <div class=\"mt-4 flex-auto overflow-auto\" v-else-if=\"$slots['default']\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n<script>\nimport LoadingText from './LoadingText.vue'\nexport default {\n  name: 'Card',\n  props: {\n    title: {\n      type: String,\n    },\n    subtitle: {\n      type: String,\n    },\n    loading: {\n      type: Boolean,\n    },\n  },\n  components: {\n    LoadingText,\n  },\n}\n</script>\n","<template>\n\t<div class=\"risk-heat-map\">\n\t\t<div class=\"grid grid-cols-6 gap-1 max-w-md mx-auto\">\n\t\t\t<!-- Header row -->\n\t\t\t<div class=\"col-span-1\"></div>\n\t\t\t<div v-for=\"impact in 5\" :key=\"`impact-${impact}`\" class=\"text-center text-sm font-medium text-gray-700 p-2\">\n\t\t\t\t{{ impact }}\n\t\t\t</div>\n\n\t\t\t<!-- Grid rows -->\n\t\t\t<div v-for=\"likelihood in 5\" :key=\"`likelihood-${likelihood}`\" class=\"contents\">\n\t\t\t\t<!-- Likelihood label -->\n\t\t\t\t<div class=\"text-center text-sm font-medium text-gray-700 p-2 flex items-center justify-center\">\n\t\t\t\t\t{{ likelihood }}\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Risk cells -->\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"impact in 5\"\n\t\t\t\t\t:key=\"`cell-${likelihood}-${impact}`\"\n\t\t\t\t\t:class=\"getCellClass(likelihood, impact)\"\n\t\t\t\t\tclass=\"aspect-square rounded border cursor-pointer transition-all duration-200 hover:scale-105 flex items-center justify-center text-xs font-medium\"\n\t\t\t\t\t@click=\"onCellClick(likelihood, impact)\"\n\t\t\t\t>\n\t\t\t\t\t{{ getCellCount(likelihood, impact) }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Legend -->\n\t\t<div class=\"flex justify-center mt-6 space-x-4\">\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-green-100 border border-green-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">Low (1-6)</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">Medium (7-12)</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-orange-100 border border-orange-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">High (13-18)</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-red-100 border border-red-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">Critical (19-25)</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Axis labels -->\n\t\t<div class=\"text-center mt-4\">\n\t\t\t<div class=\"grid grid-cols-2 gap-8 max-w-md mx-auto\">\n\t\t\t\t<div class=\"text-sm text-gray-600\">\n\t\t\t\t\t<div class=\"font-medium\">Likelihood</div>\n\t\t\t\t\t<div class=\"text-xs\">1 = Rare, 5 = Almost Certain</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-sm text-gray-600\">\n\t\t\t\t\t<div class=\"font-medium\">Impact</div>\n\t\t\t\t\t<div class=\"text-xs\">1 = Minor, 5 = Catastrophic</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Risk details modal -->\n\t\t<Dialog v-model=\"showDetailsModal\">\n\t\t\t<template #title>Risks in {{ selectedCell.likelihood }}x{{ selectedCell.impact }} Cell</template>\n\t\t\t<div class=\"space-y-4 max-h-96 overflow-y-auto\">\n\t\t\t\t<div v-if=\"cellRisks.length === 0\" class=\"text-center text-gray-500 py-8\">\n\t\t\t\t\tNo risks in this cell\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"space-y-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"risk in cellRisks\"\n\t\t\t\t\t\t:key=\"risk.risk_id\"\n\t\t\t\t\t\tclass=\"p-3 border rounded-lg\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<div class=\"font-medium text-sm\">{{ risk.risk_id }}</div>\n\t\t\t\t\t\t\t\t<div class=\"text-sm text-gray-600 mt-1\">{{ risk.risk_description }}</div>\n\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500 mt-1\">\n\t\t\t\t\t\t\t\t\tCategory: {{ risk.risk_category }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge :variant=\"getRiskVariant(risk.inherent_risk_score)\" class=\"ml-2\">\n\t\t\t\t\t\t\t\t{{ risk.inherent_risk_score }}/25\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Dialog>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { Badge, Dialog } from 'frappe-ui'\n\n// Props\nconst props = defineProps({\n\trisks: {\n\t\ttype: Array,\n\t\tdefault: () => []\n\t},\n\theatMapData: {\n\t\ttype: Object,\n\t\tdefault: () => ({})\n\t}\n})\n\n// Reactive data\nconst showDetailsModal = ref(false)\nconst selectedCell = ref({ likelihood: 0, impact: 0 })\n\n// Computed properties\nconst cellRisks = computed(() => {\n\tif (!selectedCell.value.likelihood || !selectedCell.value.impact) return []\n\n\treturn props.risks.filter(risk =>\n\t\trisk.likelihood_score === selectedCell.value.likelihood &&\n\t\trisk.impact_score === selectedCell.value.impact\n\t)\n})\n\n// Methods\nconst getCellClass = (likelihood, impact) => {\n\tconst riskScore = likelihood * impact\n\tconst count = getCellCount(likelihood, impact)\n\n\tlet baseClass = 'border-gray-200'\n\n\t// Risk level colors\n\tif (riskScore >= 19) {\n\t\tbaseClass = 'bg-red-100 border-red-300 text-red-800'\n\t} else if (riskScore >= 13) {\n\t\tbaseClass = 'bg-orange-100 border-orange-300 text-orange-800'\n\t} else if (riskScore >= 7) {\n\t\tbaseClass = 'bg-yellow-100 border-yellow-300 text-yellow-800'\n\t} else {\n\t\tbaseClass = 'bg-green-100 border-green-300 text-green-800'\n\t}\n\n\t// Add hover effect and count indicator\n\tif (count > 0) {\n\t\tbaseClass += ' font-bold'\n\t}\n\n\treturn baseClass\n}\n\nconst getCellCount = (likelihood, impact) => {\n\tconst key = `${likelihood}-${impact}`\n\treturn props.heatMapData[key] || 0\n}\n\nconst onCellClick = (likelihood, impact) => {\n\tselectedCell.value = { likelihood, impact }\n\tshowDetailsModal.value = true\n}\n\nconst getRiskVariant = (score) => {\n\tif (score >= 20) return 'destructive'\n\tif (score >= 15) return 'warning'\n\tif (score >= 10) return 'secondary'\n\treturn 'success'\n}\n</script>\n\n<style scoped>\n.risk-heat-map {\n\t@apply p-6 bg-white rounded-lg border;\n}\n</style>","<template>\n\t<div class=\"space-y-6\">\n\t\t<!-- Header -->\n\t\t<div class=\"flex items-center justify-between\">\n\t\t\t<div class=\"flex items-center space-x-4\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t@click=\"$router.go(-1)\"\n\t\t\t\t\tclass=\"flex items-center space-x-2\"\n\t\t\t\t>\n\t\t\t\t\t<ArrowLeftIcon class=\"h-4 w-4\" />\n\t\t\t\t\t<span>Back</span>\n\t\t\t\t</Button>\n\t\t\t\t<div>\n\t\t\t\t\t<h1 class=\"text-2xl font-bold text-gray-900\">\n\t\t\t\t\t\tRisk Assessment Details\n\t\t\t\t\t</h1>\n\t\t\t\t\t<p class=\"text-sm text-gray-600\">\n\t\t\t\t\t\t{{ assessment?.assessment_id || 'Loading...' }}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<Badge\n\t\t\t\t\t:variant=\"getStatusVariant(assessment?.status)\"\n\t\t\t\t\tclass=\"capitalize\"\n\t\t\t\t>\n\t\t\t\t\t{{ assessment?.status || 'Draft' }}\n\t\t\t\t</Badge>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"canEdit\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t@click=\"toggleEditMode\"\n\t\t\t\t>\n\t\t\t\t\t<EditIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t{{ isEditMode ? 'Cancel' : 'Edit' }}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"canApprove && assessment?.status === 'Review'\"\n\t\t\t\t\tvariant=\"default\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t@click=\"approveAssessment\"\n\t\t\t\t>\n\t\t\t\t\t<CheckCircleIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\tApprove\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Loading State -->\n\t\t<div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\n\t\t\t<div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n\t\t</div>\n\n\t\t<!-- Assessment Form -->\n\t\t<div v-else-if=\"assessment\" class=\"space-y-6\">\n\t\t\t<!-- Basic Information -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Assessment Information</template>\n\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment ID\"\n\t\t\t\t\t\t:value=\"assessment.assessment_id\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment Name\"\n\t\t\t\t\t\tv-model=\"assessment.assessment_name\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Fiscal Year\"\n\t\t\t\t\t\tv-model=\"assessment.fiscal_year\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment Date\"\n\t\t\t\t\t\tv-model=\"assessment.assessment_date\"\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment Period\"\n\t\t\t\t\t\tv-model=\"assessment.assessment_period\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tv-model=\"assessment.assessment_period\"\n\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t:options=\"periodOptions\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\tv-model=\"assessment.status\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tv-model=\"assessment.status\"\n\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t:options=\"statusOptions\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Assessment Team -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Assessment Team</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div v-for=\"(member, index) in assessment.assessment_team\" :key=\"index\" class=\"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Team Member\"\n\t\t\t\t\t\t\tv-model=\"member.team_member\"\n\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Role\"\n\t\t\t\t\t\t\tv-model=\"member.role\"\n\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"flex items-end space-x-2\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t@click=\"removeTeamMember(index)\"\n\t\t\t\t\t\t\t\tclass=\"text-red-600 hover:text-red-700\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TrashIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t@click=\"addTeamMember\"\n\t\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<PlusIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tAdd Team Member\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Assessment Scope & Methodology -->\n\t\t\t<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Assessment Scope</template>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"assessment.assessment_scope\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Methodology</template>\n\t\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t\t<div v-for=\"method in methodologyOptions\" :key=\"method.value\" class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t:id=\"`method-${method.value}`\"\n\t\t\t\t\t\t\t\tv-model=\"assessment.methodology\"\n\t\t\t\t\t\t\t\t:value=\"method.value\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\tclass=\"rounded border-gray-300\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label :for=\"`method-${method.value}`\" class=\"text-sm\">\n\t\t\t\t\t\t\t\t{{ method.label }}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<!-- Risk Register -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Risk Register</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t<h3 class=\"text-lg font-semibold\">Identified Risks</h3>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t@click=\"addRiskEntry\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PlusIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\tAdd Risk\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"overflow-x-auto\">\n\t\t\t\t\t\t<table class=\"min-w-full divide-y divide-gray-200\">\n\t\t\t\t\t\t\t<thead class=\"bg-gray-50\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tRisk ID\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tCategory\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tLikelihood\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tImpact\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tInherent Risk\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody class=\"bg-white divide-y divide-gray-200\">\n\t\t\t\t\t\t\t\t<tr v-for=\"(risk, index) in assessment.risk_register\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.risk_id }}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.risk_title }}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.risk_category }}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.likelihood_score }}/5\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.impact_score }}/5\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap\">\n\t\t\t\t\t\t\t\t\t\t<Badge :variant=\"getRiskVariant(risk.inherent_risk_score)\">\n\t\t\t\t\t\t\t\t\t\t\t{{ risk.inherent_risk_score }}/25\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"editRiskEntry(index)\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"removeRiskEntry(index)\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-red-600 hover:text-red-700\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TrashIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Risk Heat Map -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Risk Heat Map</template>\n\t\t\t\t<div class=\"flex justify-center\">\n\t\t\t\t\t<RiskHeatMap\n\t\t\t\t\t\t:risks=\"assessment.risk_register\"\n\t\t\t\t\t\t:heatMapData=\"assessment.risk_heat_map_data\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Action Plan -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Action Plan</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t<h3 class=\"text-lg font-semibold\">Mitigation Actions</h3>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t@click=\"addAction\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PlusIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\tAdd Action\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t\t<div v-for=\"(action, index) in assessment.action_plan\" :key=\"index\" class=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Action ID\"\n\t\t\t\t\t\t\t\t\t:value=\"action.action_id\"\n\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Action Description\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.action_description\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Responsible Party\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.responsible_party\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Target Completion Date\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.target_completion_date\"\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.status\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"action.status\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\t:options=\"actionStatusOptions\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Priority\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.priority\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"action.priority\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\t:options=\"priorityOptions\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Estimated Cost\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.estimated_cost\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Actual Completion Date\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.actual_completion_date\"\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Top Risks Summary -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Top Risks Summary</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div v-for=\"risk in assessment.top_risks\" :key=\"risk.risk_id\" class=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h4 class=\"font-semibold\">{{ risk.risk_description }}</h4>\n\t\t\t\t\t\t\t\t<p class=\"text-sm text-gray-600\">Risk Score: {{ risk.inherent_risk_score }}/25</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge :variant=\"getRiskVariant(risk.inherent_risk_score)\">\n\t\t\t\t\t\t\t\t{{ getRiskLevel(risk.inherent_risk_score) }}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Assessment Summary & Recommendations -->\n\t\t\t<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Assessment Summary</template>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"assessment.assessment_summary\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Recommendations</template>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"assessment.recommendations\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<!-- Approval Information -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Approval Information</template>\n\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Prepared By\"\n\t\t\t\t\t\t:value=\"assessment.prepared_by\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Reviewed By\"\n\t\t\t\t\t\tv-model=\"assessment.reviewed_by\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Approved By\"\n\t\t\t\t\t\tv-model=\"assessment.approved_by\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Approval Date\"\n\t\t\t\t\t\t:value=\"assessment.approval_date\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Action Buttons -->\n\t\t\t<div class=\"flex justify-end space-x-4\">\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t@click=\"cancelChanges\"\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\tvariant=\"default\"\n\t\t\t\t\t@click=\"saveChanges\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t>\n\t\t\t\t\t<SaveIcon v-if=\"!saving\" class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t<div v-else class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n\t\t\t\t\t{{ saving ? 'Saving...' : 'Save Changes' }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Risk Entry Modal -->\n\t\t<Dialog v-model=\"showRiskModal\">\n\t\t\t<template #title>{{ editingRiskIndex !== null ? 'Edit Risk Entry' : 'Add Risk Entry' }}</template>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk ID\"\n\t\t\t\t\tv-model=\"riskForm.risk_id\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Title\"\n\t\t\t\t\tv-model=\"riskForm.risk_title\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Description\"\n\t\t\t\t\tv-model=\"riskForm.risk_description\"\n\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Category\"\n\t\t\t\t\tv-model=\"riskForm.risk_category\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Subcategory\"\n\t\t\t\t\tv-model=\"riskForm.risk_subcategory\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Auditable Entity\"\n\t\t\t\t\tv-model=\"riskForm.auditable_entity\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Threat Source\"\n\t\t\t\t\tv-model=\"riskForm.threat_source\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Vulnerability\"\n\t\t\t\t\tv-model=\"riskForm.vulnerability\"\n\t\t\t\t/>\n\t\t\t\t<div class=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Likelihood Score (1-5)\"\n\t\t\t\t\t\tv-model.number=\"riskForm.likelihood_score\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax=\"5\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Impact Score (1-5)\"\n\t\t\t\t\t\tv-model.number=\"riskForm.impact_score\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax=\"5\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Control Effectiveness\"\n\t\t\t\t\tv-model=\"riskForm.control_effectiveness\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Existing Controls\"\n\t\t\t\t\tv-model=\"riskForm.existing_controls\"\n\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Owner\"\n\t\t\t\t\tv-model=\"riskForm.risk_owner\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Response\"\n\t\t\t\t\tv-model=\"riskForm.risk_response\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Target Risk Score\"\n\t\t\t\t\tv-model.number=\"riskForm.target_risk_score\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<template #actions>\n\t\t\t\t<Button variant=\"outline\" @click=\"closeRiskModal\">\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button @click=\"saveRiskEntry\">\n\t\t\t\t\t{{ editingRiskIndex !== null ? 'Update' : 'Add' }} Risk\n\t\t\t\t</Button>\n\t\t\t</template>\n\t\t</Dialog>\n\t</div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport {\n\tArrowLeftIcon,\n\tEditIcon,\n\tCheckCircleIcon,\n\tPlusIcon,\n\tTrashIcon,\n\tSaveIcon\n} from 'lucide-vue-next'\nimport {\n\tCard,\n\tFormControl,\n\tSelect,\n\tBadge,\n\tButton,\n\tDialog\n} from 'frappe-ui'\nimport RiskHeatMap from '@/components/RiskHeatMap.vue'\n\n// Route and router\nconst route = useRoute()\nconst router = useRouter()\n\n// Props\nconst props = defineProps({\n\tassessmentId: {\n\t\ttype: String,\n\t\tdefault: null\n\t},\n\tmode: {\n\t\ttype: String,\n\t\tdefault: 'view' // 'view', 'edit', 'new'\n\t}\n})\n\n// Reactive data\nconst assessment = ref(null)\nconst loading = ref(true)\nconst saving = ref(false)\nconst isEditMode = ref(props.mode === 'edit' || props.mode === 'new')\nconst showRiskModal = ref(false)\nconst editingRiskIndex = ref(null)\n\n// Form data\nconst riskForm = ref({\n\trisk_id: '',\n\trisk_title: '',\n\trisk_description: '',\n\trisk_category: '',\n\trisk_subcategory: '',\n\tauditable_entity: '',\n\tthreat_source: '',\n\tvulnerability: '',\n\tlikelihood_score: 1,\n\timpact_score: 1,\n\tcontrol_effectiveness: '',\n\texisting_controls: '',\n\trisk_owner: '',\n\trisk_response: '',\n\ttarget_risk_score: 0,\n\tlikelihood_rationale: '',\n\timpact_rationale: ''\n})\n\n// Options\nconst periodOptions = [\n\t{ label: 'Annual', value: 'Annual' },\n\t{ label: 'Mid-Year', value: 'Mid-Year' },\n\t{ label: 'Quarterly', value: 'Quarterly' },\n\t{ label: 'Ad-hoc', value: 'Ad-hoc' }\n]\n\nconst statusOptions = [\n\t{ label: 'Planning', value: 'Planning' },\n\t{ label: 'In Progress', value: 'In Progress' },\n\t{ label: 'Review', value: 'Review' },\n\t{ label: 'Finalized', value: 'Finalized' },\n\t{ label: 'Approved', value: 'Approved' }\n]\n\nconst methodologyOptions = [\n\t{ label: 'Interview', value: 'interview' },\n\t{ label: 'Workshop', value: 'workshop' },\n\t{ label: 'Survey', value: 'survey' },\n\t{ label: 'Document Review', value: 'document_review' },\n\t{ label: 'Data Analysis', value: 'data_analysis' }\n]\n\nconst actionStatusOptions = [\n\t{ label: 'Planned', value: 'Planned' },\n\t{ label: 'In Progress', value: 'In Progress' },\n\t{ label: 'Completed', value: 'Completed' },\n\t{ label: 'Overdue', value: 'Overdue' }\n]\n\nconst priorityOptions = [\n\t{ label: 'Low', value: 'Low' },\n\t{ label: 'Medium', value: 'Medium' },\n\t{ label: 'High', value: 'High' },\n\t{ label: 'Critical', value: 'Critical' }\n]\n\n// Computed properties\nconst canEdit = computed(() => {\n\treturn assessment.value?.status !== 'Approved'\n})\n\nconst canApprove = computed(() => {\n\t// Check user permissions for approval\n\treturn true // Placeholder - implement based on user roles\n})\n\n// Methods\nconst loadAssessment = async () => {\n\ttry {\n\t\tloading.value = true\n\t\t\n\t\tif (props.mode === 'new') {\n\t\t\t// Create new assessment\n\t\t\tassessment.value = {\n\t\t\t\tassessment_id: '',\n\t\t\t\tassessment_name: '',\n\t\t\t\tassessment_date: new Date().toISOString().split('T')[0],\n\t\t\t\tfiscal_year: new Date().getFullYear().toString(),\n\t\t\t\tassessment_period: 'Annual',\n\t\t\t\tassessment_team: [],\n\t\t\t\tassessment_scope: '',\n\t\t\t\tmethodology: [],\n\t\t\t\tstatus: 'Planning',\n\t\t\t\trisk_register: [],\n\t\t\t\taction_plan: [],\n\t\t\t\trisk_heat_map_data: {},\n\t\t\t\ttop_risks: [],\n\t\t\t\tassessment_summary: '',\n\t\t\t\trecommendations: '',\n\t\t\t\tprepared_by: '',\n\t\t\t\treviewed_by: '',\n\t\t\t\tapproved_by: '',\n\t\t\t\tapproval_date: ''\n\t\t\t}\n\t\t} else {\n\t\t\t// Load existing assessment\n\t\t\tconst assessmentId = props.assessmentId || route.params.id\n\t\t\tif (!assessmentId) {\n\t\t\t\tthrow new Error('Assessment ID is required')\n\t\t\t}\n\t\t\t\n\t\t\t// TODO: Replace with actual Frappe API call\n\t\t\tconst response = await fetch(`/api/resource/Risk Assessment/${assessmentId}`)\n\t\t\tif (response.ok) {\n\t\t\t\tassessment.value = await response.json()\n\t\t\t} else {\n\t\t\t\tthrow new Error('Failed to load assessment')\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('Error loading assessment:', error)\n\t\t\n\t\t// For now, create mock data for existing assessments\n\t\tif (props.mode !== 'new') {\n\t\t\tconst assessmentId = props.assessmentId || route.params.id\n\t\t\tassessment.value = {\n\t\t\t\tname: assessmentId,\n\t\t\t\tassessment_id: `RA-2024-${String(assessmentId).padStart(4, '0')}`,\n\t\t\t\tassessment_name: 'Annual Risk Assessment 2024',\n\t\t\t\tassessment_date: '2024-01-15',\n\t\t\t\tfiscal_year: '2024',\n\t\t\t\tassessment_period: 'Annual',\n\t\t\t\tassessment_team: [\n\t\t\t\t\t{ team_member: 'John Doe', role: 'Lead' },\n\t\t\t\t\t{ team_member: 'Jane Smith', role: 'Member' }\n\t\t\t\t],\n\t\t\t\tassessment_scope: 'Comprehensive risk assessment covering all business units and processes.',\n\t\t\t\tmethodology: ['interview', 'workshop', 'document_review'],\n\t\t\t\tstatus: 'In Progress',\n\t\t\t\trisk_register: [\n\t\t\t\t\t{\n\t\t\t\t\t\trisk_id: 'R001',\n\t\t\t\t\t\trisk_title: 'Financial reporting errors',\n\t\t\t\t\t\trisk_description: 'Financial reporting errors due to manual processes',\n\t\t\t\t\t\trisk_category: 'Operational',\n\t\t\t\t\t\trisk_subcategory: 'Financial Reporting',\n\t\t\t\t\t\tauditable_entity: 'Finance Department',\n\t\t\t\t\t\tthreat_source: 'Human error',\n\t\t\t\t\t\tvulnerability: 'Manual data entry',\n\t\t\t\t\t\tlikelihood_score: 4,\n\t\t\t\t\t\timpact_score: 5,\n\t\t\t\t\t\tinherent_risk_score: 20,\n\t\t\t\t\t\tcontrol_effectiveness: 'Adequate',\n\t\t\t\t\t\texisting_controls: 'Basic review process',\n\t\t\t\t\t\trisk_owner: 'Finance Manager',\n\t\t\t\t\t\trisk_response: 'Mitigate',\n\t\t\t\t\t\ttarget_risk_score: 10,\n\t\t\t\t\t\tlikelihood_rationale: 'High volume of manual entries',\n\t\t\t\t\t\timpact_rationale: 'Material impact on financial statements'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\taction_plan: [\n\t\t\t\t\t{\n\t\t\t\t\t\taction_id: 'A001',\n\t\t\t\t\t\taction_description: 'Implement automated financial reporting system',\n\t\t\t\t\t\taction_type: 'System Enhancement',\n\t\t\t\t\t\tpriority: 'High',\n\t\t\t\t\t\tresponsible_party: 'IT Department',\n\t\t\t\t\t\ttarget_completion_date: '2024-06-30',\n\t\t\t\t\t\testimated_cost: 50000,\n\t\t\t\t\t\tresource_required: 'IT team and software licenses',\n\t\t\t\t\t\tstatus: 'In Progress',\n\t\t\t\t\t\tactual_completion_date: '',\n\t\t\t\t\t\teffectiveness_review_date: '',\n\t\t\t\t\t\treview_notes: ''\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\trisk_heat_map_data: {},\n\t\t\t\ttop_risks: [],\n\t\t\t\tassessment_summary: 'The assessment identified several key risks...',\n\t\t\t\trecommendations: 'Implement automated systems and enhance training...',\n\t\t\t\tprepared_by: 'John Doe',\n\t\t\t\treviewed_by: '',\n\t\t\t\tapproved_by: '',\n\t\t\t\tapproval_date: ''\n\t\t\t}\n\t\t}\n\t} finally {\n\t\tloading.value = false\n\t}\n}\n\nconst toggleEditMode = () => {\n\tif (props.mode === 'view') {\n\t\t// Navigate to edit route\n\t\trouter.push(`/audit-planning/risk-assessment/${props.assessmentId || route.params.id}/edit`)\n\t} else {\n\t\t// Cancel edit mode\n\t\tcancelChanges()\n\t}\n}\n\nconst saveChanges = async () => {\n\ttry {\n\t\tsaving.value = true\n\t\t\n\t\t// Calculate inherent risk scores\n\t\tassessment.value.risk_register.forEach(risk => {\n\t\t\trisk.inherent_risk_score = risk.likelihood_score * risk.impact_score\n\t\t})\n\t\t\n\t\t// Generate assessment ID if creating new\n\t\tif (props.mode === 'new' && !assessment.value.assessment_id) {\n\t\t\tconst year = assessment.value.fiscal_year.slice(-2)\n\t\t\t// TODO: Get next number from API\n\t\t\tconst nextNumber = Math.floor(Math.random() * 1000) + 1\n\t\t\tassessment.value.assessment_id = `RA-${assessment.value.fiscal_year}-${String(nextNumber).padStart(4, '0')}`\n\t\t}\n\t\t\n\t\tlet response\n\t\tif (props.mode === 'new') {\n\t\t\t// TODO: Replace with actual Frappe API call for creating\n\t\t\tresponse = await fetch('/api/resource/Risk Assessment', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(assessment.value)\n\t\t\t})\n\t\t} else {\n\t\t\t// TODO: Replace with actual Frappe API call for updating\n\t\t\tconst assessmentId = props.assessmentId || route.params.id\n\t\t\tresponse = await fetch(`/api/resource/Risk Assessment/${assessmentId}`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(assessment.value)\n\t\t\t})\n\t\t}\n\n\t\tif (response.ok) {\n\t\t\tconst savedAssessment = await response.json()\n\t\t\t\n\t\t\tif (props.mode === 'new') {\n\t\t\t\t// Redirect to detail view after creating\n\t\t\t\trouter.push(`/audit-planning/risk-assessment/${savedAssessment.name}`)\n\t\t\t} else {\n\t\t\t\tisEditMode.value = false\n\t\t\t\t// Reload to get updated data\n\t\t\t\tawait loadAssessment()\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Failed to save changes')\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('Error saving changes:', error)\n\t} finally {\n\t\tsaving.value = false\n\t}\n}\n\nconst cancelChanges = () => {\n\tif (props.mode === 'new') {\n\t\t// Go back to list for new assessments\n\t\trouter.push('/audit-planning/risk-assessment')\n\t} else if (props.mode === 'edit') {\n\t\t// Go back to view mode for existing assessments\n\t\trouter.push(`/audit-planning/risk-assessment/${props.assessmentId || route.params.id}`)\n\t} else {\n\t\t// Just exit edit mode\n\t\tisEditMode.value = false\n\t\tloadAssessment()\n\t}\n}\n\nconst approveAssessment = async () => {\n\ttry {\n\t\tassessment.value.status = 'Approved'\n\t\tassessment.value.approved_by = 'Current User' // TODO: Get from session\n\t\tassessment.value.approval_date = new Date().toISOString().split('T')[0]\n\t\tawait saveChanges()\n\t} catch (error) {\n\t\tconsole.error('Error approving assessment:', error)\n\t}\n}\n\nconst addTeamMember = () => {\n\tassessment.value.assessment_team.push({\n\t\tteam_member: '',\n\t\trole: ''\n\t})\n}\n\nconst removeTeamMember = (index) => {\n\tassessment.value.assessment_team.splice(index, 1)\n}\n\nconst addRiskEntry = () => {\n\teditingRiskIndex.value = null\n\triskForm.value = {\n\t\trisk_id: `R${String(assessment.value.risk_register.length + 1).padStart(3, '0')}`,\n\t\trisk_title: '',\n\t\trisk_description: '',\n\t\trisk_category: '',\n\t\trisk_subcategory: '',\n\t\tauditable_entity: '',\n\t\tthreat_source: '',\n\t\tvulnerability: '',\n\t\tlikelihood_score: 1,\n\t\timpact_score: 1,\n\t\tcontrol_effectiveness: '',\n\t\texisting_controls: '',\n\t\trisk_owner: '',\n\t\trisk_response: '',\n\t\ttarget_risk_score: 0,\n\t\tlikelihood_rationale: '',\n\t\timpact_rationale: ''\n\t}\n\tshowRiskModal.value = true\n}\n\nconst editRiskEntry = (index) => {\n\teditingRiskIndex.value = index\n\triskForm.value = { ...assessment.value.risk_register[index] }\n\tshowRiskModal.value = true\n}\n\nconst removeRiskEntry = (index) => {\n\tassessment.value.risk_register.splice(index, 1)\n}\n\nconst saveRiskEntry = () => {\n\tconst riskData = {\n\t\t...riskForm.value,\n\t\tinherent_risk_score: riskForm.value.likelihood_score * riskForm.value.impact_score\n\t}\n\n\tif (editingRiskIndex.value !== null) {\n\t\tassessment.value.risk_register[editingRiskIndex.value] = riskData\n\t} else {\n\t\tassessment.value.risk_register.push(riskData)\n\t}\n\n\tcloseRiskModal()\n}\n\nconst closeRiskModal = () => {\n\tshowRiskModal.value = false\n\teditingRiskIndex.value = null\n\triskForm.value = {\n\t\trisk_id: '',\n\t\trisk_title: '',\n\t\trisk_description: '',\n\t\trisk_category: '',\n\t\trisk_subcategory: '',\n\t\tauditable_entity: '',\n\t\tthreat_source: '',\n\t\tvulnerability: '',\n\t\tlikelihood_score: 1,\n\t\timpact_score: 1,\n\t\tcontrol_effectiveness: '',\n\t\texisting_controls: '',\n\t\trisk_owner: '',\n\t\trisk_response: '',\n\t\ttarget_risk_score: 0,\n\t\tlikelihood_rationale: '',\n\t\timpact_rationale: ''\n\t}\n}\n\nconst addAction = () => {\n\tassessment.value.action_plan.push({\n\t\taction_id: `A${String(assessment.value.action_plan.length + 1).padStart(3, '0')}`,\n\t\taction_description: '',\n\t\taction_type: '',\n\t\tpriority: 'Medium',\n\t\tresponsible_party: '',\n\t\ttarget_completion_date: '',\n\t\testimated_cost: 0,\n\t\tresource_required: '',\n\t\tstatus: 'Not Started',\n\t\tactual_completion_date: '',\n\t\teffectiveness_review_date: '',\n\t\treview_notes: ''\n\t})\n}\n\nconst removeAction = (index) => {\n\tassessment.value.action_plan.splice(index, 1)\n}\n\nconst getStatusVariant = (status) => {\n\tconst variants = {\n\t\t'Planning': 'secondary',\n\t\t'In Progress': 'warning',\n\t\t'Review': 'info',\n\t\t'Finalized': 'success',\n\t\t'Approved': 'success'\n\t}\n\treturn variants[status] || 'secondary'\n}\n\nconst getRiskVariant = (score) => {\n\tif (score >= 20) return 'destructive'\n\tif (score >= 15) return 'warning'\n\tif (score >= 10) return 'secondary'\n\treturn 'success'\n}\n\nconst getRiskLevel = (score) => {\n\tif (score >= 20) return 'Critical'\n\tif (score >= 15) return 'High'\n\tif (score >= 10) return 'Medium'\n\treturn 'Low'\n}\n\n// Watch for risk register changes to update heat map\nwatch(() => assessment.value?.risk_register, (newRisks) => {\n\tif (newRisks) {\n\t\tupdateHeatMapData()\n\t}\n}, { deep: true })\n\nconst updateHeatMapData = () => {\n\tif (!assessment.value) return\n\n\tconst heatMap = {}\n\tassessment.value.risk_register.forEach(risk => {\n\t\tconst key = `${risk.likelihood_score}-${risk.impact_score}`\n\t\theatMap[key] = (heatMap[key] || 0) + 1\n\t})\n\n\tassessment.value.risk_heat_map_data = heatMap\n\n\t// Update top risks\n\tassessment.value.top_risks = [...assessment.value.risk_register]\n\t\t.sort((a, b) => b.inherent_risk_score - a.inherent_risk_score)\n\t\t.slice(0, 5)\n}\n\n// Lifecycle\nonMounted(() => {\n\tloadAssessment()\n})\n</script>"],"names":["_sfc_main","LoadingIndicator","_hoisted_1","_openBlock","_createElementBlock","_createVNode","_component_LoadingIndicator","_createTextVNode","$props","LoadingText","_hoisted_2","_hoisted_3","_hoisted_5","_createElementVNode","_ctx","_hoisted_4","_renderSlot","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_component_LoadingText","_hoisted_9","props","__props","showDetailsModal","ref","selectedCell","cellRisks","computed","risk","getCellClass","likelihood","impact","riskScore","count","getCellCount","baseClass","key","onCellClick","getRiskVariant","score","_Fragment","_renderList","$event","_unref","Dialog","_hoisted_10","_hoisted_11","_hoisted_12","Badge","route","useRoute","router","useRouter","assessment","loading","saving","isEditMode","showRiskModal","editingRiskIndex","riskForm","periodOptions","statusOptions","methodologyOptions","actionStatusOptions","priorityOptions","canEdit","_a","canApprove","loadAssessment","__async","assessmentId","response","error","toggleEditMode","cancelChanges","saveChanges","year","nextNumber","savedAssessment","approveAssessment","addTeamMember","removeTeamMember","index","addRiskEntry","editRiskEntry","__spreadValues","removeRiskEntry","saveRiskEntry","riskData","__spreadProps","closeRiskModal","addAction","getStatusVariant","status","getRiskLevel","watch","newRisks","updateHeatMapData","heatMap","a","b","onMounted","Button","_cache","$router","ArrowLeftIcon","_b","_createBlock","EditIcon","_c","CheckCircleIcon","Card","FormControl","Select","member","TrashIcon","PlusIcon","method","_vModelCheckbox","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","RiskHeatMap","_hoisted_28","_hoisted_29","_hoisted_30","action","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","SaveIcon","_hoisted_40","_hoisted_41"],"mappings":"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","x_google_ignoreList":[0,1]}