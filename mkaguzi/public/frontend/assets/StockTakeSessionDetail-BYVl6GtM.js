var C=(a,l,m)=>new Promise((V,n)=>{var S=r=>{try{f(m.next(r))}catch(h){n(h)}},w=r=>{try{f(m.throw(r))}catch(h){n(h)}},f=r=>r.done?V(r.value):Promise.resolve(r.value).then(S,w);f((m=m.apply(a,l)).next())});import{_ as ae,a as _,g as I,c as B}from"./index-qIC3Tfxg.js";import{n as T,bs as P,aL as oe,aa as re,a3 as M,f as le,b9 as de,T as ue,an as fe,Y as ge,b3 as ce,l as me,d as ve,b2 as ye,a0 as pe,p as _e}from"./icons-CtLkBOsu.js";import{j as k,l as g,p as d,q as e,A as o,B as D,y as b,H as x,v as i,u as v,z as y,$ as N,ap as xe,ab as be,r as R,Q as we,s as u,F as he,x as Se}from"./vue-DciwFjI_.js";import{_ as ke}from"./PhysicalCountTable-B26Ly8gS.js";import"./charts-DlPBe6v3.js";import"./utils-Bcd7wHeW.js";const Ce={class:"signoff-section"},Ve={class:"text-sm font-medium text-gray-700 mb-3"},$e={class:"space-y-3"},De={class:"flex items-center gap-3"},je={key:0,class:"text-xs text-gray-500"},Ie={key:1,class:"text-xs text-gray-400"},Te={class:"flex items-center gap-3"},Ae={key:0,class:"text-xs text-gray-500"},Pe={key:1,class:"text-xs text-gray-400"},Re={class:"flex items-center gap-3"},Oe={key:0,class:"text-xs text-gray-500"},Ee={key:1,class:"text-xs text-gray-400"},Le={class:"mt-4"},qe={class:"flex items-center justify-between text-xs text-gray-500 mb-1"},ze={class:"w-full bg-gray-200 rounded-full h-2"},Be={__name:"SignoffSection",props:{signoffs:{type:Object,required:!0,default:()=>({team_signoff:!1,team_signoff_by:null,team_signoff_date:null,supervisor_signoff:!1,supervisor_signoff_by:null,supervisor_signoff_date:null,auditor_signoff:!1,auditor_signoff_by:null,auditor_signoff_date:null})},readonly:{type:Boolean,default:!1},title:{type:String,default:"Signoff Status"},signingOff:{type:String,default:null},userRoles:{type:Array,default:()=>[]}},emits:["signoff"],setup(a){const l=a,m=k(()=>{let f=0;return l.signoffs.team_signoff&&f++,l.signoffs.supervisor_signoff&&f++,l.signoffs.auditor_signoff&&f++,f}),V=k(()=>m.value===3?"bg-green-500":m.value>=1?"bg-yellow-500":"bg-gray-300");function n(f){return l.signoffs[`${f}_signoff`]?"border-green-200 bg-green-50":f==="team"&&!l.signoffs.team_signoff||f==="supervisor"&&l.signoffs.team_signoff&&!l.signoffs.supervisor_signoff||f==="auditor"&&l.signoffs.supervisor_signoff&&!l.signoffs.auditor_signoff?"border-yellow-200 bg-yellow-50":"border-gray-200 bg-gray-50"}function S(f){return f==="team"?l.userRoles.includes("Counter")||l.userRoles.includes("Team Lead")||l.userRoles.includes("System Manager"):f==="supervisor"?l.userRoles.includes("Supervisor")||l.userRoles.includes("System Manager"):f==="auditor"?l.userRoles.includes("Internal Auditor")||l.userRoles.includes("Auditor")||l.userRoles.includes("System Manager"):!1}function w(f){return f?new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}return(f,r)=>(d(),g("div",Ce,[e("h4",Ve,o(a.title||"Signoff Status"),1),e("div",$e,[e("div",{class:D(["flex items-center justify-between p-3 rounded-lg border",n("team")])},[e("div",De,[e("div",{class:D(["w-8 h-8 rounded-full flex items-center justify-center",a.signoffs.team_signoff?"bg-green-100":"bg-gray-100"])},[a.signoffs.team_signoff?(d(),b(i(T),{key:0,class:"w-5 h-5 text-green-600"})):(d(),b(i(P),{key:1,class:"w-5 h-5 text-gray-400"}))],2),e("div",null,[r[3]||(r[3]=e("p",{class:"text-sm font-medium text-gray-900"},"Team Lead",-1)),a.signoffs.team_signoff?(d(),g("p",je,o(a.signoffs.team_signoff_by_name||a.signoffs.team_signoff_by)+" • "+o(w(a.signoffs.team_signoff_date)),1)):(d(),g("p",Ie,"Pending"))])]),!a.signoffs.team_signoff&&!a.readonly&&S("team")?(d(),b(i(_),{key:0,size:"sm",variant:"outline",onClick:r[0]||(r[0]=h=>f.$emit("signoff","team")),loading:a.signingOff==="team"},{default:v(()=>[...r[4]||(r[4]=[y(" Sign Off ",-1)])]),_:1},8,["loading"])):x("",!0)],2),e("div",{class:D(["flex items-center justify-between p-3 rounded-lg border",n("supervisor")])},[e("div",Te,[e("div",{class:D(["w-8 h-8 rounded-full flex items-center justify-center",a.signoffs.supervisor_signoff?"bg-green-100":"bg-gray-100"])},[a.signoffs.supervisor_signoff?(d(),b(i(T),{key:0,class:"w-5 h-5 text-green-600"})):(d(),b(i(P),{key:1,class:"w-5 h-5 text-gray-400"}))],2),e("div",null,[r[5]||(r[5]=e("p",{class:"text-sm font-medium text-gray-900"},"Supervisor",-1)),a.signoffs.supervisor_signoff?(d(),g("p",Ae,o(a.signoffs.supervisor_signoff_by_name||a.signoffs.supervisor_signoff_by)+" • "+o(w(a.signoffs.supervisor_signoff_date)),1)):(d(),g("p",Pe,o(a.signoffs.team_signoff?"Pending":"Awaiting Team Signoff"),1))])]),!a.signoffs.supervisor_signoff&&a.signoffs.team_signoff&&!a.readonly&&S("supervisor")?(d(),b(i(_),{key:0,size:"sm",variant:"outline",onClick:r[1]||(r[1]=h=>f.$emit("signoff","supervisor")),loading:a.signingOff==="supervisor"},{default:v(()=>[...r[6]||(r[6]=[y(" Sign Off ",-1)])]),_:1},8,["loading"])):x("",!0)],2),e("div",{class:D(["flex items-center justify-between p-3 rounded-lg border",n("auditor")])},[e("div",Re,[e("div",{class:D(["w-8 h-8 rounded-full flex items-center justify-center",a.signoffs.auditor_signoff?"bg-green-100":"bg-gray-100"])},[a.signoffs.auditor_signoff?(d(),b(i(T),{key:0,class:"w-5 h-5 text-green-600"})):(d(),b(i(P),{key:1,class:"w-5 h-5 text-gray-400"}))],2),e("div",null,[r[7]||(r[7]=e("p",{class:"text-sm font-medium text-gray-900"},"Auditor",-1)),a.signoffs.auditor_signoff?(d(),g("p",Oe,o(a.signoffs.auditor_signoff_by_name||a.signoffs.auditor_signoff_by)+" • "+o(w(a.signoffs.auditor_signoff_date)),1)):(d(),g("p",Ee,o(a.signoffs.supervisor_signoff?"Pending":"Awaiting Supervisor Signoff"),1))])]),!a.signoffs.auditor_signoff&&a.signoffs.supervisor_signoff&&!a.readonly&&S("auditor")?(d(),b(i(_),{key:0,size:"sm",variant:"outline",onClick:r[2]||(r[2]=h=>f.$emit("signoff","auditor")),loading:a.signingOff==="auditor"},{default:v(()=>[...r[8]||(r[8]=[y(" Sign Off ",-1)])]),_:1},8,["loading"])):x("",!0)],2)]),e("div",Le,[e("div",qe,[r[9]||(r[9]=e("span",null,"Signoff Progress",-1)),e("span",null,o(m.value)+"/3",1)]),e("div",ze,[e("div",{class:D(["h-2 rounded-full transition-all duration-300",V.value]),style:N({width:`${m.value/3*100}%`})},null,6)])])]))}},Me=ae(Be,[["__scopeId","data-v-f56ce7cf"]]),Ne={class:"p-6"},Ue={class:"flex items-center justify-between mb-6"},Fe={class:"flex items-center gap-4"},We={class:"text-2xl font-bold text-gray-900"},He={class:"flex items-center gap-2"},Ke={key:0,class:"flex items-center justify-center py-20"},Qe={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Ge={class:"lg:col-span-2 space-y-6"},Ye={class:"bg-white rounded-lg border p-6"},Ze={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Je={class:"font-medium"},Xe={class:"font-medium"},et={class:"font-medium"},tt={class:"font-medium"},st={class:"font-medium"},nt={class:"font-medium"},it={class:"font-medium"},at={class:"font-medium text-green-600"},ot={key:0,class:"bg-white rounded-lg border p-6"},rt={class:"flex items-center justify-between"},lt={class:"flex items-center gap-3"},dt={class:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center"},ut={class:"font-medium"},ft={class:"bg-white rounded-lg border p-6"},gt={key:1,class:"bg-white rounded-lg border p-6"},ct={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},mt={class:"p-4 bg-yellow-50 rounded-lg border border-yellow-200"},vt={class:"flex items-center gap-2 mb-2"},yt={class:"text-2xl font-bold text-yellow-700"},pt={class:"p-4 bg-red-50 rounded-lg border border-red-200"},_t={class:"flex items-center gap-2 mb-2"},xt={class:"text-2xl font-bold text-red-700"},bt={class:"p-4 bg-green-50 rounded-lg border border-green-200"},wt={class:"flex items-center gap-2 mb-2"},ht={class:"text-2xl font-bold text-green-700"},St={class:"p-4 bg-purple-50 rounded-lg border border-purple-200"},kt={class:"flex items-center gap-2 mb-2"},Ct={class:"text-2xl font-bold text-purple-700"},Vt={key:0,class:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg"},$t={class:"flex items-start gap-3"},Dt={class:"font-medium text-red-800"},jt={class:"bg-white rounded-lg border p-6"},It={class:"space-y-6"},Tt={class:"bg-white rounded-lg border p-6"},At={class:"space-y-4"},Pt={class:"flex items-center justify-between"},Rt={class:"font-medium"},Ot={class:"w-full bg-gray-200 rounded-full h-2"},Et={class:"pt-2 space-y-3"},Lt={class:"flex items-center justify-between"},qt={class:"font-medium text-yellow-600"},zt={class:"flex items-center justify-between"},Bt={class:"font-medium text-green-600"},Mt={class:"bg-white rounded-lg border p-6"},Nt={class:"space-y-4"},Ut={class:"flex gap-3"},Ft={class:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0"},Wt={class:"text-sm text-gray-500"},Ht={key:0,class:"flex gap-3"},Kt={class:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0"},Qt={class:"text-sm text-gray-500"},Gt={key:1,class:"flex gap-3"},Yt={class:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0"},Zt={class:"text-sm text-gray-500"},Jt={key:0,class:"bg-white rounded-lg border p-6"},Xt={class:"space-y-3"},es=["onClick"],ts={class:"flex items-center justify-between mb-1"},ss={class:"font-medium text-sm"},ns={class:"text-sm text-gray-500"},is={class:"bg-white rounded-lg border p-6"},as={class:"space-y-2"},ms={__name:"StockTakeSessionDetail",setup(a){const l=xe(),m=be(),V=R(!0),n=R(null),S=R([]);we(()=>C(this,null,function*(){yield w(),yield f()}));function w(){return C(this,null,function*(){V.value=!0;try{const s=yield I("frappe.client.get",{doctype:"Stock Take Session",name:l.params.id});n.value=s}catch(s){console.error("Error loading session:",s)}finally{V.value=!1}})}function f(){return C(this,null,function*(){try{const s=yield I("frappe.client.get_list",{doctype:"Inventory Variance Case",filters:{stock_take_session:l.params.id},fields:["name","item_code","item_name","status","variance_qty","variance_value"]});S.value=s}catch(s){console.error("Error loading variance cases:",s)}})}const r=k(()=>{var t;return{Scheduled:"subtle","In Progress":"outline","Pending Review":"warning",Completed:"success",Approved:"success",Cancelled:"subtle"}[(t=n.value)==null?void 0:t.status]||"subtle"}),h=k(()=>{var s,t;return((t=(s=n.value)==null?void 0:s.count_items)==null?void 0:t.length)||0}),A=k(()=>{var s;return(s=n.value)!=null&&s.count_items?n.value.count_items.filter(t=>t.counted_qty!==null&&t.counted_qty!==void 0).length:0}),O=k(()=>h.value===0?0:Math.round(A.value/h.value*100)),U=k(()=>{var s;return(s=n.value)!=null&&s.count_items?n.value.count_items.filter(t=>t.condition&&t.condition!=="Good").length:0}),F=k(()=>{var t,c;if(A.value===0)return 100;const s=((c=(t=n.value)==null?void 0:t.count_items)==null?void 0:c.filter(j=>j.variance_qty===0).length)||0;return Math.round(s/A.value*100)}),$=k(()=>{var t;if(!((t=n.value)!=null&&t.count_items))return{totalVariances:0,shortages:0,overages:0,netVarianceValue:0,materialVariances:0};const s=n.value.count_items.filter(c=>c.variance_qty!==0);return{totalVariances:s.length,shortages:s.filter(c=>(c.variance_qty||0)<0).length,overages:s.filter(c=>(c.variance_qty||0)>0).length,netVarianceValue:s.reduce((c,j)=>c+(j.variance_value||0),0),materialVariances:s.filter(c=>c.is_material).length}});function E(s){return s?new Date(s).toLocaleDateString():"-"}function L(s){return s?new Date(s).toLocaleString():"-"}function W(s){return s==null?"-":new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(s)}function H(s){return{Open:"warning","Under Investigation":"outline",Resolved:"success","Written Off":"subtle",Closed:"subtle"}[s]||"subtle"}function K(){m.push("/inventory-audit/sessions")}function Q(){m.push(`/inventory-audit/sessions/${l.params.id}/edit`)}function G(){var s;(s=n.value)!=null&&s.audit_plan&&m.push(`/inventory-audit/plans/${n.value.audit_plan}`)}function Y(s){m.push(`/inventory-audit/variance-cases/${s}`)}function Z(){return C(this,null,function*(){try{yield I("frappe.client.set_value",{doctype:"Stock Take Session",name:l.params.id,fieldname:{status:"In Progress",start_time:new Date().toISOString()}}),yield w()}catch(s){console.error("Error starting count:",s)}})}function J(){return C(this,null,function*(){try{yield I("frappe.client.set_value",{doctype:"Stock Take Session",name:l.params.id,fieldname:{status:"Pending Review",end_time:new Date().toISOString()}}),yield w()}catch(s){console.error("Error submitting for review:",s)}})}function X(s){return C(this,null,function*(){try{yield I("frappe.client.set_value",{doctype:"Stock Take Session",name:l.params.id,fieldname:{count_items:s}})}catch(t){console.error("Error saving count items:",t)}})}function ee(s){return C(this,null,function*(){const t={team:{team_signoff:1,team_signoff_date:new Date().toISOString()},supervisor:{supervisor_signoff:1,supervisor_signoff_date:new Date().toISOString()},auditor:{auditor_signoff:1,auditor_signoff_date:new Date().toISOString()}};try{yield I("frappe.client.set_value",{doctype:"Stock Take Session",name:l.params.id,fieldname:t[s]}),yield w()}catch(c){console.error("Error applying signoff:",c)}})}function te(){m.push(`/inventory-audit/sessions/${l.params.id}/create-variance-cases`)}function se(){window.open(`/api/method/frappe.utils.print_format.download_pdf?doctype=Stock Take Session&name=${l.params.id}&format=Count Sheet`,"_blank")}function ne(){console.log("Export to Excel")}function ie(){console.log("View Audit Log")}return(s,t)=>{var c,j,q,z;return d(),g("div",Ne,[e("div",Ue,[e("div",Fe,[u(i(_),{variant:"ghost",onClick:K},{default:v(()=>[u(i(oe),{class:"w-5 h-5"})]),_:1}),e("div",null,[e("h1",We,o(((c=n.value)==null?void 0:c.session_name)||((j=n.value)==null?void 0:j.name)||"Loading..."),1),t[1]||(t[1]=e("p",{class:"text-gray-500 mt-1"},"Stock Take Session",-1))])]),e("div",He,[u(i(B),{variant:r.value},{default:v(()=>{var p;return[y(o((p=n.value)==null?void 0:p.status),1)]}),_:1},8,["variant"]),u(i(_),{variant:"outline",onClick:Q},{default:v(()=>[u(i(re),{class:"w-4 h-4 mr-2"}),t[2]||(t[2]=y(" Edit ",-1))]),_:1}),((q=n.value)==null?void 0:q.status)==="Scheduled"?(d(),b(i(_),{key:0,variant:"solid",onClick:Z},{default:v(()=>[u(i(M),{class:"w-4 h-4 mr-2"}),t[3]||(t[3]=y(" Start Counting ",-1))]),_:1})):x("",!0),((z=n.value)==null?void 0:z.status)==="In Progress"?(d(),b(i(_),{key:1,variant:"solid",onClick:J},{default:v(()=>[u(i(T),{class:"w-4 h-4 mr-2"}),t[4]||(t[4]=y(" Submit for Review ",-1))]),_:1})):x("",!0)])]),V.value?(d(),g("div",Ke,[...t[5]||(t[5]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):n.value?(d(),g("div",Qe,[e("div",Ge,[e("div",Ye,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Session Overview",-1)),e("div",Ze,[e("div",null,[t[6]||(t[6]=e("span",{class:"text-sm text-gray-500"},"Session Type",-1)),e("p",Je,o(n.value.session_type),1)]),e("div",null,[t[7]||(t[7]=e("span",{class:"text-sm text-gray-500"},"Warehouse",-1)),e("p",Xe,o(n.value.warehouse||"-"),1)]),e("div",null,[t[8]||(t[8]=e("span",{class:"text-sm text-gray-500"},"Zone",-1)),e("p",et,o(n.value.zone||"-"),1)]),e("div",null,[t[9]||(t[9]=e("span",{class:"text-sm text-gray-500"},"Bin Location",-1)),e("p",tt,o(n.value.bin_location||"-"),1)]),e("div",null,[t[10]||(t[10]=e("span",{class:"text-sm text-gray-500"},"Scheduled Date",-1)),e("p",st,o(E(n.value.scheduled_date)),1)]),e("div",null,[t[11]||(t[11]=e("span",{class:"text-sm text-gray-500"},"Assigned Counters",-1)),e("p",nt,o(n.value.assigned_counters||"-"),1)]),e("div",null,[t[12]||(t[12]=e("span",{class:"text-sm text-gray-500"},"Total Items",-1)),e("p",it,o(h.value),1)]),e("div",null,[t[13]||(t[13]=e("span",{class:"text-sm text-gray-500"},"Items Counted",-1)),e("p",at,o(A.value),1)])])]),n.value.audit_plan?(d(),g("div",ot,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Linked Audit Plan",-1)),e("div",rt,[e("div",lt,[e("div",dt,[u(i(le),{class:"w-5 h-5 text-blue-600"})]),e("div",null,[e("p",ut,o(n.value.audit_plan),1),t[15]||(t[15]=e("p",{class:"text-sm text-gray-500"},"Inventory Audit Plan",-1))])]),u(i(_),{variant:"outline",size:"sm",onClick:G},{default:v(()=>[u(i(de),{class:"w-4 h-4 mr-1"}),t[16]||(t[16]=y(" View Plan ",-1))]),_:1})])])):x("",!0),e("div",ft,[u(i(ke),{modelValue:n.value.count_items,"onUpdate:modelValue":[t[0]||(t[0]=p=>n.value.count_items=p),X],readonly:n.value.status==="Completed"||n.value.status==="Approved"},null,8,["modelValue","readonly"])]),$.value.totalVariances>0?(d(),g("div",gt,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Variance Summary",-1)),e("div",ct,[e("div",mt,[e("div",vt,[u(i(ue),{class:"w-5 h-5 text-yellow-600"}),t[18]||(t[18]=e("span",{class:"text-sm text-yellow-700"},"Total Variances",-1))]),e("p",yt,o($.value.totalVariances),1)]),e("div",pt,[e("div",_t,[u(i(fe),{class:"w-5 h-5 text-red-600"}),t[19]||(t[19]=e("span",{class:"text-sm text-red-700"},"Shortages",-1))]),e("p",xt,o($.value.shortages),1)]),e("div",bt,[e("div",wt,[u(i(ge),{class:"w-5 h-5 text-green-600"}),t[20]||(t[20]=e("span",{class:"text-sm text-green-700"},"Overages",-1))]),e("p",ht,o($.value.overages),1)]),e("div",St,[e("div",kt,[u(i(ce),{class:"w-5 h-5 text-purple-600"}),t[21]||(t[21]=e("span",{class:"text-sm text-purple-700"},"Net Variance Value",-1))]),e("p",Ct,o(W($.value.netVarianceValue)),1)])]),$.value.materialVariances>0?(d(),g("div",Vt,[e("div",$t,[u(i(me),{class:"w-5 h-5 text-red-600 mt-0.5"}),e("div",null,[e("p",Dt,o($.value.materialVariances)+" Material Variance(s) Detected ",1),t[23]||(t[23]=e("p",{class:"text-sm text-red-600 mt-1"}," These variances exceed the materiality thresholds and require investigation. ",-1)),u(i(_),{variant:"outline",size:"sm",class:"mt-2",onClick:te},{default:v(()=>[...t[22]||(t[22]=[y(" Create Variance Cases ",-1)])]),_:1})])])])):x("",!0)])):x("",!0),e("div",jt,[u(i(Me),{teamSignoff:n.value.team_signoff,teamSignoffDate:n.value.team_signoff_date,supervisorSignoff:n.value.supervisor_signoff,supervisorSignoffDate:n.value.supervisor_signoff_date,auditorSignoff:n.value.auditor_signoff,auditorSignoffDate:n.value.auditor_signoff_date,readonly:n.value.status==="Approved",onSignoff:ee},null,8,["teamSignoff","teamSignoffDate","supervisorSignoff","supervisorSignoffDate","auditorSignoff","auditorSignoffDate","readonly"])])]),e("div",It,[e("div",Tt,[t[28]||(t[28]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Stats",-1)),e("div",At,[e("div",Pt,[t[25]||(t[25]=e("span",{class:"text-gray-500"},"Progress",-1)),e("span",Rt,o(O.value)+"%",1)]),e("div",Ot,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:N({width:`${O.value}%`})},null,4)]),e("div",Et,[e("div",Lt,[t[26]||(t[26]=e("span",{class:"text-gray-500"},"Items with Issues",-1)),e("span",qt,o(U.value),1)]),e("div",zt,[t[27]||(t[27]=e("span",{class:"text-gray-500"},"Accuracy Rate",-1)),e("span",Bt,o(F.value)+"%",1)])])])]),e("div",Mt,[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Timeline",-1)),e("div",Nt,[e("div",Ut,[e("div",Ft,[u(i(ve),{class:"w-4 h-4 text-blue-600"})]),e("div",null,[t[29]||(t[29]=e("p",{class:"font-medium"},"Scheduled",-1)),e("p",Wt,o(E(n.value.scheduled_date)),1)])]),n.value.start_time?(d(),g("div",Ht,[e("div",Kt,[u(i(M),{class:"w-4 h-4 text-green-600"})]),e("div",null,[t[30]||(t[30]=e("p",{class:"font-medium"},"Started",-1)),e("p",Qt,o(L(n.value.start_time)),1)])])):x("",!0),n.value.end_time?(d(),g("div",Gt,[e("div",Yt,[u(i(T),{class:"w-4 h-4 text-purple-600"})]),e("div",null,[t[31]||(t[31]=e("p",{class:"font-medium"},"Completed",-1)),e("p",Zt,o(L(n.value.end_time)),1)])])):x("",!0)])]),S.value.length>0?(d(),g("div",Jt,[t[33]||(t[33]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Variance Cases",-1)),e("div",Xt,[(d(!0),g(he,null,Se(S.value,p=>(d(),g("div",{key:p.name,class:"p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",onClick:os=>Y(p.name)},[e("div",ts,[e("span",ss,o(p.name),1),u(i(B),{variant:H(p.status),size:"sm"},{default:v(()=>[y(o(p.status),1)]),_:2},1032,["variant"])]),e("p",ns,o(p.item_code)+" - "+o(p.item_name),1)],8,es))),128))])])):x("",!0),e("div",is,[t[37]||(t[37]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Actions",-1)),e("div",as,[u(i(_),{variant:"outline",class:"w-full justify-start",onClick:se},{default:v(()=>[u(i(ye),{class:"w-4 h-4 mr-2"}),t[34]||(t[34]=y(" Print Count Sheet ",-1))]),_:1}),u(i(_),{variant:"outline",class:"w-full justify-start",onClick:ne},{default:v(()=>[u(i(pe),{class:"w-4 h-4 mr-2"}),t[35]||(t[35]=y(" Export to Excel ",-1))]),_:1}),u(i(_),{variant:"outline",class:"w-full justify-start",onClick:ie},{default:v(()=>[u(i(_e),{class:"w-4 h-4 mr-2"}),t[36]||(t[36]=y(" View Audit Log ",-1))]),_:1})])])])])):x("",!0)])}}};export{ms as default};
//# sourceMappingURL=StockTakeSessionDetail-BYVl6GtM.js.map
