{"version":3,"file":"RiskAssessmentDetail-C6VS-lRf.js","sources":["../../../../frontend/node_modules/frappe-ui/src/components/LoadingText.vue","../../../../frontend/node_modules/frappe-ui/src/components/Card.vue","../../../../frontend/src/components/RiskHeatMap.vue","../../../../frontend/src/pages/RiskAssessmentDetail.vue"],"sourcesContent":["<template>\n  <div class=\"flex items-center text-base text-ink-gray-4\">\n    <LoadingIndicator class=\"-ml-1 mr-2 h-3 w-3\" /> {{ text }}\n  </div>\n</template>\n<script>\nimport LoadingIndicator from './LoadingIndicator.vue'\n\nexport default {\n  name: 'Loading',\n  props: {\n    text: {\n      type: String,\n      default: 'Loading...',\n    },\n  },\n  components: {\n    LoadingIndicator,\n  },\n}\n</script>\n","<template>\n  <div class=\"flex flex-col rounded-lg border bg-white px-6 py-5 shadow\">\n    <div class=\"flex items-baseline justify-between\">\n      <div class=\"flex items-baseline space-x-2\">\n        <div class=\"flex items-center space-x-2\" v-if=\"$slots['actions-left']\">\n          <slot name=\"actions-left\"></slot>\n        </div>\n        <h2 class=\"text-xl font-semibold\">{{ title }}</h2>\n      </div>\n      <div class=\"flex items-center space-x-2\" v-if=\"$slots['actions']\">\n        <slot name=\"actions\"></slot>\n      </div>\n    </div>\n    <p class=\"mt-1.5 text-base text-gray-600\" v-if=\"subtitle\">\n      {{ subtitle }}\n    </p>\n    <div\n      v-if=\"loading\"\n      class=\"mt-4 flex flex-auto flex-col items-center justify-center rounded-md\"\n    >\n      <LoadingText />\n    </div>\n    <div class=\"mt-4 flex-auto overflow-auto\" v-else-if=\"$slots['default']\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n<script>\nimport LoadingText from './LoadingText.vue'\nexport default {\n  name: 'Card',\n  props: {\n    title: {\n      type: String,\n    },\n    subtitle: {\n      type: String,\n    },\n    loading: {\n      type: Boolean,\n    },\n  },\n  components: {\n    LoadingText,\n  },\n}\n</script>\n","<template>\n\t<div class=\"risk-heat-map\">\n\t\t<div class=\"grid grid-cols-6 gap-1 max-w-md mx-auto\">\n\t\t\t<!-- Header row -->\n\t\t\t<div class=\"col-span-1\"></div>\n\t\t\t<div v-for=\"impact in 5\" :key=\"`impact-${impact}`\" class=\"text-center text-sm font-medium text-gray-700 p-2\">\n\t\t\t\t{{ impact }}\n\t\t\t</div>\n\n\t\t\t<!-- Grid rows -->\n\t\t\t<div v-for=\"likelihood in 5\" :key=\"`likelihood-${likelihood}`\" class=\"contents\">\n\t\t\t\t<!-- Likelihood label -->\n\t\t\t\t<div class=\"text-center text-sm font-medium text-gray-700 p-2 flex items-center justify-center\">\n\t\t\t\t\t{{ likelihood }}\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Risk cells -->\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"impact in 5\"\n\t\t\t\t\t:key=\"`cell-${likelihood}-${impact}`\"\n\t\t\t\t\t:class=\"getCellClass(likelihood, impact)\"\n\t\t\t\t\tclass=\"aspect-square rounded border cursor-pointer transition-all duration-200 hover:scale-105 flex items-center justify-center text-xs font-medium\"\n\t\t\t\t\t@click=\"onCellClick(likelihood, impact)\"\n\t\t\t\t>\n\t\t\t\t\t{{ getCellCount(likelihood, impact) }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Legend -->\n\t\t<div class=\"flex justify-center mt-6 space-x-4\">\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-green-100 border border-green-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">Low (1-6)</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">Medium (7-12)</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-orange-100 border border-orange-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">High (13-18)</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<div class=\"w-4 h-4 bg-red-100 border border-red-300 rounded\"></div>\n\t\t\t\t<span class=\"text-sm text-gray-600\">Critical (19-25)</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Axis labels -->\n\t\t<div class=\"text-center mt-4\">\n\t\t\t<div class=\"grid grid-cols-2 gap-8 max-w-md mx-auto\">\n\t\t\t\t<div class=\"text-sm text-gray-600\">\n\t\t\t\t\t<div class=\"font-medium\">Likelihood</div>\n\t\t\t\t\t<div class=\"text-xs\">1 = Rare, 5 = Almost Certain</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-sm text-gray-600\">\n\t\t\t\t\t<div class=\"font-medium\">Impact</div>\n\t\t\t\t\t<div class=\"text-xs\">1 = Minor, 5 = Catastrophic</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Risk details modal -->\n\t\t<Dialog v-model=\"showDetailsModal\">\n\t\t\t<template #title>Risks in {{ selectedCell.likelihood }}x{{ selectedCell.impact }} Cell</template>\n\t\t\t<div class=\"space-y-4 max-h-96 overflow-y-auto\">\n\t\t\t\t<div v-if=\"cellRisks.length === 0\" class=\"text-center text-gray-500 py-8\">\n\t\t\t\t\tNo risks in this cell\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"space-y-3\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"risk in cellRisks\"\n\t\t\t\t\t\t:key=\"risk.risk_id\"\n\t\t\t\t\t\tclass=\"p-3 border rounded-lg\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<div class=\"font-medium text-sm\">{{ risk.risk_id }}</div>\n\t\t\t\t\t\t\t\t<div class=\"text-sm text-gray-600 mt-1\">{{ risk.risk_description }}</div>\n\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500 mt-1\">\n\t\t\t\t\t\t\t\t\tCategory: {{ risk.risk_category }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge :variant=\"getRiskVariant(risk.inherent_risk_score)\" class=\"ml-2\">\n\t\t\t\t\t\t\t\t{{ risk.inherent_risk_score }}/25\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Dialog>\n\t</div>\n</template>\n\n<script setup>\nimport { Badge, Dialog } from \"frappe-ui\"\nimport { computed, ref } from \"vue\"\n\n// Props\nconst props = defineProps({\n\trisks: {\n\t\ttype: Array,\n\t\tdefault: () => [],\n\t},\n\theatMapData: {\n\t\ttype: Object,\n\t\tdefault: () => ({}),\n\t},\n})\n\n// Reactive data\nconst showDetailsModal = ref(false)\nconst selectedCell = ref({ likelihood: 0, impact: 0 })\n\n// Computed properties\nconst cellRisks = computed(() => {\n\tif (!selectedCell.value.likelihood || !selectedCell.value.impact) return []\n\n\treturn props.risks.filter(\n\t\t(risk) =>\n\t\t\trisk.likelihood_score === selectedCell.value.likelihood &&\n\t\t\trisk.impact_score === selectedCell.value.impact,\n\t)\n})\n\n// Methods\nconst getCellClass = (likelihood, impact) => {\n\tconst riskScore = likelihood * impact\n\tconst count = getCellCount(likelihood, impact)\n\n\tlet baseClass = \"border-gray-200\"\n\n\t// Risk level colors\n\tif (riskScore >= 19) {\n\t\tbaseClass = \"bg-red-100 border-red-300 text-red-800\"\n\t} else if (riskScore >= 13) {\n\t\tbaseClass = \"bg-orange-100 border-orange-300 text-orange-800\"\n\t} else if (riskScore >= 7) {\n\t\tbaseClass = \"bg-yellow-100 border-yellow-300 text-yellow-800\"\n\t} else {\n\t\tbaseClass = \"bg-green-100 border-green-300 text-green-800\"\n\t}\n\n\t// Add hover effect and count indicator\n\tif (count > 0) {\n\t\tbaseClass += \" font-bold\"\n\t}\n\n\treturn baseClass\n}\n\nconst getCellCount = (likelihood, impact) => {\n\tconst key = `${likelihood}-${impact}`\n\treturn props.heatMapData[key] || 0\n}\n\nconst onCellClick = (likelihood, impact) => {\n\tselectedCell.value = { likelihood, impact }\n\tshowDetailsModal.value = true\n}\n\nconst getRiskVariant = (score) => {\n\tif (score >= 20) return \"destructive\"\n\tif (score >= 15) return \"warning\"\n\tif (score >= 10) return \"secondary\"\n\treturn \"success\"\n}\n</script>\n\n<style scoped>\n.risk-heat-map {\n\t@apply p-6 bg-white rounded-lg border;\n}\n</style>","<template>\n\t<div class=\"space-y-6\">\n\t\t<!-- Header -->\n\t\t<div class=\"flex items-center justify-between\">\n\t\t\t<div class=\"flex items-center space-x-4\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t@click=\"$router.go(-1)\"\n\t\t\t\t\tclass=\"flex items-center space-x-2\"\n\t\t\t\t>\n\t\t\t\t\t<ArrowLeftIcon class=\"h-4 w-4\" />\n\t\t\t\t\t<span>Back</span>\n\t\t\t\t</Button>\n\t\t\t\t<div>\n\t\t\t\t\t<h1 class=\"text-2xl font-bold text-gray-900\">\n\t\t\t\t\t\tRisk Assessment Details\n\t\t\t\t\t</h1>\n\t\t\t\t\t<p class=\"text-sm text-gray-600\">\n\t\t\t\t\t\t{{ assessment?.assessment_id || 'Loading...' }}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<Badge\n\t\t\t\t\t:variant=\"getStatusVariant(assessment?.status)\"\n\t\t\t\t\tclass=\"capitalize\"\n\t\t\t\t>\n\t\t\t\t\t{{ assessment?.status || 'Draft' }}\n\t\t\t\t</Badge>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"canEdit\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t@click=\"toggleEditMode\"\n\t\t\t\t>\n\t\t\t\t\t<EditIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t{{ isEditMode ? 'Cancel' : 'Edit' }}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"canApprove && assessment?.status === 'Review'\"\n\t\t\t\t\tvariant=\"default\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t@click=\"approveAssessment\"\n\t\t\t\t>\n\t\t\t\t\t<CheckCircleIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\tApprove\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Loading State -->\n\t\t<div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\n\t\t\t<div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n\t\t</div>\n\n\t\t<!-- Assessment Form -->\n\t\t<div v-else-if=\"assessment\" class=\"space-y-6\">\n\t\t\t<!-- Basic Information -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Assessment Information</template>\n\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment ID\"\n\t\t\t\t\t\t:value=\"assessment.assessment_id\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment Name\"\n\t\t\t\t\t\tv-model=\"assessment.assessment_name\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Fiscal Year\"\n\t\t\t\t\t\tv-model=\"assessment.fiscal_year\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment Date\"\n\t\t\t\t\t\tv-model=\"assessment.assessment_date\"\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Assessment Period\"\n\t\t\t\t\t\tv-model=\"assessment.assessment_period\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tv-model=\"assessment.assessment_period\"\n\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t:options=\"periodOptions\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\tv-model=\"assessment.status\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tv-model=\"assessment.status\"\n\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t:options=\"statusOptions\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Assessment Team -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Assessment Team</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div v-for=\"(member, index) in assessment.assessment_team\" :key=\"index\" class=\"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Team Member\"\n\t\t\t\t\t\t\tv-model=\"member.team_member\"\n\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Role\"\n\t\t\t\t\t\t\tv-model=\"member.role\"\n\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"flex items-end space-x-2\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t@click=\"removeTeamMember(index)\"\n\t\t\t\t\t\t\t\tclass=\"text-red-600 hover:text-red-700\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TrashIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t@click=\"addTeamMember\"\n\t\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<PlusIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\tAdd Team Member\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Assessment Scope & Methodology -->\n\t\t\t<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Assessment Scope</template>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"assessment.assessment_scope\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Methodology</template>\n\t\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t\t<div v-for=\"method in methodologyOptions\" :key=\"method.value\" class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t:id=\"`method-${method.value}`\"\n\t\t\t\t\t\t\t\tv-model=\"assessment.methodology\"\n\t\t\t\t\t\t\t\t:value=\"method.value\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\tclass=\"rounded border-gray-300\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label :for=\"`method-${method.value}`\" class=\"text-sm\">\n\t\t\t\t\t\t\t\t{{ method.label }}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<!-- Risk Register -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Risk Register</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t<h3 class=\"text-lg font-semibold\">Identified Risks</h3>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t@click=\"addRiskEntry\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PlusIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\tAdd Risk\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"overflow-x-auto\">\n\t\t\t\t\t\t<table class=\"min-w-full divide-y divide-gray-200\">\n\t\t\t\t\t\t\t<thead class=\"bg-gray-50\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tRisk ID\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tCategory\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tLikelihood\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tImpact\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tInherent Risk\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t<th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody class=\"bg-white divide-y divide-gray-200\">\n\t\t\t\t\t\t\t\t<tr v-for=\"(risk, index) in assessment.risk_register\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.risk_id }}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 text-sm text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.risk_title }}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.risk_category }}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.likelihood_score }}/5\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{{ risk.impact_score }}/5\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap\">\n\t\t\t\t\t\t\t\t\t\t<Badge :variant=\"getRiskVariant(risk.inherent_risk_score)\">\n\t\t\t\t\t\t\t\t\t\t\t{{ risk.inherent_risk_score }}/25\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"editRiskEntry(index)\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"removeRiskEntry(index)\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-red-600 hover:text-red-700\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<TrashIcon class=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Risk Heat Map -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Risk Heat Map</template>\n\t\t\t\t<div class=\"flex justify-center\">\n\t\t\t\t\t<RiskHeatMap\n\t\t\t\t\t\t:risks=\"assessment.risk_register\"\n\t\t\t\t\t\t:heatMapData=\"assessment.risk_heat_map_data\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Action Plan -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Action Plan</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div class=\"flex justify-between items-center\">\n\t\t\t\t\t\t<h3 class=\"text-lg font-semibold\">Mitigation Actions</h3>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t@click=\"addAction\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PlusIcon class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\tAdd Action\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t\t<div v-for=\"(action, index) in assessment.action_plan\" :key=\"index\" class=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Action ID\"\n\t\t\t\t\t\t\t\t\t:value=\"action.action_id\"\n\t\t\t\t\t\t\t\t\treadonly\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Action Description\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.action_description\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Responsible Party\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.responsible_party\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Target Completion Date\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.target_completion_date\"\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.status\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"action.status\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\t:options=\"actionStatusOptions\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Priority\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.priority\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<template #input>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"action.priority\"\n\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!isEditMode\"\n\t\t\t\t\t\t\t\t\t\t\t:options=\"priorityOptions\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Estimated Cost\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.estimated_cost\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\tlabel=\"Actual Completion Date\"\n\t\t\t\t\t\t\t\t\tv-model=\"action.actual_completion_date\"\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Top Risks Summary -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Top Risks Summary</template>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<div v-for=\"risk in assessment.top_risks\" :key=\"risk.risk_id\" class=\"p-4 border rounded-lg\">\n\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h4 class=\"font-semibold\">{{ risk.risk_description }}</h4>\n\t\t\t\t\t\t\t\t<p class=\"text-sm text-gray-600\">Risk Score: {{ risk.inherent_risk_score }}/25</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge :variant=\"getRiskVariant(risk.inherent_risk_score)\">\n\t\t\t\t\t\t\t\t{{ getRiskLevel(risk.inherent_risk_score) }}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Assessment Summary & Recommendations -->\n\t\t\t<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Assessment Summary</template>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"assessment.assessment_summary\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t\t<Card>\n\t\t\t\t\t<template #title>Recommendations</template>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"assessment.recommendations\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\trows=\"6\"\n\t\t\t\t\t/>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<!-- Approval Information -->\n\t\t\t<Card>\n\t\t\t\t<template #title>Approval Information</template>\n\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Prepared By\"\n\t\t\t\t\t\t:value=\"assessment.prepared_by\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Reviewed By\"\n\t\t\t\t\t\tv-model=\"assessment.reviewed_by\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Approved By\"\n\t\t\t\t\t\tv-model=\"assessment.approved_by\"\n\t\t\t\t\t\t:readonly=\"!isEditMode\"\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Approval Date\"\n\t\t\t\t\t\t:value=\"assessment.approval_date\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<!-- Action Buttons -->\n\t\t\t<div class=\"flex justify-end space-x-4\">\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t@click=\"cancelChanges\"\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"isEditMode\"\n\t\t\t\t\tvariant=\"default\"\n\t\t\t\t\t@click=\"saveChanges\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t>\n\t\t\t\t\t<SaveIcon v-if=\"!saving\" class=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t<div v-else class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n\t\t\t\t\t{{ saving ? 'Saving...' : 'Save Changes' }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Risk Entry Modal -->\n\t\t<Dialog v-model=\"showRiskModal\">\n\t\t\t<template #title>{{ editingRiskIndex !== null ? 'Edit Risk Entry' : 'Add Risk Entry' }}</template>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk ID\"\n\t\t\t\t\tv-model=\"riskForm.risk_id\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Title\"\n\t\t\t\t\tv-model=\"riskForm.risk_title\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Description\"\n\t\t\t\t\tv-model=\"riskForm.risk_description\"\n\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Category\"\n\t\t\t\t\tv-model=\"riskForm.risk_category\"\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Subcategory\"\n\t\t\t\t\tv-model=\"riskForm.risk_subcategory\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Auditable Entity\"\n\t\t\t\t\tv-model=\"riskForm.auditable_entity\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Threat Source\"\n\t\t\t\t\tv-model=\"riskForm.threat_source\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Vulnerability\"\n\t\t\t\t\tv-model=\"riskForm.vulnerability\"\n\t\t\t\t/>\n\t\t\t\t<div class=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Likelihood Score (1-5)\"\n\t\t\t\t\t\tv-model.number=\"riskForm.likelihood_score\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax=\"5\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tlabel=\"Impact Score (1-5)\"\n\t\t\t\t\t\tv-model.number=\"riskForm.impact_score\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax=\"5\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Control Effectiveness\"\n\t\t\t\t\tv-model=\"riskForm.control_effectiveness\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Existing Controls\"\n\t\t\t\t\tv-model=\"riskForm.existing_controls\"\n\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Owner\"\n\t\t\t\t\tv-model=\"riskForm.risk_owner\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Risk Response\"\n\t\t\t\t\tv-model=\"riskForm.risk_response\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tlabel=\"Target Risk Score\"\n\t\t\t\t\tv-model.number=\"riskForm.target_risk_score\"\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<template #actions>\n\t\t\t\t<Button variant=\"outline\" @click=\"closeRiskModal\">\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button @click=\"saveRiskEntry\">\n\t\t\t\t\t{{ editingRiskIndex !== null ? 'Update' : 'Add' }} Risk\n\t\t\t\t</Button>\n\t\t\t</template>\n\t\t</Dialog>\n\t</div>\n</template>\n\n<script setup>\nimport RiskHeatMap from \"@/components/RiskHeatMap.vue\"\nimport { Badge, Button, Card, Dialog, FormControl, Select } from \"frappe-ui\"\nimport { createResource } from \"frappe-ui\"\nimport {\n\tArrowLeftIcon,\n\tCheckCircleIcon,\n\tEditIcon,\n\tPlusIcon,\n\tSaveIcon,\n\tTrashIcon,\n} from \"lucide-vue-next\"\nimport { computed, onMounted, ref, watch } from \"vue\"\nimport { useRoute, useRouter } from \"vue-router\"\n\n// Route and router\nconst route = useRoute()\nconst router = useRouter()\n\n// Props\nconst props = defineProps({\n\tassessmentId: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n\tmode: {\n\t\ttype: String,\n\t\tdefault: \"view\", // 'view', 'edit', 'new'\n\t},\n})\n\n// Reactive data\nconst assessment = ref(null)\nconst loading = ref(true)\nconst saving = ref(false)\nconst isEditMode = ref(props.mode === \"edit\" || props.mode === \"new\")\nconst showRiskModal = ref(false)\nconst editingRiskIndex = ref(null)\n\n// Form data\nconst riskForm = ref({\n\trisk_id: \"\",\n\trisk_title: \"\",\n\trisk_description: \"\",\n\trisk_category: \"\",\n\trisk_subcategory: \"\",\n\tauditable_entity: \"\",\n\tthreat_source: \"\",\n\tvulnerability: \"\",\n\tlikelihood_score: 1,\n\timpact_score: 1,\n\tcontrol_effectiveness: \"\",\n\texisting_controls: \"\",\n\trisk_owner: \"\",\n\trisk_response: \"\",\n\ttarget_risk_score: 0,\n\tlikelihood_rationale: \"\",\n\timpact_rationale: \"\",\n})\n\n// Options\nconst periodOptions = [\n\t{ label: \"Annual\", value: \"Annual\" },\n\t{ label: \"Mid-Year\", value: \"Mid-Year\" },\n\t{ label: \"Quarterly\", value: \"Quarterly\" },\n\t{ label: \"Ad-hoc\", value: \"Ad-hoc\" },\n]\n\nconst statusOptions = [\n\t{ label: \"Planning\", value: \"Planning\" },\n\t{ label: \"In Progress\", value: \"In Progress\" },\n\t{ label: \"Review\", value: \"Review\" },\n\t{ label: \"Finalized\", value: \"Finalized\" },\n\t{ label: \"Approved\", value: \"Approved\" },\n]\n\nconst methodologyOptions = [\n\t{ label: \"Interview\", value: \"interview\" },\n\t{ label: \"Workshop\", value: \"workshop\" },\n\t{ label: \"Survey\", value: \"survey\" },\n\t{ label: \"Document Review\", value: \"document_review\" },\n\t{ label: \"Data Analysis\", value: \"data_analysis\" },\n]\n\nconst actionStatusOptions = [\n\t{ label: \"Planned\", value: \"Planned\" },\n\t{ label: \"In Progress\", value: \"In Progress\" },\n\t{ label: \"Completed\", value: \"Completed\" },\n\t{ label: \"Overdue\", value: \"Overdue\" },\n]\n\nconst priorityOptions = [\n\t{ label: \"Low\", value: \"Low\" },\n\t{ label: \"Medium\", value: \"Medium\" },\n\t{ label: \"High\", value: \"High\" },\n\t{ label: \"Critical\", value: \"Critical\" },\n]\n\n// Computed properties\nconst canEdit = computed(() => {\n\treturn assessment.value?.status !== \"Approved\"\n})\n\nconst canApprove = computed(() => {\n\t// Check user permissions for approval\n\treturn true // Placeholder - implement based on user roles\n})\n\n// Methods\nconst loadAssessment = async () => {\n\tloading.value = true\n\ttry {\n\t\tif (props.mode === \"new\") {\n\t\t\t// Create new assessment\n\t\t\tassessment.value = {\n\t\t\t\tassessment_id: \"\",\n\t\t\t\tassessment_name: \"\",\n\t\t\t\tassessment_date: new Date().toISOString().split(\"T\")[0],\n\t\t\t\tfiscal_year: new Date().getFullYear().toString(),\n\t\t\t\tassessment_period: \"Annual\",\n\t\t\t\tassessment_team: [],\n\t\t\t\tassessment_scope: \"\",\n\t\t\t\tmethodology: [],\n\t\t\t\tstatus: \"Planning\",\n\t\t\t\trisk_register: [],\n\t\t\t\taction_plan: [],\n\t\t\t\trisk_heat_map_data: {},\n\t\t\t\ttop_risks: [],\n\t\t\t\tassessment_summary: \"\",\n\t\t\t\trecommendations: \"\",\n\t\t\t\tprepared_by: \"\",\n\t\t\t\treviewed_by: \"\",\n\t\t\t\tapproved_by: \"\",\n\t\t\t\tapproval_date: \"\",\n\t\t\t}\n\t\t} else {\n\t\t\t// Load existing assessment\n\t\t\tconst assessmentId = props.assessmentId || route.params.id\n\t\t\tif (!assessmentId) {\n\t\t\t\tthrow new Error(\"Assessment ID is required\")\n\t\t\t}\n\n\t\t\tconst res = await createResource({\n\t\t\t\turl: \"frappe.client.get\",\n\t\t\t\tparams: { doctype: \"Risk Assessment\", name: assessmentId },\n\t\t\t}).fetch()\n\t\t\tassessment.value = res\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error loading assessment:\", error)\n\t} finally {\n\t\tloading.value = false\n\t}\n}\n\nconst toggleEditMode = () => {\n\tif (props.mode === \"view\") {\n\t\t// Navigate to edit route\n\t\trouter.push(\n\t\t\t`/audit-planning/risk-assessment/${props.assessmentId || route.params.id}/edit`,\n\t\t)\n\t} else {\n\t\t// Cancel edit mode\n\t\tcancelChanges()\n\t}\n}\n\nconst saveChanges = async () => {\n\tsaving.value = true\n\ttry {\n\t\t// Calculate inherent risk scores\n\t\tassessment.value.risk_register.forEach((risk) => {\n\t\t\trisk.inherent_risk_score = risk.likelihood_score * risk.impact_score\n\t\t})\n\n\t\t// Generate assessment ID if creating new\n\t\tif (props.mode === \"new\" && !assessment.value.assessment_id) {\n\t\t\tconst year = assessment.value.fiscal_year.slice(-2)\n\t\t\t// TODO: Get next number from API\n\t\t\tconst nextNumber = Math.floor(Math.random() * 1000) + 1\n\t\t\tassessment.value.assessment_id = `RA-${assessment.value.fiscal_year}-${String(nextNumber).padStart(4, \"0\")}`\n\t\t}\n\n\t\tif (props.mode === \"new\") {\n\t\t\t// Create new document\n\t\t\tconst res = await createResource({\n\t\t\t\turl: \"frappe.client.insert\",\n\t\t\t\tparams: {\n\t\t\t\t\tdoc: {\n\t\t\t\t\t\tdoctype: \"Risk Assessment\",\n\t\t\t\t\t\t...assessment.value,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}).fetch()\n\n\t\t\t// Redirect to detail view after creating\n\t\t\trouter.push(`/audit-planning/risk-assessment/${res.name}`)\n\t\t} else {\n\t\t\t// Update existing document\n\t\t\tconst assessmentId = props.assessmentId || route.params.id\n\t\t\tconst docToUpdate = {\n\t\t\t\tdoctype: \"Risk Assessment\",\n\t\t\t\tname: assessmentId,\n\t\t\t\t...assessment.value,\n\t\t\t}\n\n\t\t\tawait createResource({\n\t\t\t\turl: \"frappe.client.save\",\n\t\t\t\tparams: {\n\t\t\t\t\tdoc: docToUpdate,\n\t\t\t\t},\n\t\t\t}).fetch()\n\n\t\t\tisEditMode.value = false\n\t\t\t// Reload to get updated data\n\t\t\tawait loadAssessment()\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error saving changes:\", error)\n\t} finally {\n\t\tsaving.value = false\n\t}\n}\n\nconst cancelChanges = () => {\n\tif (props.mode === \"new\") {\n\t\t// Go back to list for new assessments\n\t\trouter.push(\"/audit-planning/risk-assessment\")\n\t} else if (props.mode === \"edit\") {\n\t\t// Go back to view mode for existing assessments\n\t\trouter.push(\n\t\t\t`/audit-planning/risk-assessment/${props.assessmentId || route.params.id}`,\n\t\t)\n\t} else {\n\t\t// Just exit edit mode\n\t\tisEditMode.value = false\n\t\tloadAssessment()\n\t}\n}\n\nconst approveAssessment = async () => {\n\ttry {\n\t\tassessment.value.status = \"Approved\"\n\t\tassessment.value.approved_by = \"Current User\" // TODO: Get from session\n\t\tassessment.value.approval_date = new Date().toISOString().split(\"T\")[0]\n\t\tawait saveChanges()\n\t} catch (error) {\n\t\tconsole.error(\"Error approving assessment:\", error)\n\t}\n}\n\nconst addTeamMember = () => {\n\tassessment.value.assessment_team.push({\n\t\tteam_member: \"\",\n\t\trole: \"\",\n\t})\n}\n\nconst removeTeamMember = (index) => {\n\tassessment.value.assessment_team.splice(index, 1)\n}\n\nconst addRiskEntry = () => {\n\teditingRiskIndex.value = null\n\triskForm.value = {\n\t\trisk_id: `R${String(assessment.value.risk_register.length + 1).padStart(3, \"0\")}`,\n\t\trisk_title: \"\",\n\t\trisk_description: \"\",\n\t\trisk_category: \"\",\n\t\trisk_subcategory: \"\",\n\t\tauditable_entity: \"\",\n\t\tthreat_source: \"\",\n\t\tvulnerability: \"\",\n\t\tlikelihood_score: 1,\n\t\timpact_score: 1,\n\t\tcontrol_effectiveness: \"\",\n\t\texisting_controls: \"\",\n\t\trisk_owner: \"\",\n\t\trisk_response: \"\",\n\t\ttarget_risk_score: 0,\n\t\tlikelihood_rationale: \"\",\n\t\timpact_rationale: \"\",\n\t}\n\tshowRiskModal.value = true\n}\n\nconst editRiskEntry = (index) => {\n\teditingRiskIndex.value = index\n\triskForm.value = { ...assessment.value.risk_register[index] }\n\tshowRiskModal.value = true\n}\n\nconst removeRiskEntry = (index) => {\n\tassessment.value.risk_register.splice(index, 1)\n}\n\nconst saveRiskEntry = () => {\n\tconst riskData = {\n\t\t...riskForm.value,\n\t\tinherent_risk_score:\n\t\t\triskForm.value.likelihood_score * riskForm.value.impact_score,\n\t}\n\n\tif (editingRiskIndex.value !== null) {\n\t\tassessment.value.risk_register[editingRiskIndex.value] = riskData\n\t} else {\n\t\tassessment.value.risk_register.push(riskData)\n\t}\n\n\tcloseRiskModal()\n}\n\nconst closeRiskModal = () => {\n\tshowRiskModal.value = false\n\teditingRiskIndex.value = null\n\triskForm.value = {\n\t\trisk_id: \"\",\n\t\trisk_title: \"\",\n\t\trisk_description: \"\",\n\t\trisk_category: \"\",\n\t\trisk_subcategory: \"\",\n\t\tauditable_entity: \"\",\n\t\tthreat_source: \"\",\n\t\tvulnerability: \"\",\n\t\tlikelihood_score: 1,\n\t\timpact_score: 1,\n\t\tcontrol_effectiveness: \"\",\n\t\texisting_controls: \"\",\n\t\trisk_owner: \"\",\n\t\trisk_response: \"\",\n\t\ttarget_risk_score: 0,\n\t\tlikelihood_rationale: \"\",\n\t\timpact_rationale: \"\",\n\t}\n}\n\nconst addAction = () => {\n\tassessment.value.action_plan.push({\n\t\taction_id: `A${String(assessment.value.action_plan.length + 1).padStart(3, \"0\")}`,\n\t\taction_description: \"\",\n\t\taction_type: \"\",\n\t\tpriority: \"Medium\",\n\t\tresponsible_party: \"\",\n\t\ttarget_completion_date: \"\",\n\t\testimated_cost: 0,\n\t\tresource_required: \"\",\n\t\tstatus: \"Not Started\",\n\t\tactual_completion_date: \"\",\n\t\teffectiveness_review_date: \"\",\n\t\treview_notes: \"\",\n\t})\n}\n\nconst removeAction = (index) => {\n\tassessment.value.action_plan.splice(index, 1)\n}\n\nconst getStatusVariant = (status) => {\n\tconst variants = {\n\t\tPlanning: \"secondary\",\n\t\t\"In Progress\": \"warning\",\n\t\tReview: \"info\",\n\t\tFinalized: \"success\",\n\t\tApproved: \"success\",\n\t}\n\treturn variants[status] || \"secondary\"\n}\n\nconst getRiskVariant = (score) => {\n\tif (score >= 20) return \"destructive\"\n\tif (score >= 15) return \"warning\"\n\tif (score >= 10) return \"secondary\"\n\treturn \"success\"\n}\n\nconst getRiskLevel = (score) => {\n\tif (score >= 20) return \"Critical\"\n\tif (score >= 15) return \"High\"\n\tif (score >= 10) return \"Medium\"\n\treturn \"Low\"\n}\n\n// Watch for risk register changes to update heat map\nwatch(\n\t() => assessment.value?.risk_register,\n\t(newRisks) => {\n\t\tif (newRisks) {\n\t\t\tupdateHeatMapData()\n\t\t}\n\t},\n\t{ deep: true },\n)\n\nconst updateHeatMapData = () => {\n\tif (!assessment.value) return\n\n\tconst heatMap = {}\n\tassessment.value.risk_register.forEach((risk) => {\n\t\tconst key = `${risk.likelihood_score}-${risk.impact_score}`\n\t\theatMap[key] = (heatMap[key] || 0) + 1\n\t})\n\n\tassessment.value.risk_heat_map_data = heatMap\n\n\t// Update top risks\n\tassessment.value.top_risks = [...assessment.value.risk_register]\n\t\t.sort((a, b) => b.inherent_risk_score - a.inherent_risk_score)\n\t\t.slice(0, 5)\n}\n\n// Lifecycle\nonMounted(() => {\n\tloadAssessment()\n})\n</script>"],"names":["_sfc_main","LoadingIndicator","_hoisted_1","_openBlock","_createElementBlock","_createVNode","_component_LoadingIndicator","_createTextVNode","$props","LoadingText","_hoisted_2","_hoisted_3","_hoisted_5","_createElementVNode","_ctx","_hoisted_4","_renderSlot","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_component_LoadingText","_hoisted_9","props","__props","showDetailsModal","ref","selectedCell","cellRisks","computed","risk","getCellClass","likelihood","impact","riskScore","count","getCellCount","baseClass","key","onCellClick","getRiskVariant","score","_Fragment","_renderList","$event","_unref","Dialog","_hoisted_10","_hoisted_11","_hoisted_12","Badge","route","useRoute","router","useRouter","assessment","loading","saving","isEditMode","showRiskModal","editingRiskIndex","riskForm","periodOptions","statusOptions","methodologyOptions","actionStatusOptions","priorityOptions","canEdit","_a","canApprove","loadAssessment","__async","assessmentId","res","createResource","error","toggleEditMode","cancelChanges","saveChanges","year","nextNumber","__spreadValues","docToUpdate","approveAssessment","addTeamMember","removeTeamMember","index","addRiskEntry","editRiskEntry","removeRiskEntry","saveRiskEntry","riskData","__spreadProps","closeRiskModal","addAction","getStatusVariant","status","getRiskLevel","watch","newRisks","updateHeatMapData","heatMap","a","b","onMounted","Button","_cache","$router","ArrowLeftIcon","_b","_createBlock","EditIcon","_c","CheckCircleIcon","Card","FormControl","Select","member","TrashIcon","PlusIcon","method","_vModelCheckbox","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","RiskHeatMap","_hoisted_28","_hoisted_29","_hoisted_30","action","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","SaveIcon","_hoisted_40","_hoisted_41"],"mappings":"g8BAQA,MAAKA,GAAU,CACb,KAAM,UACN,MAAO,CACL,KAAM,CACJ,KAAM,OACN,QAAS,eAGb,WAAY,CACV,iBAAAC,GAEJ,EAlBOC,GAAA,CAAA,MAAM,6CAA6C,0DAAxD,OAAAC,EAAA,EAAAC,EAEM,MAFNF,GAEM,CADJG,EAA+CC,EAAA,CAA7B,MAAM,oBAAoB,CAAA,EAAGC,EAAA,MAAIC,EAAA,IAAI,EAAA,CAAA,mCC2BtDR,GAAU,CACb,KAAM,OACN,MAAO,CACL,MAAO,CACL,KAAM,QAER,SAAU,CACR,KAAM,QAER,QAAS,CACP,KAAM,UAGV,WAAY,CACV,YAAAS,GAEJ,EA5COP,GAAA,CAAA,MAAM,2DAA2D,EAC/DQ,GAAA,CAAA,MAAM,qCAAqC,EACzCC,GAAA,CAAA,MAAM,+BAA+B,YACnC,MAAM,+BAGPC,GAAA,CAAA,MAAM,uBAAuB,YAE9B,MAAM,yCAIV,MAAM,4CAKP,MAAM,iFAIH,MAAM,mFArBb,OAAAT,EAAA,EAAAC,EAwBM,MAxBNF,GAwBM,CAvBJW,EAUM,MAVNH,GAUM,CATJG,EAKM,MALNF,GAKM,CAJ2CG,EAAA,OAAM,cAAA,GAArDX,IAAAC,EAEM,MAFNW,GAEM,CADJC,EAAiCF,EAAA,OAAA,cAAA,cAEnCD,EAAkD,KAAlDD,GAAkDK,EAAbT,EAAA,KAAK,EAAA,CAAA,IAEGM,EAAA,OAAM,SAArDX,IAAAC,EAEM,MAFNc,GAEM,CADJF,EAA4BF,EAAA,OAAA,SAAA,gBAGgBN,EAAA,cAAhDJ,EAEI,IAFJe,GAEIF,EADCT,EAAA,QAAQ,EAAA,CAAA,YAGLA,EAAA,SADRL,IAAAC,EAKM,MALNgB,GAKM,CADJf,EAAegB,CAAA,KAEoCP,EAAA,OAAM,SAA3DX,IAAAC,EAEM,MAFNkB,GAEM,CADJN,EAAaF,EAAA,OAAA,SAAA,spBC6EnB,MAAMS,EAAQC,EAYRC,EAAmBC,EAAI,EAAK,EAC5BC,EAAeD,EAAI,CAAE,WAAY,EAAG,OAAQ,CAAC,CAAE,EAG/CE,EAAYC,EAAS,IACtB,CAACF,EAAa,MAAM,YAAc,CAACA,EAAa,MAAM,OAAe,CAAA,EAElEJ,EAAM,MAAM,OACjBO,GACAA,EAAK,mBAAqBH,EAAa,MAAM,YAC7CG,EAAK,eAAiBH,EAAa,MAAM,MAC5C,CACC,EAGKI,EAAe,CAACC,EAAYC,IAAW,CAC5C,MAAMC,EAAYF,EAAaC,EACzBE,EAAQC,EAAaJ,EAAYC,CAAM,EAE7C,IAAII,EAAY,kBAGhB,OAAIH,GAAa,GAChBG,EAAY,yCACFH,GAAa,GACvBG,EAAY,kDACFH,GAAa,EACvBG,EAAY,kDAEZA,EAAY,+CAITF,EAAQ,IACXE,GAAa,cAGPA,CACR,EAEMD,EAAe,CAACJ,EAAYC,IAAW,CAC5C,MAAMK,EAAM,GAAGN,CAAU,IAAIC,CAAM,GACnC,OAAOV,EAAM,YAAYe,CAAG,GAAK,CAClC,EAEMC,EAAc,CAACP,EAAYC,IAAW,CAC3CN,EAAa,MAAQ,CAAE,WAAAK,EAAY,OAAAC,CAAM,EACzCR,EAAiB,MAAQ,EAC1B,EAEMe,EAAkBC,GACnBA,GAAS,GAAW,cACpBA,GAAS,GAAW,UACpBA,GAAS,GAAW,YACjB,wBArKPtC,EAAA,EAAAC,EA2FM,MA3FNF,GA2FM,CA1FLW,EAyBM,MAzBNH,GAyBM,aAvBLG,EAA8B,MAAA,CAAzB,MAAM,YAAY,EAAA,KAAA,EAAA,QACvBT,EAEMsC,EAAA,KAAAC,EAFgB,EAAVV,GAAZpB,EAEM,MAAA,CAFoB,cAAeoB,CAAM,GAAI,MAAM,uDACrDA,CAAM,EAAA,CAAA,aAIV7B,EAgBMsC,EAAA,KAAAC,EAhBoB,EAAdX,GAAZnB,EAgBM,MAAA,CAhBwB,kBAAmBmB,CAAU,GAAI,MAAM,aAEpEnB,EAEM,MAFNF,GAEMM,EADFe,CAAU,EAAA,CAAA,OAId5B,EAQMsC,EAAA,KAAAC,EAPY,EAAVV,GADRpB,EAQM,MAAA,CANJ,IAAG,QAAUmB,CAAU,IAAIC,CAAM,GACjC,UAAOF,EAAaC,EAAYC,CAAM,EACjC,8IAA8I,CAAA,EACnJ,QAAKW,GAAEL,EAAYP,EAAYC,CAAM,KAEnCG,EAAaJ,EAAYC,CAAM,CAAA,EAAA,GAAAlB,EAAA,o9CAwCrCV,EA2BSwC,EAAAC,EAAA,EAAA,YA3BQrB,EAAA,2CAAAA,EAAgB,MAAAmB,KACrB,QAAM,IAAS,GAAT,YAAS3B,EAAGU,EAAA,MAAa,UAAU,EAAG,IAACV,EAAGU,EAAA,MAAa,MAAM,EAAG,QAAK,CAAA,cACtF,IAwBM,CAxBNd,EAwBM,MAxBND,GAwBM,CAvBMgB,EAAA,MAAU,SAAM,OAA3BxB,EAEM,MAFNc,GAA0E,yBAE1E,IACAf,IAAAC,EAmBM,MAnBNe,GAmBM,QAlBLf,EAiBMsC,EAAA,KAAAC,EAhBUf,EAAA,MAARE,QADR1B,EAiBM,MAAA,CAfJ,IAAK0B,EAAK,QACX,MAAM,0BAENjB,EAWM,MAXNO,GAWM,CAVLP,EAMM,MANNS,GAMM,CALLT,EAAyD,MAAzDkC,GAAyD9B,EAArBa,EAAK,OAAO,EAAA,CAAA,EAChDjB,EAAyE,MAAzEmC,GAAyE/B,EAA9Ba,EAAK,gBAAgB,EAAA,CAAA,EAChEjB,EAEM,MAFNoC,GAAwC,cAC7BhC,EAAGa,EAAK,aAAa,EAAA,CAAA,IAGjCzB,EAEQwC,EAAAK,CAAA,EAAA,CAFA,QAASV,EAAeV,EAAK,mBAAmB,EAAG,MAAM,mBAChE,IAA8B,KAA3BA,EAAK,mBAAmB,EAAG,OAC/B,CAAA,47DCueP,MAAMqB,EAAQC,GAAQ,EAChBC,EAASC,GAAS,EAGlB/B,EAAQC,EAYR+B,EAAa7B,EAAI,IAAI,EACrB8B,EAAU9B,EAAI,EAAI,EAClB+B,EAAS/B,EAAI,EAAK,EAClBgC,EAAahC,EAAIH,EAAM,OAAS,QAAUA,EAAM,OAAS,KAAK,EAC9DoC,EAAgBjC,EAAI,EAAK,EACzBkC,EAAmBlC,EAAI,IAAI,EAG3BmC,EAAWnC,EAAI,CACpB,QAAS,GACT,WAAY,GACZ,iBAAkB,GAClB,cAAe,GACf,iBAAkB,GAClB,iBAAkB,GAClB,cAAe,GACf,cAAe,GACf,iBAAkB,EAClB,aAAc,EACd,sBAAuB,GACvB,kBAAmB,GACnB,WAAY,GACZ,cAAe,GACf,kBAAmB,EACnB,qBAAsB,GACtB,iBAAkB,EACnB,CAAC,EAGKoC,EAAgB,CACrB,CAAE,MAAO,SAAU,MAAO,QAAQ,EAClC,CAAE,MAAO,WAAY,MAAO,UAAU,EACtC,CAAE,MAAO,YAAa,MAAO,WAAW,EACxC,CAAE,MAAO,SAAU,MAAO,QAAQ,CACnC,EAEMC,EAAgB,CACrB,CAAE,MAAO,WAAY,MAAO,UAAU,EACtC,CAAE,MAAO,cAAe,MAAO,aAAa,EAC5C,CAAE,MAAO,SAAU,MAAO,QAAQ,EAClC,CAAE,MAAO,YAAa,MAAO,WAAW,EACxC,CAAE,MAAO,WAAY,MAAO,UAAU,CACvC,EAEMC,EAAqB,CAC1B,CAAE,MAAO,YAAa,MAAO,WAAW,EACxC,CAAE,MAAO,WAAY,MAAO,UAAU,EACtC,CAAE,MAAO,SAAU,MAAO,QAAQ,EAClC,CAAE,MAAO,kBAAmB,MAAO,iBAAiB,EACpD,CAAE,MAAO,gBAAiB,MAAO,eAAe,CACjD,EAEMC,GAAsB,CAC3B,CAAE,MAAO,UAAW,MAAO,SAAS,EACpC,CAAE,MAAO,cAAe,MAAO,aAAa,EAC5C,CAAE,MAAO,YAAa,MAAO,WAAW,EACxC,CAAE,MAAO,UAAW,MAAO,SAAS,CACrC,EAEMC,GAAkB,CACvB,CAAE,MAAO,MAAO,MAAO,KAAK,EAC5B,CAAE,MAAO,SAAU,MAAO,QAAQ,EAClC,CAAE,MAAO,OAAQ,MAAO,MAAM,EAC9B,CAAE,MAAO,WAAY,MAAO,UAAU,CACvC,EAGMC,GAAUtC,EAAS,IAAM,OAC9B,QAAOuC,EAAAb,EAAW,QAAX,YAAAa,EAAkB,UAAW,UACrC,CAAC,EAEKC,GAAaxC,EAAS,IAEpB,EACP,EAGKyC,EAAiB,IAAYC,EAAA,sBAClCf,EAAQ,MAAQ,GAChB,GAAI,CACH,GAAIjC,EAAM,OAAS,MAElBgC,EAAW,MAAQ,CAClB,cAAe,GACf,gBAAiB,GACjB,gBAAiB,IAAI,OAAO,YAAW,EAAG,MAAM,GAAG,EAAE,CAAC,EACtD,YAAa,IAAI,KAAI,EAAG,YAAW,EAAG,SAAQ,EAC9C,kBAAmB,SACnB,gBAAiB,CAAA,EACjB,iBAAkB,GAClB,YAAa,CAAA,EACb,OAAQ,WACR,cAAe,CAAA,EACf,YAAa,CAAA,EACb,mBAAoB,CAAA,EACpB,UAAW,CAAA,EACX,mBAAoB,GACpB,gBAAiB,GACjB,YAAa,GACb,YAAa,GACb,YAAa,GACb,cAAe,EACnB,MACS,CAEN,MAAMiB,EAAejD,EAAM,cAAgB4B,EAAM,OAAO,GACxD,GAAI,CAACqB,EACJ,MAAM,IAAI,MAAM,2BAA2B,EAG5C,MAAMC,EAAM,MAAMC,EAAe,CAChC,IAAK,oBACL,OAAQ,CAAE,QAAS,kBAAmB,KAAMF,CAAY,CAC5D,CAAI,EAAE,MAAK,EACRjB,EAAW,MAAQkB,CACpB,CACD,OAASE,EAAO,CACf,QAAQ,MAAM,4BAA6BA,CAAK,CACjD,QAAC,CACAnB,EAAQ,MAAQ,EACjB,CACD,GAEMoB,GAAiB,IAAM,CACxBrD,EAAM,OAAS,OAElB8B,EAAO,KACN,mCAAmC9B,EAAM,cAAgB4B,EAAM,OAAO,EAAE,OAC3E,EAGE0B,EAAa,CAEf,EAEMC,EAAc,IAAYP,EAAA,sBAC/Bd,EAAO,MAAQ,GACf,GAAI,CAOH,GALAF,EAAW,MAAM,cAAc,QAASzB,GAAS,CAChDA,EAAK,oBAAsBA,EAAK,iBAAmBA,EAAK,YACzD,CAAC,EAGGP,EAAM,OAAS,OAAS,CAACgC,EAAW,MAAM,cAAe,CAC5D,MAAMwB,EAAOxB,EAAW,MAAM,YAAY,MAAM,EAAE,EAE5CyB,EAAa,KAAK,MAAM,KAAK,OAAM,EAAK,GAAI,EAAI,EACtDzB,EAAW,MAAM,cAAgB,MAAMA,EAAW,MAAM,WAAW,IAAI,OAAOyB,CAAU,EAAE,SAAS,EAAG,GAAG,CAAC,EAC3G,CAEA,GAAIzD,EAAM,OAAS,MAAO,CAEzB,MAAMkD,EAAM,MAAMC,EAAe,CAChC,IAAK,uBACL,OAAQ,CACP,IAAKO,EAAA,CACJ,QAAS,mBACN1B,EAAW,MAEpB,CACA,CAAI,EAAE,MAAK,EAGRF,EAAO,KAAK,mCAAmCoB,EAAI,IAAI,EAAE,CAC1D,KAAO,CAEN,MAAMD,EAAejD,EAAM,cAAgB4B,EAAM,OAAO,GAClD+B,EAAcD,EAAA,CACnB,QAAS,kBACT,KAAMT,GACHjB,EAAW,OAGf,MAAMmB,EAAe,CACpB,IAAK,qBACL,OAAQ,CACP,IAAKQ,CACV,CACA,CAAI,EAAE,MAAK,EAERxB,EAAW,MAAQ,GAEnB,MAAMY,EAAc,CACrB,CACD,OAASK,EAAO,CACf,QAAQ,MAAM,wBAAyBA,CAAK,CAC7C,QAAC,CACAlB,EAAO,MAAQ,EAChB,CACD,GAEMoB,EAAgB,IAAM,CACvBtD,EAAM,OAAS,MAElB8B,EAAO,KAAK,iCAAiC,EACnC9B,EAAM,OAAS,OAEzB8B,EAAO,KACN,mCAAmC9B,EAAM,cAAgB4B,EAAM,OAAO,EAAE,EAC3E,GAGEO,EAAW,MAAQ,GACnBY,EAAc,EAEhB,EAEMa,GAAoB,IAAYZ,EAAA,sBACrC,GAAI,CACHhB,EAAW,MAAM,OAAS,WAC1BA,EAAW,MAAM,YAAc,eAC/BA,EAAW,MAAM,cAAgB,IAAI,KAAI,EAAG,cAAc,MAAM,GAAG,EAAE,CAAC,EACtE,MAAMuB,EAAW,CAClB,OAASH,EAAO,CACf,QAAQ,MAAM,8BAA+BA,CAAK,CACnD,CACD,GAEMS,GAAgB,IAAM,CAC3B7B,EAAW,MAAM,gBAAgB,KAAK,CACrC,YAAa,GACb,KAAM,EACR,CAAE,CACF,EAEM8B,GAAoBC,GAAU,CACnC/B,EAAW,MAAM,gBAAgB,OAAO+B,EAAO,CAAC,CACjD,EAEMC,GAAe,IAAM,CAC1B3B,EAAiB,MAAQ,KACzBC,EAAS,MAAQ,CAChB,QAAS,IAAI,OAAON,EAAW,MAAM,cAAc,OAAS,CAAC,EAAE,SAAS,EAAG,GAAG,CAAC,GAC/E,WAAY,GACZ,iBAAkB,GAClB,cAAe,GACf,iBAAkB,GAClB,iBAAkB,GAClB,cAAe,GACf,cAAe,GACf,iBAAkB,EAClB,aAAc,EACd,sBAAuB,GACvB,kBAAmB,GACnB,WAAY,GACZ,cAAe,GACf,kBAAmB,EACnB,qBAAsB,GACtB,iBAAkB,EACpB,EACCI,EAAc,MAAQ,EACvB,EAEM6B,GAAiBF,GAAU,CAChC1B,EAAiB,MAAQ0B,EACzBzB,EAAS,MAAQoB,EAAA,GAAK1B,EAAW,MAAM,cAAc+B,CAAK,GAC1D3B,EAAc,MAAQ,EACvB,EAEM8B,GAAmBH,GAAU,CAClC/B,EAAW,MAAM,cAAc,OAAO+B,EAAO,CAAC,CAC/C,EAEMI,GAAgB,IAAM,CAC3B,MAAMC,EAAWC,GAAAX,EAAA,GACbpB,EAAS,OADI,CAEhB,oBACCA,EAAS,MAAM,iBAAmBA,EAAS,MAAM,YACpD,GAEKD,EAAiB,QAAU,KAC9BL,EAAW,MAAM,cAAcK,EAAiB,KAAK,EAAI+B,EAEzDpC,EAAW,MAAM,cAAc,KAAKoC,CAAQ,EAG7CE,EAAc,CACf,EAEMA,EAAiB,IAAM,CAC5BlC,EAAc,MAAQ,GACtBC,EAAiB,MAAQ,KACzBC,EAAS,MAAQ,CAChB,QAAS,GACT,WAAY,GACZ,iBAAkB,GAClB,cAAe,GACf,iBAAkB,GAClB,iBAAkB,GAClB,cAAe,GACf,cAAe,GACf,iBAAkB,EAClB,aAAc,EACd,sBAAuB,GACvB,kBAAmB,GACnB,WAAY,GACZ,cAAe,GACf,kBAAmB,EACnB,qBAAsB,GACtB,iBAAkB,EACpB,CACA,EAEMiC,GAAY,IAAM,CACvBvC,EAAW,MAAM,YAAY,KAAK,CACjC,UAAW,IAAI,OAAOA,EAAW,MAAM,YAAY,OAAS,CAAC,EAAE,SAAS,EAAG,GAAG,CAAC,GAC/E,mBAAoB,GACpB,YAAa,GACb,SAAU,SACV,kBAAmB,GACnB,uBAAwB,GACxB,eAAgB,EAChB,kBAAmB,GACnB,OAAQ,cACR,uBAAwB,GACxB,0BAA2B,GAC3B,aAAc,EAChB,CAAE,CACF,EAMMwC,GAAoBC,IACR,CAChB,SAAU,YACV,cAAe,UACf,OAAQ,OACR,UAAW,UACX,SAAU,SACZ,GACiBA,CAAM,GAAK,YAGtBxD,EAAkBC,GACnBA,GAAS,GAAW,cACpBA,GAAS,GAAW,UACpBA,GAAS,GAAW,YACjB,UAGFwD,GAAgBxD,GACjBA,GAAS,GAAW,WACpBA,GAAS,GAAW,OACpBA,GAAS,GAAW,SACjB,MAIRyD,GACC,IAAA,OAAM,OAAA9B,EAAAb,EAAW,QAAX,YAAAa,EAAkB,eACvB+B,GAAa,CACTA,GACHC,GAAiB,CAEnB,EACA,CAAE,KAAM,EAAI,CACb,EAEA,MAAMA,GAAoB,IAAM,CAC/B,GAAI,CAAC7C,EAAW,MAAO,OAEvB,MAAM8C,EAAU,CAAA,EAChB9C,EAAW,MAAM,cAAc,QAASzB,GAAS,CAChD,MAAMQ,EAAM,GAAGR,EAAK,gBAAgB,IAAIA,EAAK,YAAY,GACzDuE,EAAQ/D,CAAG,GAAK+D,EAAQ/D,CAAG,GAAK,GAAK,CACtC,CAAC,EAEDiB,EAAW,MAAM,mBAAqB8C,EAGtC9C,EAAW,MAAM,UAAY,CAAC,GAAGA,EAAW,MAAM,aAAa,EAC7D,KAAK,CAAC+C,EAAGC,IAAMA,EAAE,oBAAsBD,EAAE,mBAAmB,EAC5D,MAAM,EAAG,CAAC,CACb,EAGA,OAAAE,GAAU,IAAM,CACflC,EAAc,CACf,CAAC,oBAz8BA,OAAAnE,EAAA,EAAAC,EAyiBM,MAziBNF,GAyiBM,CAviBLW,EA8CM,MA9CNH,GA8CM,CA7CLG,EAkBM,MAlBNF,GAkBM,CAjBLN,EAQSwC,EAAA4D,CAAA,EAAA,CAPR,QAAQ,QACR,KAAK,KACJ,QAAKC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAE+D,EAAAA,QAAQ,GAAE,EAAA,GAClB,MAAM,0CAEN,IAAiC,CAAjCtG,EAAiCwC,EAAA+D,EAAA,EAAA,CAAlB,MAAM,SAAS,CAAA,EAC9BF,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA7F,EAAiB,YAAX,OAAI,EAAA,WAEXA,EAOM,MAAA,KAAA,CANL6F,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA7F,EAEK,KAAA,CAFD,MAAM,kCAAkC,EAAC,4BAE7C,EAAA,GACAA,EAEI,IAFJE,GAEIE,IADAmD,EAAAb,EAAA,QAAA,YAAAa,EAAY,gBAAa,YAAA,EAAA,CAAA,MAI/BvD,EAyBM,MAzBND,GAyBM,CAxBLP,EAKQwC,EAAAK,CAAA,EAAA,CAJN,QAAS6C,IAAiBc,EAAAtD,EAAA,QAAA,YAAAsD,EAAY,MAAM,EAC7C,MAAM,yBAEN,IAAA,OAAmC,OAAhCtG,EAAAU,IAAAmD,EAAAb,EAAA,QAAA,YAAAa,EAAY,SAAM,OAAA,EAAA,CAAA,yBAGfD,GAAA,WADP2C,EAQSjE,EAAA4D,CAAA,EAAA,OANR,QAAQ,UACR,KAAK,KACJ,QAAO7B,eAER,IAAiC,CAAjCvE,EAAiCwC,EAAAkE,EAAA,EAAA,CAAvB,MAAM,cAAc,CAAA,EAAGxG,EAAA,MAC9BmD,EAAA,MAAU,SAAA,MAAA,EAAA,CAAA,oBAGPW,GAAA,SAAc2C,EAAAzD,EAAA,QAAA,YAAAyD,EAAY,UAAM,cADvCF,EAQSjE,EAAA4D,CAAA,EAAA,OANR,QAAQ,UACR,KAAK,KACJ,QAAOtB,eAER,IAAwC,CAAxC9E,EAAwCwC,EAAAoE,EAAA,EAAA,CAAvB,MAAM,cAAc,CAAA,kBAAG,YAEzC,EAAA,yBAKSzD,EAAA,OAAXrD,IAAAC,EAEM,MAFNc,GAEM,CAAA,GAAAwF,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,CADL7F,EAAgF,MAAA,CAA3E,MAAM,8DAA8D,EAAA,KAAA,EAAA,OAI1D0C,EAAA,OAAhBpD,IAAAC,EAoZM,MApZNe,GAoZM,CAlZLd,EAwDOwC,EAAAqE,CAAA,EAAA,KAAA,CAvDK,QAAM,IAAsB,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAtB,yBAAsB,EAAA,gBACvC,IAqDM,CArDN7F,EAqDM,MArDNO,GAqDM,CApDLf,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,gBACL,MAAO5D,EAAA,MAAW,cACnB,SAAA,sBAEDlD,EAKEwC,EAAAsE,CAAA,EAAA,CAJD,MAAM,kBACG,WAAA5D,EAAA,MAAW,gBAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,gBAAeX,GAClC,UAAWc,EAAA,MACZ,SAAA,sCAEDrD,EAKEwC,EAAAsE,CAAA,EAAA,CAJD,MAAM,cACG,WAAA5D,EAAA,MAAW,YAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,YAAWX,GAC9B,UAAWc,EAAA,MACZ,SAAA,sCAEDrD,EAMEwC,EAAAsE,CAAA,EAAA,CALD,MAAM,kBACG,WAAA5D,EAAA,MAAW,gBAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,gBAAeX,GACnC,KAAK,OACJ,UAAWc,EAAA,MACZ,SAAA,sCAEDrD,EAacwC,EAAAsE,CAAA,EAAA,CAZb,MAAM,oBACG,WAAA5D,EAAA,MAAW,kBAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,kBAAiBX,GACpC,UAAWc,EAAA,MACZ,SAAA,KAEW,QACV,IAIE,CAJFrD,EAIEwC,EAAAuE,CAAA,EAAA,CAHQ,WAAA7D,EAAA,MAAW,kBAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,kBAAiBX,GACpC,UAAWc,EAAA,MACX,QAASI,yEAIbzD,EAacwC,EAAAsE,CAAA,EAAA,CAZb,MAAM,SACG,WAAA5D,EAAA,MAAW,OAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,OAAMX,GACzB,UAAWc,EAAA,MACZ,SAAA,KAEW,QACV,IAIE,CAJFrD,EAIEwC,EAAAuE,CAAA,EAAA,CAHQ,WAAA7D,EAAA,MAAW,OAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,OAAMX,GACzB,UAAWc,EAAA,MACX,QAASK,mFAQf1D,EAqCOwC,EAAAqE,CAAA,EAAA,KAAA,CApCK,QAAM,IAAe,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAf,kBAAe,EAAA,gBAChC,IAkCM,CAlCN7F,EAkCM,MAlCNS,GAkCM,EAjCLnB,EAAA,EAAA,EAAAC,EAsBMsC,SAtByBa,EAAA,MAAW,gBAAe,CAA5C8D,EAAQ/B,SAArBlF,EAsBM,MAAA,CAtBsD,IAAKkF,EAAO,MAAM,gEAC7EjF,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,cACG,WAAAE,EAAO,YAAP,sBAAAzE,GAAAyE,EAAO,YAAWzE,EAC1B,UAAWc,EAAA,+DAEbrD,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,OACG,WAAAE,EAAO,KAAP,sBAAAzE,GAAAyE,EAAO,KAAIzE,EACnB,UAAWc,EAAA,+DAEb7C,EAUM,MAVNkC,GAUM,CAREW,EAAA,WADPoD,EAQSjE,EAAA4D,CAAA,EAAA,OANR,QAAQ,UACR,KAAK,KACJ,QAAK7D,GAAEyC,GAAiBC,CAAK,EAC9B,MAAM,8CAEN,IAA6B,CAA7BjF,EAA6BwC,EAAAyE,EAAA,EAAA,CAAlB,MAAM,SAAS,CAAA,8CAKtB5D,EAAA,WADPoD,EASSjE,EAAA4D,CAAA,EAAA,OAPR,QAAQ,UACR,KAAK,KACJ,QAAOrB,GACR,MAAM,qBAEN,IAAiC,CAAjC/E,EAAiCwC,EAAA0E,CAAA,EAAA,CAAvB,MAAM,cAAc,CAAA,kBAAG,oBAElC,EAAA,+BAKF1G,EA4BM,MA5BNmC,GA4BM,CA3BL3C,EAQOwC,EAAAqE,CAAA,EAAA,KAAA,CAPK,QAAM,IAAgB,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAhB,mBAAgB,EAAA,gBACjC,IAKE,CALFrG,EAKEwC,EAAAsE,CAAA,EAAA,CAJQ,WAAA5D,EAAA,MAAW,iBAAX,sBAAAmD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,iBAAgBX,GACnC,UAAWc,EAAA,MACZ,KAAK,WACL,KAAK,+CAGPrD,EAiBOwC,EAAAqE,CAAA,EAAA,KAAA,CAhBK,QAAM,IAAW,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAX,cAAW,EAAA,gBAC5B,IAcM,CAdN7F,EAcM,MAdNoC,GAcM,MAbL7C,EAYMsC,EAAA,KAAAC,EAZgBqB,EAAVwD,GAAZ3G,EAYM,MAAA,CAZqC,IAAK2G,EAAO,MAAO,MAAM,mCACnE3G,EAOE,QAAA,CANA,GAAE,UAAY2G,EAAO,KAAK,GAClB,sBAAAd,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA9D,GAAAW,EAAA,MAAW,YAAWX,GAC9B,MAAO4E,EAAO,MACf,KAAK,WACJ,UAAW9D,EAAA,MACZ,MAAM,uCAJG,CAAA+D,GAAAlE,EAAA,MAAW,WAAW,IAMhC1C,EAEQ,QAAA,CAFA,IAAG,UAAY2G,EAAO,KAAK,GAAI,MAAM,SACzC,EAAAvG,EAAAuG,EAAO,KAAK,EAAA,EAAAE,EAAA,sBAQpBrH,EAwFOwC,EAAAqE,CAAA,EAAA,KAAA,CAvFK,QAAM,IAAa,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAb,gBAAa,EAAA,gBAC9B,IAqFM,CArFN7F,EAqFM,MArFN8G,GAqFM,CApFL9G,EAWM,MAXN+G,GAWM,CAVLlB,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA7F,EAAuD,KAAA,CAAnD,MAAM,uBAAuB,EAAC,mBAAgB,EAAA,GAE3C6C,EAAA,WADPoD,EAQSjE,EAAA4D,CAAA,EAAA,OANR,QAAQ,UACR,KAAK,KACJ,QAAOlB,eAER,IAAiC,CAAjClF,EAAiCwC,EAAA0E,CAAA,EAAA,CAAvB,MAAM,cAAc,CAAA,kBAAG,aAElC,EAAA,uBAED1G,EAuEM,MAvENgH,GAuEM,CAtELhH,EAqEQ,QArERiH,GAqEQ,eApEPjH,EAwBQ,QAAA,CAxBD,MAAM,cAAY,CACxBA,EAsBK,KAAA,KAAA,CArBJA,EAEK,KAAA,CAFD,MAAM,gFAAgF,EAAC,WAE3F,EACAA,EAEK,KAAA,CAFD,MAAM,gFAAgF,EAAC,eAE3F,EACAA,EAEK,KAAA,CAFD,MAAM,gFAAgF,EAAC,YAE3F,EACAA,EAEK,KAAA,CAFD,MAAM,gFAAgF,EAAC,cAE3F,EACAA,EAEK,KAAA,CAFD,MAAM,gFAAgF,EAAC,UAE3F,EACAA,EAEK,KAAA,CAFD,MAAM,gFAAgF,EAAC,iBAE3F,EACAA,EAEK,KAAA,CAFD,MAAM,gFAAgF,EAAC,WAE3F,UAGFA,EA0CQ,QA1CRkH,GA0CQ,EAzCP5H,EAAA,EAAA,EAAAC,EAwCKsC,SAxCuBa,EAAA,MAAW,cAAa,CAAxCzB,EAAMwD,SAAlBlF,EAwCK,KAAA,CAxCkD,IAAKkF,GAAK,CAChEzE,EAEK,KAFLmH,GAEK/G,EADDa,EAAK,OAAO,EAAA,CAAA,EAEhBjB,EAEK,KAFLoH,GAEKhH,EADDa,EAAK,UAAU,EAAA,CAAA,EAEnBjB,EAEK,KAFLqH,GAEKjH,EADDa,EAAK,aAAa,EAAA,CAAA,EAEtBjB,EAEK,KAFLsH,GAEKlH,EADDa,EAAK,gBAAgB,EAAG,MAC5B,CAAA,EACAjB,EAEK,KAFLuH,GAEKnH,EADDa,EAAK,YAAY,EAAG,MACxB,CAAA,EACAjB,EAIK,KAJLwH,GAIK,CAHJhI,EAEQwC,EAAAK,CAAA,EAAA,CAFA,QAASV,EAAeV,EAAK,mBAAmB,cACvD,IAA8B,KAA3BA,EAAK,mBAAmB,EAAG,OAC/B,CAAA,6BAEDjB,EAkBK,KAlBLyH,GAkBK,CAhBG5E,EAAA,WADPoD,EAOSjE,EAAA4D,CAAA,EAAA,OALR,QAAQ,QACR,KAAK,KACJ,QAAK7D,GAAE4C,GAAcF,CAAK,cAE3B,IAA4B,CAA5BjF,EAA4BwC,EAAAkE,EAAA,EAAA,CAAlB,MAAM,SAAS,CAAA,kCAGnBrD,EAAA,WADPoD,EAQSjE,EAAA4D,CAAA,EAAA,OANR,QAAQ,QACR,KAAK,KACJ,QAAK7D,GAAE6C,GAAgBH,CAAK,EAC7B,MAAM,8CAEN,IAA6B,CAA7BjF,EAA6BwC,EAAAyE,EAAA,EAAA,CAAlB,MAAM,SAAS,CAAA,8DAWlCjH,EAQOwC,EAAAqE,CAAA,EAAA,KAAA,CAPK,QAAM,IAAa,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAb,gBAAa,EAAA,gBAC9B,IAKM,CALN7F,EAKM,MALN0H,GAKM,CAJLlI,EAGEmI,GAAA,CAFA,MAAOjF,EAAA,MAAW,cAClB,YAAaA,EAAA,MAAW,8DAM5BlD,EAiFOwC,EAAAqE,CAAA,EAAA,KAAA,CAhFK,QAAM,IAAW,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAX,cAAW,EAAA,gBAC5B,IA8EM,CA9EN7F,EA8EM,MA9EN4H,GA8EM,CA7EL5H,EAWM,MAXN6H,GAWM,CAVLhC,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA7F,EAAyD,KAAA,CAArD,MAAM,uBAAuB,EAAC,qBAAkB,EAAA,GAE7C6C,EAAA,WADPoD,EAQSjE,EAAA4D,CAAA,EAAA,OANR,QAAQ,UACR,KAAK,KACJ,QAAOX,eAER,IAAiC,CAAjCzF,EAAiCwC,EAAA0E,CAAA,EAAA,CAAvB,MAAM,cAAc,CAAA,kBAAG,eAElC,EAAA,uBAED1G,EAgEM,MAhEN8H,GAgEM,EA/DLxI,EAAA,EAAA,EAAAC,EA8DMsC,SA9DyBa,EAAA,MAAW,YAAW,CAAxCqF,EAAQtD,SAArBlF,EA8DM,MAAA,CA9DkD,IAAKkF,EAAO,MAAM,0BACzEzE,EA4DM,MA5DNgI,GA4DM,CA3DLxI,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,YACL,MAAOyB,EAAO,UACf,SAAA,sBAEDvI,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,qBACG,WAAAyB,EAAO,mBAAP,sBAAAhG,GAAAgG,EAAO,mBAAkBhG,EACjC,UAAWc,EAAA,+DAEbrD,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,oBACG,WAAAyB,EAAO,kBAAP,sBAAAhG,GAAAgG,EAAO,kBAAiBhG,EAChC,UAAWc,EAAA,+DAEbrD,EAKEwC,EAAAsE,CAAA,EAAA,CAJD,MAAM,yBACG,WAAAyB,EAAO,uBAAP,sBAAAhG,GAAAgG,EAAO,uBAAsBhG,EACtC,KAAK,OACJ,UAAWc,EAAA,+DAEbrD,EAYcwC,EAAAsE,CAAA,EAAA,CAXb,MAAM,SACG,WAAAyB,EAAO,OAAP,sBAAAhG,GAAAgG,EAAO,OAAMhG,EACrB,UAAWc,EAAA,QAED,QACV,IAIE,CAJFrD,EAIEwC,EAAAuE,CAAA,EAAA,CAHQ,WAAAwB,EAAO,OAAP,sBAAAhG,GAAAgG,EAAO,OAAMhG,EACrB,UAAWc,EAAA,MACX,QAASO,yHAIb5D,EAYcwC,EAAAsE,CAAA,EAAA,CAXb,MAAM,WACG,WAAAyB,EAAO,SAAP,sBAAAhG,GAAAgG,EAAO,SAAQhG,EACvB,UAAWc,EAAA,QAED,QACV,IAIE,CAJFrD,EAIEwC,EAAAuE,CAAA,EAAA,CAHQ,WAAAwB,EAAO,SAAP,sBAAAhG,GAAAgG,EAAO,SAAQhG,EACvB,UAAWc,EAAA,MACX,QAASQ,yHAIb7D,EAKEwC,EAAAsE,CAAA,EAAA,CAJD,MAAM,iBACG,WAAAyB,EAAO,eAAP,sBAAAhG,GAAAgG,EAAO,eAAchG,EAC9B,KAAK,SACJ,UAAWc,EAAA,+DAEbrD,EAKEwC,EAAAsE,CAAA,EAAA,CAJD,MAAM,yBACG,WAAAyB,EAAO,uBAAP,sBAAAhG,GAAAgG,EAAO,uBAAsBhG,EACtC,KAAK,OACJ,UAAWc,EAAA,uFASlBrD,EAeOwC,EAAAqE,CAAA,EAAA,KAAA,CAdK,QAAM,IAAiB,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAjB,oBAAiB,EAAA,gBAClC,IAYM,CAZN7F,EAYM,MAZNiI,GAYM,EAXL3I,EAAA,EAAA,EAAAC,EAUMsC,EAAA,KAAAC,EAVcY,EAAA,MAAW,UAAnBzB,QAAZ1B,EAUM,MAAA,CAVqC,IAAK0B,EAAK,QAAS,MAAM,0BACnEjB,EAQM,MARNkI,GAQM,CAPLlI,EAGM,MAAA,KAAA,CAFLA,EAA0D,KAA1DmI,GAA0D/H,EAA7Ba,EAAK,gBAAgB,EAAA,CAAA,EAClDjB,EAAkF,IAAlFoI,GAAiC,iBAAenH,EAAK,mBAAmB,EAAG,MAAG,CAAA,IAE/EzB,EAEQwC,EAAAK,CAAA,EAAA,CAFA,QAASV,EAAeV,EAAK,mBAAmB,cACvD,IAA4C,KAAzCmE,GAAanE,EAAK,mBAAmB,CAAA,EAAA,CAAA,iDAQ7CjB,EAmBM,MAnBNqI,GAmBM,CAlBL7I,EAQOwC,EAAAqE,CAAA,EAAA,KAAA,CAPK,QAAM,IAAkB,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAlB,qBAAkB,EAAA,gBACnC,IAKE,CALFrG,EAKEwC,EAAAsE,CAAA,EAAA,CAJQ,WAAA5D,EAAA,MAAW,mBAAX,sBAAAmD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAW,EAAA,MAAW,mBAAkBX,GACrC,UAAWc,EAAA,MACZ,KAAK,WACL,KAAK,+CAGPrD,EAQOwC,EAAAqE,CAAA,EAAA,KAAA,CAPK,QAAM,IAAe,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAAf,kBAAe,EAAA,gBAChC,IAKE,CALFrG,EAKEwC,EAAAsE,CAAA,EAAA,CAJQ,WAAA5D,EAAA,MAAW,gBAAX,sBAAAmD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAW,EAAA,MAAW,gBAAeX,GAClC,UAAWc,EAAA,MACZ,KAAK,WACL,KAAK,iDAMRrD,EAwBOwC,EAAAqE,CAAA,EAAA,KAAA,CAvBK,QAAM,IAAoB,CAAA,GAAAR,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAApB,uBAAoB,EAAA,gBACrC,IAqBM,CArBN7F,EAqBM,MArBNsI,GAqBM,CApBL9I,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,cACL,MAAO5D,EAAA,MAAW,YACnB,SAAA,sBAEDlD,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,cACG,WAAA5D,EAAA,MAAW,YAAX,sBAAAmD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAW,EAAA,MAAW,YAAWX,GAC9B,UAAWc,EAAA,yCAEbrD,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,cACG,WAAA5D,EAAA,MAAW,YAAX,sBAAAmD,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAW,EAAA,MAAW,YAAWX,GAC9B,UAAWc,EAAA,yCAEbrD,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,gBACL,MAAO5D,EAAA,MAAW,cACnB,SAAA,gCAMH1C,EAkBM,MAlBNuI,GAkBM,CAhBE1F,EAAA,WADPoD,EAMSjE,EAAA4D,CAAA,EAAA,OAJR,QAAQ,UACP,QAAO5B,cACR,IAED,CAAA,GAAA6B,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAFC,WAED,EAAA,sBAEOhD,EAAA,WADPoD,EASSjE,EAAA4D,CAAA,EAAA,OAPR,QAAQ,UACP,QAAO3B,EACP,SAAUrB,EAAA,kBAEX,IAAgD,CAA/BA,EAAA,OACjBtD,IAAAC,EAAyF,MAAzFiJ,EAAyF,QADzFvC,EAAgDjE,EAAAyG,EAAA,EAAA,OAAvB,MAAM,kBAC0D/I,EAAA,MACtFkD,EAAA,MAAM,YAAA,cAAA,EAAA,CAAA,iDAMZpD,EAyFSwC,EAAAC,EAAA,EAAA,YAzFQa,EAAA,6CAAAA,EAAa,MAAAf,KAClB,QAAM,IAAsE,KAAnEgB,EAAA,QAAgB,KAAA,kBAAA,gBAAA,EAAA,CAAA,IAgFzB,UACV,IAES,CAFTvD,EAESwC,EAAA4D,CAAA,EAAA,CAFD,QAAQ,UAAW,QAAOZ,cAAgB,IAElD,CAAA,GAAAa,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA,GAFkD,WAElD,EAAA,YACArG,EAESwC,EAAA4D,CAAA,EAAA,CAFA,QAAOf,EAAa,EAAA,WAC5B,IAAkD,CAA/CnF,EAAAU,EAAA2C,EAAA,6BAA+C,SACnD,CAAA,sBArFD,IA8EM,CA9EN/C,EA8EM,MA9EN0I,GA8EM,CA7ELlJ,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,UACG,WAAAtD,EAAA,MAAS,QAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,QAAOjB,GACzB,SAAA,2BAEDvC,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,aACG,WAAAtD,EAAA,MAAS,WAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,WAAUjB,GAC5B,SAAA,2BAEDvC,EAKEwC,EAAAsE,CAAA,EAAA,CAJD,MAAM,mBACG,WAAAtD,EAAA,MAAS,iBAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,iBAAgBjB,GAClC,KAAK,WACL,SAAA,2BAEDvC,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,gBACG,WAAAtD,EAAA,MAAS,cAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,cAAajB,GAC/B,SAAA,2BAEDvC,EAGEwC,EAAAsE,CAAA,EAAA,CAFD,MAAM,mBACG,WAAAtD,EAAA,MAAS,iBAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,iBAAgBjB,2BAEnCvC,EAGEwC,EAAAsE,CAAA,EAAA,CAFD,MAAM,mBACG,WAAAtD,EAAA,MAAS,iBAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,iBAAgBjB,2BAEnCvC,EAGEwC,EAAAsE,CAAA,EAAA,CAFD,MAAM,gBACG,WAAAtD,EAAA,MAAS,cAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,cAAajB,2BAEhCvC,EAGEwC,EAAAsE,CAAA,EAAA,CAFD,MAAM,gBACG,WAAAtD,EAAA,MAAS,cAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,cAAajB,2BAEhC/B,EAiBM,MAjBN2I,GAiBM,CAhBLnJ,EAOEwC,EAAAsE,CAAA,EAAA,CAND,MAAM,yBACU,WAAAtD,EAAA,MAAS,iBAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,iBAAgBjB,kBAAzC,CAAA,OAAA,EAAA,EACA,KAAK,SACL,IAAI,IACJ,IAAI,IACJ,SAAA,2BAEDvC,EAOEwC,EAAAsE,CAAA,EAAA,CAND,MAAM,qBACU,WAAAtD,EAAA,MAAS,aAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,aAAYjB,kBAArC,CAAA,OAAA,EAAA,EACA,KAAK,SACL,IAAI,IACJ,IAAI,IACJ,SAAA,6BAGFvC,EAGEwC,EAAAsE,CAAA,EAAA,CAFD,MAAM,wBACG,WAAAtD,EAAA,MAAS,sBAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,sBAAqBjB,2BAExCvC,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,oBACG,WAAAtD,EAAA,MAAS,kBAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,kBAAiBjB,GACnC,KAAK,mCAENvC,EAGEwC,EAAAsE,CAAA,EAAA,CAFD,MAAM,aACG,WAAAtD,EAAA,MAAS,WAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,WAAUjB,2BAE7BvC,EAGEwC,EAAAsE,CAAA,EAAA,CAFD,MAAM,gBACG,WAAAtD,EAAA,MAAS,cAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,cAAajB,2BAEhCvC,EAIEwC,EAAAsE,CAAA,EAAA,CAHD,MAAM,oBACU,WAAAtD,EAAA,MAAS,kBAAT,sBAAA6C,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAA9D,GAAAiB,EAAA,MAAS,kBAAiBjB,kBAA1C,CAAA,OAAA,EAAA,EACA,KAAK","x_google_ignoreList":[0,1]}