{"version":3,"file":"VATReconciliationDetail-Bno-ngoT.js","sources":["../../../../frontend/node_modules/lucide-vue-next/dist/esm/icons/file-spreadsheet.js","../../../../frontend/src/pages/compliance/VATReconciliationDetail.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.554.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileSpreadsheet = createLucideIcon(\"file-spreadsheet\", [\n  [\n    \"path\",\n    {\n      d: \"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\",\n      key: \"1oefj6\"\n    }\n  ],\n  [\"path\", { d: \"M14 2v5a1 1 0 0 0 1 1h5\", key: \"wfsgrz\" }],\n  [\"path\", { d: \"M8 13h2\", key: \"yr2amv\" }],\n  [\"path\", { d: \"M14 13h2\", key: \"un5t4a\" }],\n  [\"path\", { d: \"M8 17h2\", key: \"2yhykz\" }],\n  [\"path\", { d: \"M14 17h2\", key: \"10kma7\" }]\n]);\n\nexport { FileSpreadsheet as default };\n//# sourceMappingURL=file-spreadsheet.js.map\n","<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <div class=\"bg-white border-b border-gray-200 px-6 py-4\">\n      <div class=\"flex justify-between items-center\">\n        <div class=\"flex items-center gap-4\">\n          <Button \n            variant=\"ghost\" \n            size=\"sm\" \n            @click=\"goBack\"\n            class=\"text-gray-600 hover:text-gray-900\"\n          >\n            <ArrowLeft class=\"w-5 h-5\" />\n          </Button>\n          <div>\n            <div class=\"flex items-center gap-3\">\n              <h1 class=\"text-2xl font-bold text-gray-900\">\n                {{ isNewMode ? 'New VAT Reconciliation' : reconciliation?.name || 'VAT Reconciliation' }}\n              </h1>\n              <Badge v-if=\"!isNewMode && reconciliation\" :variant=\"getStatusVariant(reconciliation.status)\">\n                {{ reconciliation.status }}\n              </Badge>\n            </div>\n            <p class=\"text-gray-600 mt-1\">\n              {{ isNewMode ? 'Create a new VAT reconciliation record' : 'Manage VAT data reconciliation' }}\n            </p>\n          </div>\n        </div>\n        <div class=\"flex gap-3\">\n          <Button \n            v-if=\"!isNewMode && canRunReconciliation\"\n            variant=\"solid\" \n            size=\"sm\" \n            @click=\"runReconciliation\"\n            :loading=\"runningReconciliation\"\n            class=\"bg-blue-600 hover:bg-blue-700 shadow-sm\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <Play class=\"w-4 h-4\" />\n              <span>Run Reconciliation</span>\n            </div>\n          </Button>\n          <div v-if=\"!isNewMode\" class=\"relative\" ref=\"exportDropdownRef\">\n            <Button \n              variant=\"solid\" \n              size=\"sm\" \n              @click=\"showExportDropdown = !showExportDropdown\"\n              class=\"bg-gray-600 hover:bg-gray-700 shadow-sm\"\n            >\n              <div class=\"flex items-center gap-2\">\n                <Download class=\"w-4 h-4\" />\n                <span>Export</span>\n                <ChevronDown class=\"w-4 h-4\" />\n              </div>\n            </Button>\n            <div \n              v-if=\"showExportDropdown\" \n              class=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-10\"\n            >\n              <button \n                @click=\"exportReport('excel')\"\n                class=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 rounded-t-lg flex items-center gap-2\"\n              >\n                <FileSpreadsheet class=\"w-4 h-4\" />\n                Export to Excel\n              </button>\n              <button \n                @click=\"exportReport('pdf')\"\n                class=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 rounded-b-lg flex items-center gap-2\"\n              >\n                <FileText class=\"w-4 h-4\" />\n                Export to PDF\n              </button>\n            </div>\n          </div>\n          <Button \n            v-if=\"isNewMode\"\n            variant=\"solid\" \n            size=\"sm\" \n            @click=\"createReconciliation\"\n            :loading=\"saving\"\n            class=\"bg-green-600 hover:bg-green-700 shadow-sm\"\n          >\n            <div class=\"flex items-center gap-2\">\n              <Save class=\"w-4 h-4\" />\n              <span>Create</span>\n            </div>\n          </Button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Loading Overlay -->\n    <div v-if=\"loading\" class=\"flex items-center justify-center py-32\">\n      <div class=\"flex flex-col items-center gap-4\">\n        <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n        <span class=\"text-gray-600 font-medium\">Loading reconciliation data...</span>\n      </div>\n    </div>\n\n    <div v-else class=\"p-6 space-y-6\">\n      <!-- Configuration Section - Always show, but readonly for non-Draft -->\n      <div class=\"bg-white rounded-lg border border-gray-200 shadow-sm\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <h3 class=\"text-lg font-semibold text-gray-900\">Reconciliation Configuration</h3>\n          <p class=\"text-sm text-gray-600 mt-1\">\n            {{ isNewMode ? 'Set up the basic parameters for this VAT reconciliation' : 'Configuration details for this reconciliation' }}\n          </p>\n        </div>\n        <div class=\"p-6\">\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n            <div>\n              <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Reconciliation Month <span v-if=\"canEditConfig\" class=\"text-red-500\">*</span></label>\n              <select\n                v-model=\"form.reconciliation_month\"\n                class=\"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n                :disabled=\"!canEditConfig\"\n              >\n                <option value=\"\">Select Month</option>\n                <option v-for=\"month in months\" :key=\"month\" :value=\"month\">{{ month }}</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Fiscal Year <span v-if=\"canEditConfig\" class=\"text-red-500\">*</span></label>\n              <select\n                v-model=\"form.fiscal_year\"\n                class=\"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n                :disabled=\"!canEditConfig\"\n              >\n                <option value=\"\">Select Year</option>\n                <option v-for=\"year in fiscalYears\" :key=\"year\" :value=\"year\">{{ year }}</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Reconciliation Type <span v-if=\"canEditConfig\" class=\"text-red-500\">*</span></label>\n              <select\n                v-model=\"form.reconciliation_type\"\n                class=\"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n                :disabled=\"!canEditConfig\"\n              >\n                <option value=\"\">Select Type</option>\n                <option value=\"System vs iTax\">System vs iTax</option>\n                <option value=\"System vs TIMs\">System vs TIMs</option>\n                <option value=\"iTax vs TIMs\">iTax vs TIMs</option>\n              </select>\n            </div>\n            <div>\n              <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Tolerance (±)</label>\n              <input\n                v-model.number=\"form.tolerance\"\n                type=\"number\"\n                step=\"0.01\"\n                class=\"w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n                placeholder=\"0.01\"\n                :disabled=\"!canEditConfig\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Summary Cards (for existing reconciliations) -->\n      <div v-if=\"!isNewMode && reconciliation\" class=\"space-y-6\">\n        <!-- Record Count Cards - 6 equal columns -->\n        <div class=\"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4\">\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow\">\n            <div class=\"flex flex-col items-center text-center\">\n              <div class=\"bg-blue-100 p-3 rounded-full mb-3\">\n                <Database class=\"w-5 h-5 text-blue-600\" />\n              </div>\n              <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Source A</p>\n              <p class=\"text-2xl font-bold text-blue-600 mt-1 tabular-nums\">{{ reconciliation.total_source_a_records || 0 }}</p>\n              <p class=\"text-xs text-gray-400\">records</p>\n            </div>\n          </div>\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow\">\n            <div class=\"flex flex-col items-center text-center\">\n              <div class=\"bg-purple-100 p-3 rounded-full mb-3\">\n                <Database class=\"w-5 h-5 text-purple-600\" />\n              </div>\n              <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Source B</p>\n              <p class=\"text-2xl font-bold text-purple-600 mt-1 tabular-nums\">{{ reconciliation.total_source_b_records || 0 }}</p>\n              <p class=\"text-xs text-gray-400\">records</p>\n            </div>\n          </div>\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow\">\n            <div class=\"flex flex-col items-center text-center\">\n              <div class=\"bg-green-100 p-3 rounded-full mb-3\">\n                <CheckCircle class=\"w-5 h-5 text-green-600\" />\n              </div>\n              <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Matched</p>\n              <p class=\"text-2xl font-bold text-green-600 mt-1 tabular-nums\">{{ reconciliation.total_matched || 0 }}</p>\n              <p class=\"text-xs text-gray-400\">records</p>\n            </div>\n          </div>\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow\">\n            <div class=\"flex flex-col items-center text-center\">\n              <div class=\"bg-yellow-100 p-3 rounded-full mb-3\">\n                <AlertTriangle class=\"w-5 h-5 text-yellow-600\" />\n              </div>\n              <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Missing in B</p>\n              <p class=\"text-2xl font-bold text-yellow-600 mt-1 tabular-nums\">{{ reconciliation.total_unmatched_source_a || 0 }}</p>\n              <p class=\"text-xs text-gray-400\">CU Invoices</p>\n            </div>\n          </div>\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow\">\n            <div class=\"flex flex-col items-center text-center\">\n              <div class=\"bg-orange-100 p-3 rounded-full mb-3\">\n                <AlertTriangle class=\"w-5 h-5 text-orange-600\" />\n              </div>\n              <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Missing in A</p>\n              <p class=\"text-2xl font-bold text-orange-600 mt-1 tabular-nums\">{{ reconciliation.total_unmatched_source_b || 0 }}</p>\n              <p class=\"text-xs text-gray-400\">CU Invoices</p>\n            </div>\n          </div>\n          <div class=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow\">\n            <div class=\"flex flex-col items-center text-center\">\n              <div class=\"bg-red-100 p-3 rounded-full mb-3\">\n                <XCircle class=\"w-5 h-5 text-red-600\" />\n              </div>\n              <p class=\"text-xs font-medium text-gray-500 uppercase tracking-wide\">Amount Mismatch</p>\n              <p class=\"text-2xl font-bold text-red-600 mt-1 tabular-nums\">{{ reconciliation.total_amount_discrepancies || 0 }}</p>\n              <p class=\"text-xs text-gray-400\">records</p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Amount Summary Cards - 4 equal columns with consistent height -->\n        <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <div v-if=\"!loadingResults\" class=\"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200 p-5 shadow-sm hover:shadow-md transition-shadow min-h-[120px] flex flex-col justify-between\">\n            <div class=\"flex items-start justify-between\">\n              <p class=\"text-xs font-semibold text-blue-700 uppercase tracking-wide\">Source A Total</p>\n              <DollarSign class=\"w-5 h-5 text-blue-500 flex-shrink-0\" />\n            </div>\n            <div class=\"mt-auto\">\n              <p class=\"text-xl font-bold text-blue-800 tabular-nums truncate\" :title=\"formatCurrency(reconciliation.total_source_a_amount || 0)\">\n                {{ formatCurrency(reconciliation.total_source_a_amount || 0) }}\n              </p>\n            </div>\n          </div>\n          <div v-if=\"!loadingResults\" class=\"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 p-5 shadow-sm hover:shadow-md transition-shadow min-h-[120px] flex flex-col justify-between\">\n            <div class=\"flex items-start justify-between\">\n              <p class=\"text-xs font-semibold text-purple-700 uppercase tracking-wide\">Source B Total</p>\n              <DollarSign class=\"w-5 h-5 text-purple-500 flex-shrink-0\" />\n            </div>\n            <div class=\"mt-auto\">\n              <p class=\"text-xl font-bold text-purple-800 tabular-nums truncate\" :title=\"formatCurrency(reconciliation.total_source_b_amount || 0)\">\n                {{ formatCurrency(reconciliation.total_source_b_amount || 0) }}\n              </p>\n            </div>\n          </div>\n          <div v-if=\"!loadingResults\" class=\"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-300 p-5 shadow-sm hover:shadow-md transition-shadow min-h-[120px] flex flex-col justify-between\">\n            <div class=\"flex items-start justify-between\">\n              <p class=\"text-xs font-semibold text-gray-700 uppercase tracking-wide\">Net Difference</p>\n              <TrendingUp class=\"w-5 h-5 text-gray-500 flex-shrink-0\" />\n            </div>\n            <div class=\"mt-auto\">\n              <p class=\"text-xl font-bold tabular-nums truncate\" \n                 :class=\"netDifference > 0 ? 'text-orange-600' : netDifference < 0 ? 'text-red-600' : 'text-green-600'\"\n                 :title=\"formatVariance(netDifference)\">\n                {{ formatVariance(netDifference) }}\n              </p>\n              <p class=\"text-xs mt-1\" :class=\"netDifference > 0 ? 'text-orange-500' : netDifference < 0 ? 'text-red-500' : 'text-green-500'\">\n                {{ netDifference > 0 ? '↑ Source A higher' : netDifference < 0 ? '↓ Source B higher' : '= Balanced' }}\n              </p>\n            </div>\n          </div>\n          <div v-if=\"!loadingResults\" class=\"bg-gradient-to-br from-red-50 to-red-100 rounded-lg border border-red-200 p-5 shadow-sm hover:shadow-md transition-shadow min-h-[120px] flex flex-col justify-between\">\n            <div class=\"flex items-start justify-between\">\n              <p class=\"text-xs font-semibold text-red-700 uppercase tracking-wide\">Total Variance</p>\n              <XCircle class=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n            </div>\n            <div class=\"mt-auto\">\n              <p class=\"text-xl font-bold text-red-800 tabular-nums truncate\" :title=\"formatCurrency(reconciliation.total_variance_amount || 0)\">\n                {{ formatCurrency(reconciliation.total_variance_amount || 0) }}\n              </p>\n              <p class=\"text-xs text-red-500 mt-1\">Sum of all discrepancies</p>\n            </div>\n          </div>\n          \n          <!-- Loading state for summary cards -->\n          <div v-else class=\"col-span-4 flex items-center justify-center py-8\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n              <span class=\"text-gray-600\">Loading summary data...</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Match Rate Progress Bar -->\n        <div v-if=\"!loadingResults\" class=\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm\">\n          <div class=\"flex items-center justify-between mb-3\">\n            <div class=\"flex items-center gap-2\">\n              <div class=\"w-3 h-3 rounded-full\" :class=\"matchRateBarColor\"></div>\n              <p class=\"text-sm font-semibold text-gray-700\">Match Rate</p>\n            </div>\n            <p class=\"text-lg font-bold tabular-nums\" :class=\"matchRateColor\">\n              {{ (reconciliation.match_percentage || 0).toFixed(1) }}%\n            </p>\n          </div>\n          <div class=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n            <div \n              class=\"h-3 rounded-full transition-all duration-700 ease-out\" \n              :class=\"matchRateBarColor\"\n              :style=\"{ width: (reconciliation.match_percentage || 0) + '%' }\"\n            ></div>\n          </div>\n          <div class=\"flex justify-between mt-2 text-xs text-gray-500\">\n            <span>0%</span>\n            <span>50%</span>\n            <span>100%</span>\n          </div>\n        </div>\n        \n        <!-- Loading state for match rate -->\n        <div v-else class=\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm flex items-center justify-center\">\n          <div class=\"flex items-center gap-3\">\n            <div class=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n            <span class=\"text-gray-600\">Loading match rate...</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- File Upload Section -->\n      <div v-if=\"!isNewMode\" class=\"bg-white rounded-lg border border-gray-200 shadow-sm\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <div class=\"flex justify-between items-center\">\n            <div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">Data Files</h3>\n              <p class=\"text-sm text-gray-600 mt-1\">Upload CSV files for reconciliation. Required files depend on reconciliation type.</p>\n            </div>\n            <div class=\"flex gap-2\">\n              <Button variant=\"outline\" size=\"sm\" @click=\"downloadAllTemplates\">\n                <Download class=\"w-4 h-4 mr-1\" /> Download All Templates\n              </Button>\n            </div>\n          </div>\n        </div>\n        <div class=\"p-6\">\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            <!-- System Data File -->\n            <div \n              v-if=\"requiresSystemData\"\n              class=\"border-2 border-dashed rounded-lg p-6 text-center transition-colors\"\n              :class=\"reconciliation?.system_data_file ? 'border-green-300 bg-green-50' : 'border-gray-300 hover:border-blue-400'\"\n            >\n              <div v-if=\"reconciliation?.system_data_file\" class=\"flex flex-col items-center\">\n                <CheckCircle class=\"w-12 h-12 text-green-500 mb-3\" />\n                <p class=\"font-medium text-green-700 mb-1\">System Data Uploaded</p>\n                <p class=\"text-sm text-gray-600 mb-3\">{{ reconciliation.system_records_count || 0 }} records</p>\n                <div class=\"flex gap-2\">\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"viewFileData('system')\">\n                    <Eye class=\"w-4 h-4 mr-1\" /> View\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"triggerFileInput('system')\" :disabled=\"!canUploadFiles\">\n                    <RefreshCw class=\"w-4 h-4 mr-1\" /> Replace\n                  </Button>\n                </div>\n              </div>\n              <div v-else class=\"flex flex-col items-center\">\n                <Upload class=\"w-12 h-12 text-gray-400 mb-3\" />\n                <p class=\"font-medium text-gray-700 mb-1\">System Data</p>\n                <p class=\"text-sm text-gray-500 mb-3\">CSV with posting_date, invoice_number, cu_invoice_number, net_amount</p>\n                <div class=\"flex gap-2 mb-2\">\n                  <Button \n                    variant=\"solid\" \n                    size=\"sm\" \n                    @click=\"triggerFileInput('system')\"\n                    :disabled=\"!canUploadFiles\"\n                    :loading=\"uploadingFile === 'system'\"\n                    class=\"bg-blue-600 hover:bg-blue-700\"\n                  >\n                    <span class=\"flex items-center gap-1\">\n                      <Upload class=\"w-4 h-4 shrink-0\" />\n                      <span>Upload CSV</span>\n                    </span>\n                  </Button>\n                </div>\n                <button \n                  @click=\"downloadTemplate('system')\" \n                  class=\"text-xs text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1\"\n                >\n                  <Download class=\"w-3 h-3\" /> Download Template\n                </button>\n              </div>\n              <input \n                ref=\"systemFileInput\"\n                type=\"file\" \n                accept=\".csv\"\n                class=\"hidden\"\n                @change=\"(e) => handleFileUpload(e, 'system')\"\n              />\n            </div>\n\n            <!-- iTax Data File -->\n            <div \n              v-if=\"requiresItaxData\"\n              class=\"border-2 border-dashed rounded-lg p-6 text-center transition-colors\"\n              :class=\"reconciliation?.itax_data_file ? 'border-green-300 bg-green-50' : 'border-gray-300 hover:border-blue-400'\"\n            >\n              <div v-if=\"reconciliation?.itax_data_file\" class=\"flex flex-col items-center\">\n                <CheckCircle class=\"w-12 h-12 text-green-500 mb-3\" />\n                <p class=\"font-medium text-green-700 mb-1\">iTax Data Uploaded</p>\n                <p class=\"text-sm text-gray-600 mb-3\">{{ reconciliation.itax_records_count || 0 }} records</p>\n                <div class=\"flex gap-2\">\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"viewFileData('itax')\">\n                    <Eye class=\"w-4 h-4 mr-1\" /> View\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"triggerFileInput('itax')\" :disabled=\"!canUploadFiles\">\n                    <RefreshCw class=\"w-4 h-4 mr-1\" /> Replace\n                  </Button>\n                </div>\n              </div>\n              <div v-else class=\"flex flex-col items-center\">\n                <Upload class=\"w-12 h-12 text-gray-400 mb-3\" />\n                <p class=\"font-medium text-gray-700 mb-1\">iTax Data</p>\n                <p class=\"text-sm text-gray-500 mb-3\">CSV with posting_date, cu_invoice_number, amount</p>\n                <div class=\"flex gap-2 mb-2\">\n                  <Button \n                    variant=\"solid\" \n                    size=\"sm\" \n                    @click=\"triggerFileInput('itax')\"\n                    :disabled=\"!canUploadFiles\"\n                    :loading=\"uploadingFile === 'itax'\"\n                    class=\"bg-blue-600 hover:bg-blue-700\"\n                  >\n                    <span class=\"flex items-center gap-1\">\n                      <Upload class=\"w-4 h-4 shrink-0\" />\n                      <span>Upload CSV</span>\n                    </span>\n                  </Button>\n                </div>\n                <button \n                  @click=\"downloadTemplate('itax')\" \n                  class=\"text-xs text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1\"\n                >\n                  <Download class=\"w-3 h-3\" /> Download Template\n                </button>\n              </div>\n              <input \n                ref=\"itaxFileInput\"\n                type=\"file\" \n                accept=\".csv\"\n                class=\"hidden\"\n                @change=\"(e) => handleFileUpload(e, 'itax')\"\n              />\n            </div>\n\n            <!-- TIMs Data File -->\n            <div \n              v-if=\"requiresTimsData\"\n              class=\"border-2 border-dashed rounded-lg p-6 text-center transition-colors\"\n              :class=\"reconciliation?.tims_data_file ? 'border-green-300 bg-green-50' : 'border-gray-300 hover:border-blue-400'\"\n            >\n              <div v-if=\"reconciliation?.tims_data_file\" class=\"flex flex-col items-center\">\n                <CheckCircle class=\"w-12 h-12 text-green-500 mb-3\" />\n                <p class=\"font-medium text-green-700 mb-1\">TIMs Data Uploaded</p>\n                <p class=\"text-sm text-gray-600 mb-3\">{{ reconciliation.tims_records_count || 0 }} records</p>\n                <div class=\"flex gap-2\">\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"viewFileData('tims')\">\n                    <Eye class=\"w-4 h-4 mr-1\" /> View\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"triggerFileInput('tims')\" :disabled=\"!canUploadFiles\">\n                    <RefreshCw class=\"w-4 h-4 mr-1\" /> Replace\n                  </Button>\n                </div>\n              </div>\n              <div v-else class=\"flex flex-col items-center\">\n                <Upload class=\"w-12 h-12 text-gray-400 mb-3\" />\n                <p class=\"font-medium text-gray-700 mb-1\">TIMs Device Data</p>\n                <p class=\"text-sm text-gray-500 mb-3\">CSV with posting_date, cu_invoice_number, amount</p>\n                <div class=\"flex gap-2 mb-2\">\n                  <Button \n                    variant=\"solid\" \n                    size=\"sm\" \n                    @click=\"triggerFileInput('tims')\"\n                    :disabled=\"!canUploadFiles\"\n                    :loading=\"uploadingFile === 'tims'\"\n                    class=\"bg-blue-600 hover:bg-blue-700\"\n                  >\n                    <span class=\"flex items-center gap-1\">\n                      <Upload class=\"w-4 h-4 shrink-0\" />\n                      <span>Upload CSV</span>\n                    </span>\n                  </Button>\n                </div>\n                <button \n                  @click=\"downloadTemplate('tims')\" \n                  class=\"text-xs text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1\"\n                >\n                  <Download class=\"w-3 h-3\" /> Download Template\n                </button>\n              </div>\n              <input \n                ref=\"timsFileInput\"\n                type=\"file\" \n                accept=\".csv\"\n                class=\"hidden\"\n                @change=\"(e) => handleFileUpload(e, 'tims')\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Debug Section - Temporarily hidden for troubleshooting -->\n      <!-- \n      <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-sm\">\n        <div class=\"flex justify-between items-start mb-3\">\n          <div>\n            <p class=\"font-semibold text-gray-800\">Performance Optimizations Applied:</p>\n            <p>✅ Database-level filtering and pagination</p>\n            <p>✅ Results caching (5-minute expiry)</p>\n            <p>✅ Increased page size to 100 items</p>\n            <p>✅ Optimized API calls for large datasets</p>\n          </div>\n          <Button \n            variant=\"outline\" \n            size=\"sm\" \n            @click=\"clearCacheAndReload\"\n            class=\"text-xs\"\n          >\n            Clear Cache\n          </Button>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3\">\n          <div class=\"bg-white p-3 rounded border\">\n            <p class=\"text-xs text-gray-600\">Reconciliation Status</p>\n            <p class=\"font-medium\">{{ reconciliation?.status || 'Not loaded' }}</p>\n          </div>\n          <div class=\"bg-white p-3 rounded border\">\n            <p class=\"text-xs text-gray-600\">Results Loaded</p>\n            <p class=\"font-medium\">{{ reconciliationResults.length > 0 ? 'Yes' : 'No' }} ({{ reconciliationResults.length }} items)</p>\n          </div>\n          <div class=\"bg-white p-3 rounded border\">\n            <p class=\"text-xs text-gray-600\">Cache Status</p>\n            <p class=\"font-medium\">{{ Object.keys(store.resultsCache).length }} queries cached</p>\n            <p class=\"text-xs text-gray-500 mt-1\">\n              {{ Object.keys(store.resultsCache).length > 0 ? 'Cache active' : 'No cached data yet' }}\n            </p>\n          </div>\n        </div>\n        \n        <div class=\"mt-2 text-xs text-gray-600\">\n          <p><strong>Note:</strong> Cache populates when viewing results tabs for completed reconciliations. Switch between \"All\", \"Matched\", \"Missing in A/B\", or \"Amount Mismatch\" tabs to see caching in action.</p>\n        </div>\n        \n        <div v-if=\"Object.keys(store.resultsCache).length > 0\" class=\"mt-3\">\n          <p class=\"text-xs font-medium text-gray-700 mb-2\">Cached Queries:</p>\n          <div class=\"bg-white p-2 rounded border text-xs font-mono max-h-20 overflow-y-auto\">\n            <div v-for=\"(cacheKey, index) in Object.keys(store.resultsCache)\" :key=\"cacheKey\" class=\"mb-1\">\n              {{ index + 1 }}. {{ cacheKey }}\n            </div>\n          </div>\n        </div>\n      </div>\n      -->\n\n      <!-- Reconciliation Results -->\n      <div v-if=\"!isNewMode && hasResults\" class=\"bg-white rounded-lg border border-gray-200 shadow-sm\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <div class=\"flex justify-between items-center\">\n            <div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">Reconciliation Results</h3>\n              <p class=\"text-sm text-gray-600 mt-1\">\n                Last reconciled: {{ reconciliation?.last_reconciled_at ? formatDate(reconciliation.last_reconciled_at) : 'Never' }}\n              </p>\n            </div>\n            <div class=\"flex gap-2\">\n              <Button \n                v-for=\"tab in resultTabs\" \n                :key=\"tab.key\"\n                variant=\"ghost\" \n                size=\"sm\"\n                :class=\"activeResultTab === tab.key ? 'bg-blue-100 text-blue-700' : ''\"\n                @click=\"activeResultTab = tab.key\"\n              >\n                {{ tab.label }} ({{ tab.count }})\n              </Button>\n            </div>\n          </div>\n        </div>\n        <div class=\"overflow-x-auto\">\n          <table v-if=\"!loadingResults\" class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">CU Invoice No</th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Invoice No</th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date (Source A)</th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date (Source B)</th>\n                <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Amount (Source A)</th>\n                <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Amount (Source B)</th>\n                <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">Variance</th>\n                <th class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n              </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n              <tr v-for=\"item in filteredResults\" :key=\"item.name\" class=\"hover:bg-gray-50\">\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{{ item.cu_invoice_number }}</td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{{ item.invoice_number || '-' }}</td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{{ formatDate(item.posting_date_a) }}</td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{{ formatDate(item.posting_date_b) }}</td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 tabular-nums\">{{ formatCurrency(item.amount_a) }}</td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 tabular-nums\">{{ formatCurrency(item.amount_b) }}</td>\n                <td \n                  class=\"px-6 py-4 whitespace-nowrap text-sm text-right font-medium tabular-nums\" \n                  :class=\"getVarianceClass(item.variance, item.match_status)\"\n                  :title=\"getVarianceTooltip(item.variance, item.match_status)\"\n                >\n                  {{ formatVariance(item.variance) }}\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-center\">\n                  <Badge :variant=\"getMatchStatusVariant(item.match_status)\">{{ item.match_status }}</Badge>\n                </td>\n              </tr>\n              <tr v-if=\"filteredResults.length === 0 && !loadingResults\">\n                <td colspan=\"8\" class=\"px-6 py-12 text-center text-gray-500\">\n                  No records found for this filter\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \n          <!-- Loading state -->\n          <div v-else class=\"flex items-center justify-center py-12\">\n            <div class=\"flex items-center gap-3\">\n              <div class=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n              <span class=\"text-gray-600\">Loading reconciliation results...</span>\n            </div>\n          </div>\n        </div>\n        <!-- Results Pagination -->\n        <div v-if=\"resultsTotalPages > 1\" class=\"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between\">\n          <p class=\"text-sm text-gray-700\">\n            Showing {{ (resultsPage - 1) * resultsPageSize + 1 }} - {{ Math.min(resultsPage * resultsPageSize, filteredResultsTotal) }} of {{ filteredResultsTotal }}\n          </p>\n          <div class=\"flex gap-2\">\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              :disabled=\"resultsPage === 1\" \n              @click=\"changePage(resultsPage - 1)\"\n            >\n              Previous\n            </Button>\n            <Button \n              variant=\"ghost\" \n              size=\"sm\" \n              :disabled=\"resultsPage === resultsTotalPages\" \n              @click=\"changePage(resultsPage + 1)\"\n            >\n              Next\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Historical Comparison -->\n      <div v-if=\"!isNewMode && reconciliation?.status === 'Reconciled'\" class=\"bg-white rounded-lg border border-gray-200 shadow-sm\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <div class=\"flex justify-between items-center\">\n            <div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">Historical Comparison</h3>\n              <p class=\"text-sm text-gray-600 mt-1\">Compare with previous month's reconciliation</p>\n            </div>\n            <Button \n              variant=\"solid\" \n              size=\"sm\" \n              @click=\"fetchHistoricalComparison\"\n              :loading=\"loadingHistorical\"\n              class=\"bg-gray-600 hover:bg-gray-700\"\n            >\n              <TrendingUp class=\"w-4 h-4 mr-1\" /> Load Comparison\n            </Button>\n          </div>\n        </div>\n        <div v-if=\"historicalComparison\" class=\"p-6\">\n          <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <p class=\"text-sm text-gray-600 mb-1\">Match Rate Change</p>\n              <p class=\"text-2xl font-bold\" :class=\"historicalComparison.match_rate_change >= 0 ? 'text-green-600' : 'text-red-600'\">\n                {{ historicalComparison.match_rate_change >= 0 ? '+' : '' }}{{ historicalComparison.match_rate_change?.toFixed(1) }}%\n              </p>\n            </div>\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <p class=\"text-sm text-gray-600 mb-1\">Discrepancy Change</p>\n              <p class=\"text-2xl font-bold\" :class=\"historicalComparison.discrepancy_change <= 0 ? 'text-green-600' : 'text-red-600'\">\n                {{ historicalComparison.discrepancy_change >= 0 ? '+' : '' }}{{ historicalComparison.discrepancy_change }}\n              </p>\n            </div>\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <p class=\"text-sm text-gray-600 mb-1\">Variance Change</p>\n              <p class=\"text-2xl font-bold\" :class=\"historicalComparison.variance_change <= 0 ? 'text-green-600' : 'text-red-600'\">\n                {{ formatCurrency(historicalComparison.variance_change) }}\n              </p>\n            </div>\n            <div class=\"text-center p-4 bg-gray-50 rounded-lg\">\n              <p class=\"text-sm text-gray-600 mb-1\">Previous Month</p>\n              <p class=\"text-2xl font-bold text-gray-900\">{{ historicalComparison.previous_month }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- File Preview Modal -->\n    <Dialog v-model=\"showFilePreview\" :options=\"{ title: `${previewFileType} Data Preview`, size: 'xl' }\">\n      <template #body-content>\n        <div class=\"max-h-96 overflow-auto\">\n          <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50 sticky top-0\">\n              <tr>\n                <th v-for=\"col in previewColumns\" :key=\"col\" class=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase\">\n                  {{ col }}\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n              <tr v-for=\"(row, idx) in previewData\" :key=\"idx\" class=\"hover:bg-gray-50\">\n                <td v-for=\"col in previewColumns\" :key=\"col\" class=\"px-4 py-2 text-sm text-gray-900\">\n                  {{ row[col] }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </template>\n      <template #actions>\n        <Button variant=\"solid\" size=\"sm\" @click=\"showFilePreview = false\">Close</Button>\n      </template>\n    </Dialog>\n  </div>\n</template>\n\n<script setup>\nimport { useVATReconciliationStore } from \"@/stores/useVATReconciliationStore\"\nimport { Badge, Button, Dialog, call } from \"frappe-ui\"\nimport {\n  AlertTriangle,\n  ArrowLeft,\n  CheckCircle,\n  ChevronDown,\n  Database,\n  DollarSign,\n  Download,\n  Eye,\n  FileSpreadsheet,\n  FileText,\n  Play,\n  RefreshCw,\n  Save,\n  TrendingUp,\n  Upload,\n  XCircle\n} from \"lucide-vue-next\"\nimport { computed, onMounted, ref, watch } from \"vue\"\nimport { useRoute, useRouter } from \"vue-router\"\n\nconst props = defineProps({\n  id: String\n})\n\nconst router = useRouter()\nconst route = useRoute()\nconst store = useVATReconciliationStore()\n\n// Refs\nconst systemFileInput = ref(null)\nconst itaxFileInput = ref(null)\nconst timsFileInput = ref(null)\nconst exportDropdownRef = ref(null)\n\n// State\nconst loading = ref(false)\nconst saving = ref(false)\nconst runningReconciliation = ref(false)\nconst uploadingFile = ref(null)\nconst loadingHistorical = ref(false)\nconst loadingResults = ref(false)\nconst showExportDropdown = ref(false)\nconst showFilePreview = ref(false)\nconst previewFileType = ref(\"\")\nconst previewData = ref([])\nconst previewColumns = ref([])\nconst activeResultTab = ref(\"all\")\nconst resultsPage = ref(1)\nconst resultsPageSize = ref(100) // Increased for better performance\nconst historicalComparison = ref(null)\n\nconst reconciliation = ref(null)\nconst reconciliationResults = ref([])\n\nconst form = ref({\n  reconciliation_month: \"\",\n  fiscal_year: \"\",\n  reconciliation_type: \"\",\n  tolerance: 0.01\n})\n\nconst months = [\n  \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n]\n\nconst fiscalYears = computed(() => {\n  const currentYear = new Date().getFullYear()\n  return Array.from({ length: 6 }, (_, i) => `FY ${currentYear - i}`)\n})\n\nconst isNewMode = computed(() => route.path.endsWith(\"/new\"))\n\nconst canEditConfig = computed(() => {\n  return isNewMode.value || reconciliation.value?.status === \"Draft\"\n})\n\nconst requiresSystemData = computed(() => {\n  const type = reconciliation.value?.reconciliation_type || form.value.reconciliation_type\n  // Handle both frontend format (system_vs_itax) and DocType format (System vs iTax)\n  return type === \"system_vs_itax\" || type === \"system_vs_tims\" || \n         type === \"System vs iTax\" || type === \"System vs TIMs\"\n})\n\nconst requiresItaxData = computed(() => {\n  const type = reconciliation.value?.reconciliation_type || form.value.reconciliation_type\n  return type === \"system_vs_itax\" || type === \"itax_vs_tims\" ||\n         type === \"System vs iTax\" || type === \"iTax vs TIMs\"\n})\n\nconst requiresTimsData = computed(() => {\n  const type = reconciliation.value?.reconciliation_type || form.value.reconciliation_type\n  return type === \"system_vs_tims\" || type === \"itax_vs_tims\" ||\n         type === \"System vs TIMs\" || type === \"iTax vs TIMs\"\n})\n\nconst canUploadFiles = computed(() => {\n  if (!reconciliation.value) return false\n  // Allow uploads in Draft, Files Uploaded, Validated, or Processing states\n  return [\"Draft\", \"Files Uploaded\", \"Validated\", \"Validating\"].includes(reconciliation.value.status)\n})\n\nconst canRunReconciliation = computed(() => {\n  if (!reconciliation.value) return false\n  if (![\"Draft\", \"Files Uploaded\", \"Validated\"].includes(reconciliation.value.status)) return false\n  \n  const type = reconciliation.value.reconciliation_type\n  if (type === \"system_vs_itax\" || type === \"System vs iTax\") {\n    return reconciliation.value.system_data_file && reconciliation.value.itax_data_file\n  }\n  if (type === \"system_vs_tims\" || type === \"System vs TIMs\") {\n    return reconciliation.value.system_data_file && reconciliation.value.tims_data_file\n  }\n  if (type === \"itax_vs_tims\" || type === \"iTax vs TIMs\") {\n    return reconciliation.value.itax_data_file && reconciliation.value.tims_data_file\n  }\n  return false\n})\n\nconst hasResults = computed(() => {\n  return reconciliationResults.value.length > 0 || \n         reconciliation.value?.status === \"Completed\" ||\n         reconciliation.value?.status === \"Reconciled\"\n})\n\n// Use document summary counts for tabs (not the loaded subset)\nconst resultTabs = computed(() => {\n  const doc = reconciliation.value\n  const totalAll = (doc?.total_matched || 0) + \n                   (doc?.total_unmatched_source_a || 0) + \n                   (doc?.total_unmatched_source_b || 0) + \n                   (doc?.total_amount_discrepancies || 0)\n  return [\n    { key: \"all\", label: \"All\", count: totalAll },\n    { key: \"matched\", label: \"Matched\", count: doc?.total_matched || 0 },\n    { key: \"unmatched_a\", label: \"Missing in B\", count: doc?.total_unmatched_source_a || 0 },\n    { key: \"unmatched_b\", label: \"Missing in A\", count: doc?.total_unmatched_source_b || 0 },\n    { key: \"discrepancy\", label: \"Amount Mismatch\", count: doc?.total_amount_discrepancies || 0 }\n  ]\n})\n\n// Results are already filtered by the API based on activeResultTab\nconst filteredResults = computed(() => {\n  const start = (resultsPage.value - 1) * resultsPageSize.value\n  return reconciliationResults.value.slice(start, start + resultsPageSize.value)\n})\n\n// Total for current filter comes from document summary\nconst filteredResultsTotal = computed(() => {\n  const doc = reconciliation.value\n  if (!doc) return 0\n  \n  if (activeResultTab.value === \"matched\") {\n    return doc.total_matched || 0\n  } else if (activeResultTab.value === \"unmatched_a\") {\n    return doc.total_unmatched_source_a || 0\n  } else if (activeResultTab.value === \"unmatched_b\") {\n    return doc.total_unmatched_source_b || 0\n  } else if (activeResultTab.value === \"discrepancy\") {\n    return doc.total_amount_discrepancies || 0\n  }\n  // \"all\" tab\n  return (doc.total_matched || 0) + \n         (doc.total_unmatched_source_a || 0) + \n         (doc.total_unmatched_source_b || 0) + \n         (doc.total_amount_discrepancies || 0)\n})\n\nconst resultsTotalPages = computed(() => Math.ceil(filteredResultsTotal.value / resultsPageSize.value))\n\n// Amount difference computed properties\nconst netDifference = computed(() => {\n  if (!reconciliation.value) return 0\n  return (reconciliation.value.total_source_a_amount || 0) - (reconciliation.value.total_source_b_amount || 0)\n})\n\nconst matchRateColor = computed(() => {\n  const rate = reconciliation.value?.match_percentage || 0\n  if (rate >= 95) return \"text-green-600\"\n  if (rate >= 80) return \"text-yellow-600\"\n  return \"text-red-600\"\n})\n\nconst matchRateBarColor = computed(() => {\n  const rate = reconciliation.value?.match_percentage || 0\n  if (rate >= 95) return \"bg-green-500\"\n  if (rate >= 80) return \"bg-yellow-500\"\n  return \"bg-red-500\"\n})\n\n// Close export dropdown on outside click\nconst handleClickOutside = (event) => {\n  if (exportDropdownRef.value && !exportDropdownRef.value.contains(event.target)) {\n    showExportDropdown.value = false\n  }\n}\n\nonMounted(async () => {\n  document.addEventListener('click', handleClickOutside)\n  if (!isNewMode.value) {\n    await loadReconciliation()\n  }\n})\n\nasync function loadReconciliation() {\n  loading.value = true\n  try {\n    const id = props.id || route.params.id\n    await store.fetchReconciliation(id)\n    reconciliation.value = store.activeReconciliation\n    \n    // Sync form with loaded data\n    if (reconciliation.value) {\n      form.value = {\n        reconciliation_type: reconciliation.value.reconciliation_type,\n        reconciliation_month: reconciliation.value.reconciliation_month,\n        fiscal_year: reconciliation.value.fiscal_year,\n        tolerance: reconciliation.value.tolerance || 0.01\n      }\n    }\n    \n    // Load results if completed or reconciled\n    if (reconciliation.value?.status === \"Completed\" || reconciliation.value?.status === \"Reconciled\") {\n      await loadResults()\n    }\n  } catch (error) {\n    console.error(\"Error loading reconciliation:\", error)\n  } finally {\n    loading.value = false\n  }\n}\n\nasync function loadResults(filterStatus = null, pageNum = 1) {\n  try {\n    loadingResults.value = true\n    console.log(\"loadResults called with filterStatus:\", filterStatus, \"page:\", pageNum)\n    console.log(\"reconciliation.name:\", reconciliation.value?.name)\n    \n    // Map tab key to match_status value\n    let statusFilter = null\n    if (filterStatus === \"matched\") statusFilter = \"Matched\"\n    else if (filterStatus === \"unmatched_a\") statusFilter = \"Unmatched Source A\"\n    else if (filterStatus === \"unmatched_b\") statusFilter = \"Unmatched Source B\"\n    else if (filterStatus === \"discrepancy\") statusFilter = \"Amount Discrepancy\"\n    \n    console.log(\"statusFilter:\", statusFilter)\n    \n    const fetchResult = await store.fetchResults(reconciliation.value.name, statusFilter, pageNum)\n    console.log(\"store.fetchResults result:\", fetchResult)\n    \n    reconciliationResults.value = store.reconciliationResults\n    console.log(\"reconciliationResults set to:\", reconciliationResults.value.length, \"items\")\n    \n    return fetchResult\n  } catch (error) {\n    console.error(\"Error loading results:\", error)\n  } finally {\n    loadingResults.value = false\n  }\n}\n\nasync function createReconciliation() {\n  if (!form.value.reconciliation_month || !form.value.fiscal_year || !form.value.reconciliation_type) {\n    alert(\"Please fill in all required fields\")\n    return\n  }\n  \n  saving.value = true\n  try {\n    const result = await store.createReconciliation({\n      reconciliation_month: form.value.reconciliation_month,\n      fiscal_year: form.value.fiscal_year,\n      reconciliation_type: form.value.reconciliation_type,\n      tolerance: form.value.tolerance || 0.01\n    })\n    \n    router.push(`/compliance/vat-reconciliation/${result.name}`)\n  } catch (error) {\n    console.error(\"Error creating reconciliation:\", error)\n    alert(\"Error creating reconciliation: \" + error.message)\n  } finally {\n    saving.value = false\n  }\n}\n\nfunction triggerFileInput(type) {\n  if (type === \"system\") systemFileInput.value?.click()\n  else if (type === \"itax\") itaxFileInput.value?.click()\n  else if (type === \"tims\") timsFileInput.value?.click()\n}\n\n// CSV Template definitions - columns must match backend EXPECTED_HEADERS\nconst csvTemplates = {\n  system: {\n    filename: \"system_data_template.csv\",\n    headers: [\"posting_date\", \"invoice_number\", \"cu_invoice_number\", \"net_amount\"],\n    sampleData: [\n      [\"2024-01-15\", \"INV-001\", \"CU123456789\", \"10000.00\"],\n      [\"2024-01-16\", \"INV-002\", \"CU123456790\", \"5000.00\"],\n      [\"2024-01-17\", \"INV-003\", \"CU123456791\", \"15000.00\"]\n    ]\n  },\n  itax: {\n    filename: \"itax_data_template.csv\",\n    headers: [\"posting_date\", \"cu_invoice_number\", \"amount\"],\n    sampleData: [\n      [\"2024-01-15\", \"CU123456789\", \"10000.00\"],\n      [\"2024-01-16\", \"CU123456790\", \"5000.00\"],\n      [\"2024-01-17\", \"CU123456791\", \"15000.00\"]\n    ]\n  },\n  tims: {\n    filename: \"tims_data_template.csv\",\n    headers: [\"posting_date\", \"cu_invoice_number\", \"amount\"],\n    sampleData: [\n      [\"2024-01-15\", \"CU123456789\", \"10000.00\"],\n      [\"2024-01-16\", \"CU123456790\", \"5000.00\"],\n      [\"2024-01-17\", \"CU123456791\", \"15000.00\"]\n    ]\n  }\n}\n\nfunction downloadTemplate(type) {\n  const template = csvTemplates[type]\n  if (!template) return\n  \n  // Create CSV content\n  const rows = [template.headers, ...template.sampleData]\n  const csvContent = rows.map(row => row.join(\",\")).join(\"\\n\")\n  \n  // Create blob and download\n  const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" })\n  const link = document.createElement(\"a\")\n  const url = URL.createObjectURL(blob)\n  \n  link.setAttribute(\"href\", url)\n  link.setAttribute(\"download\", template.filename)\n  link.style.visibility = \"hidden\"\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\nfunction downloadAllTemplates() {\n  // Download all templates based on reconciliation type\n  const type = reconciliation.value?.reconciliation_type || form.value.reconciliation_type\n  \n  if (requiresSystemData.value) downloadTemplate(\"system\")\n  setTimeout(() => {\n    if (requiresItaxData.value) downloadTemplate(\"itax\")\n  }, 100)\n  setTimeout(() => {\n    if (requiresTimsData.value) downloadTemplate(\"tims\")\n  }, 200)\n}\n\nasync function handleFileUpload(event, fileType) {\n  const file = event.target.files[0]\n  if (!file) return\n  \n  uploadingFile.value = fileType\n  try {\n    await store.uploadFile(reconciliation.value.name, fileType, file)\n    await loadReconciliation()\n  } catch (error) {\n    console.error(\"Error uploading file:\", error)\n    alert(\"Error uploading file: \" + error.message)\n  } finally {\n    uploadingFile.value = null\n    // Reset file input\n    event.target.value = \"\"\n  }\n}\n\nasync function runReconciliation() {\n  runningReconciliation.value = true\n  try {\n    await store.runReconciliation(reconciliation.value.name)\n    await loadReconciliation()\n    await loadResults()\n  } catch (error) {\n    console.error(\"Error running reconciliation:\", error)\n    alert(\"Error running reconciliation: \" + error.message)\n  } finally {\n    runningReconciliation.value = false\n  }\n}\n\nasync function exportReport(format) {\n  showExportDropdown.value = false\n  try {\n    const result = await store.exportReport(reconciliation.value.name, format)\n    \n    if (result.file_url) {\n      window.open(result.file_url, \"_blank\")\n    }\n  } catch (error) {\n    console.error(\"Error exporting report:\", error)\n    alert(\"Error exporting report: \" + error.message)\n  }\n}\n\nasync function viewFileData(fileType) {\n  previewFileType.value = fileType.charAt(0).toUpperCase() + fileType.slice(1)\n  \n  // Fetch data from the appropriate child table\n  try {\n    let doctype = \"\"\n    if (fileType === \"system\") doctype = \"VAT System Data\"\n    else if (fileType === \"itax\") doctype = \"VAT iTax Data\"\n    else if (fileType === \"tims\") doctype = \"VAT TIMs Data\"\n    \n    const result = await call(\"frappe.client.get_list\", {\n      doctype: doctype,\n      filters: { parent: reconciliation.value.name },\n      fields: [\"*\"],\n      limit_page_length: 100\n    })\n    \n    if (result.length > 0) {\n      previewColumns.value = Object.keys(result[0]).filter(k => !k.startsWith(\"_\") && k !== \"name\" && k !== \"parent\" && k !== \"parenttype\" && k !== \"parentfield\" && k !== \"docstatus\" && k !== \"idx\")\n      previewData.value = result\n    }\n    \n    showFilePreview.value = true\n  } catch (error) {\n    console.error(\"Error loading file data:\", error)\n  }\n}\n\nasync function fetchHistoricalComparison() {\n  loadingHistorical.value = true\n  try {\n    await store.fetchHistoricalComparison(reconciliation.value.name)\n    historicalComparison.value = store.historicalComparison\n  } catch (error) {\n    console.error(\"Error fetching historical comparison:\", error)\n  } finally {\n    loadingHistorical.value = false\n  }\n}\n\nfunction goBack() {\n  router.push(\"/compliance/vat-reconciliation\")\n}\n\nasync function clearCacheAndReload() {\n  // Clear the results cache\n  store.clearResultsCache(reconciliation.value?.name)\n  \n  // Reload results if we have a completed reconciliation\n  if (reconciliation.value?.status === \"Completed\" || reconciliation.value?.status === \"Reconciled\") {\n    await loadResults()\n  }\n}\n\nasync function changePage(newPage) {\n  resultsPage.value = newPage\n  const filterStatus = activeResultTab.value === \"all\" ? null : activeResultTab.value\n  await loadResults(filterStatus, newPage)\n}\n\nfunction getStatusVariant(status) {\n  const variants = {\n    \"Draft\": \"subtle\",\n    \"Data Uploaded\": \"yellow\",\n    \"Reconciled\": \"blue\",\n    \"Reviewed\": \"purple\",\n    \"Approved\": \"green\"\n  }\n  return variants[status] || \"gray\"\n}\n\nfunction getMatchStatusVariant(status) {\n  const variants = {\n    \"Matched\": \"green\",\n    \"Unmatched Source A\": \"yellow\",\n    \"Unmatched Source B\": \"orange\",\n    \"Amount Discrepancy\": \"red\"\n  }\n  return variants[status] || \"gray\"\n}\n\nfunction formatDate(date) {\n  if (!date) return \"-\"\n  return new Date(date).toLocaleDateString(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\"\n  })\n}\n\nfunction formatCurrency(amount) {\n  if (amount === null || amount === undefined) return \"-\"\n  return new Intl.NumberFormat(\"en-KE\", {\n    style: \"currency\",\n    currency: \"KES\",\n    minimumFractionDigits: 2\n  }).format(amount)\n}\n\nfunction formatVariance(variance) {\n  if (variance === null || variance === undefined || variance === 0) return \"KES 0.00\"\n  const absAmount = Math.abs(variance)\n  const formatted = new Intl.NumberFormat(\"en-KE\", {\n    style: \"currency\",\n    currency: \"KES\",\n    minimumFractionDigits: 2\n  }).format(absAmount)\n  return variance > 0 ? `+${formatted}` : `-${formatted}`\n}\n\nfunction getVarianceClass(variance, matchStatus) {\n  if (variance === 0 || matchStatus === \"Matched\") return \"text-green-600\"\n  if (variance > 0) return \"text-orange-600\" // Source A higher\n  return \"text-red-600\" // Source B higher (negative variance)\n}\n\nfunction getVarianceTooltip(variance, matchStatus) {\n  if (matchStatus === \"Matched\") return \"Amounts match within tolerance\"\n  if (matchStatus === \"Unmatched Source A\") return \"Only exists in Source A\"\n  if (matchStatus === \"Unmatched Source B\") return \"Only exists in Source B\"\n  if (variance > 0) return \"Source A amount is higher by \" + formatCurrency(variance)\n  if (variance < 0) return \"Source B amount is higher by \" + formatCurrency(Math.abs(variance))\n  return \"\"\n}\n\n// Watch for tab changes to reload results with new filter\nwatch(activeResultTab, async (newTab) => {\n  resultsPage.value = 1\n  if (reconciliation.value?.name) {\n    await loadResults(newTab === \"all\" ? null : newTab, resultsPage.value)\n  }\n})\n</script>\n"],"names":["FileSpreadsheet","createLucideIcon","props","__props","router","useRouter","route","useRoute","store","useVATReconciliationStore","systemFileInput","ref","itaxFileInput","timsFileInput","exportDropdownRef","loading","saving","runningReconciliation","uploadingFile","loadingHistorical","loadingResults","showExportDropdown","showFilePreview","previewFileType","previewData","previewColumns","activeResultTab","resultsPage","resultsPageSize","historicalComparison","reconciliation","reconciliationResults","form","months","fiscalYears","computed","currentYear","_","i","isNewMode","canEditConfig","_a","requiresSystemData","type","requiresItaxData","requiresTimsData","canUploadFiles","canRunReconciliation","hasResults","_b","resultTabs","doc","filteredResults","start","filteredResultsTotal","resultsTotalPages","netDifference","matchRateColor","rate","matchRateBarColor","handleClickOutside","event","onMounted","__async","loadReconciliation","id","loadResults","error","filterStatus","pageNum","statusFilter","fetchResult","createReconciliation","result","triggerFileInput","_c","csvTemplates","downloadTemplate","template","csvContent","row","blob","link","url","downloadAllTemplates","handleFileUpload","fileType","file","runReconciliation","exportReport","format","viewFileData","doctype","call","k","fetchHistoricalComparison","goBack","changePage","newPage","getStatusVariant","status","getMatchStatusVariant","formatDate","date","formatCurrency","amount","formatVariance","variance","absAmount","formatted","getVarianceClass","matchStatus","getVarianceTooltip","watch","newTab","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_unref","Button","ArrowLeft","_hoisted_5","_hoisted_6","_toDisplayString","_createBlock","Badge","_createTextVNode","_hoisted_7","_hoisted_8","_hoisted_9","Play","_cache","$event","_hoisted_10","Download","ChevronDown","_hoisted_11","FileText","_hoisted_12","Save","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_Fragment","_renderList","month","_hoisted_23","_vModelSelect","_hoisted_24","_hoisted_25","year","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","Database","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","CheckCircle","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","AlertTriangle","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","XCircle","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","DollarSign","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","TrendingUp","_hoisted_69","_normalizeClass","_hoisted_70","_hoisted_75","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_80","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_normalizeStyle","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","Eye","RefreshCw","_hoisted_90","Upload","_hoisted_91","_hoisted_92","e","_d","_e","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_f","_g","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_h","_hoisted_109","tab","_hoisted_110","_hoisted_122","_hoisted_111","_hoisted_112","item","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_123","_hoisted_124","_hoisted_125","_i","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_j","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","Dialog","_hoisted_136","_hoisted_137","_hoisted_138","col","_hoisted_139","idx"],"mappings":"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","x_google_ignoreList":[0]}