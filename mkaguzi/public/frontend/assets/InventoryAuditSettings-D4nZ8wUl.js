var w=(D,U,f)=>new Promise((g,x)=>{var k=r=>{try{A(f.next(r))}catch(m){x(m)}},s=r=>{try{A(f.throw(r))}catch(m){x(m)}},A=r=>r.done?g(r.value):Promise.resolve(r.value).then(k,s);A((f=f.apply(D,U)).next())});import{m as h,a as b,i as c,c as re}from"./index-qIC3Tfxg.js";import{ab as ie,r as p,Q as ue,k as de,l as d,p as u,q as t,s as l,u as y,v as n,z as v,F as M,x as R,B as me,y as ve,C as _e,A as V,H as _}from"./vue-DciwFjI_.js";import{aL as ce,R as pe,ad as ge,a as z,B as O,n as H,F as q,E as N,N as I,a4 as ye}from"./icons-CtLkBOsu.js";import"./charts-DlPBe6v3.js";import"./utils-Bcd7wHeW.js";const fe={class:"p-6"},he={class:"flex items-center justify-between mb-6"},be={class:"flex items-center gap-4"},xe={class:"flex items-center gap-2"},we={class:"bg-white rounded-lg border border-gray-200 mb-6"},Ve={class:"border-b border-gray-200"},ke={class:"flex overflow-x-auto"},Ae=["onClick"],Ce={class:"max-w-6xl"},Se={class:"space-y-6"},Ue={key:0,class:"space-y-6"},Te={class:"bg-white rounded-lg border p-6"},We={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Re={class:"space-y-4"},Ne={class:"flex items-center justify-between"},De={key:0},Be={class:"flex items-center justify-between"},Ee={key:1},je={class:"space-y-4"},ze={class:"flex items-center justify-between"},Oe={class:"flex items-center justify-between"},He={key:0},qe={key:1,class:"space-y-6"},Ie={class:"bg-white rounded-lg border p-6"},Le={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$e={class:"space-y-4"},Fe={class:"flex items-center justify-between"},Ge={key:0},Je={class:"space-y-4"},Qe={class:"flex items-center justify-between"},Xe={class:"flex items-center justify-between"},Ke={key:2,class:"space-y-6"},Ye={class:"bg-white rounded-lg border p-6"},Ze={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tt={class:"space-y-4"},at={class:"flex items-center justify-between"},st={key:0},lt={class:"space-y-4"},ot={key:0,class:"flex items-center justify-between"},nt={key:1},rt={key:3,class:"space-y-6"},it={class:"bg-white rounded-lg border p-6"},ut={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},mt={class:"space-y-4"},vt={class:"flex items-center justify-between"},_t={class:"space-y-4"},ct={class:"flex items-center justify-between"},pt={key:0},gt={key:4,class:"space-y-6"},yt={class:"bg-white rounded-lg border p-6"},ft={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},ht={class:"space-y-6"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xt={class:"mt-4"},wt={class:"border-t pt-6"},Vt={class:"mb-6"},kt={class:"space-y-3"},At={class:"text-sm font-medium text-gray-900"},Ct={class:"text-xs text-gray-500"},St={class:"flex items-center space-x-2"},Ut={class:"border-t pt-6"},Tt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Wt={class:"mt-4"},Mt={class:"space-y-2"},Rt={class:"mt-4"},Ot={__name:"InventoryAuditSettings",setup(D){const U=ie(),f=p(!1),g=p("general"),x=p(!1),k=p(!1),s=p({enable_auto_warehouse_creation:!1,default_warehouse_type:"Store",auto_generate_warehouse_code:!0,warehouse_code_prefix:"WH-",default_counting_method:"Manual Count",allow_negative_variance:!1,enable_batch_processing:!0,max_batch_size:100,notify_on_variance_threshold:!0,variance_notification_threshold:5,notify_store_manager:!0,notify_hod_inventory:!0,require_hod_approval:!0,approval_workflow:"Single Level",auto_approve_below_threshold:!1,approval_threshold_amount:0,audit_retention_days:365,enable_audit_trail:!0,auto_archive_completed_audits:!0,archive_after_days:90}),A=[{id:"general",name:"General",icon:z},{id:"notifications",name:"Notifications",icon:O},{id:"approvals",name:"Approvals",icon:H},{id:"audit",name:"Audit Trail",icon:q},{id:"warehouses",name:"Warehouses & Teams",icon:N}],r=p({warehouse_code:"",warehouse_name:"",warehouse_type:"Store",branch:"",city:"",county:""}),m=p({warehouse:"",team_lead:"",team_members:[]}),B=p([]),E=p([]),T=p([]),j=[{label:"Store",value:"Store"},{label:"Warehouse",value:"Warehouse"},{label:"Distribution Center",value:"Distribution Center"},{label:"Returns Center",value:"Returns Center"}],L=[{label:"Manual Count",value:"Manual Count"},{label:"Barcode Scan",value:"Barcode Scan"},{label:"RFID",value:"RFID"},{label:"System Integration",value:"System Integration"}],P=[{label:"Single Level",value:"Single Level"},{label:"Multi Level",value:"Multi Level"}],$=[{label:"Counter",value:"Counter"},{label:"Supervisor",value:"Supervisor"},{label:"Auditor",value:"Auditor"}],F=h({url:"/api/method/mkaguzi.inventory_audit.doctype.inventory_audit_settings.inventory_audit_settings.get_settings",auto:!1}),G=h({url:"frappe.client.set_value",auto:!1});h({url:"/api/resource/Warehouse Master",auto:!1});const J=h({url:"/api/resource/Warehouse Master",method:"GET",auto:!1}),Q=h({url:"/api/resource/User",method:"GET",auto:!1}),X=h({url:"/api/method/mkaguzi.inventory_audit.doctype.inventory_audit_settings.inventory_audit_settings.create_warehouse",auto:!1});h({url:"/api/method/mkaguzi.inventory_audit.doctype.inventory_audit_settings.inventory_audit_settings.create_sample_warehouse",auto:!1});const K=h({url:"/api/method/mkaguzi.inventory_audit.doctype.inventory_audit_settings.inventory_audit_settings.create_team_assignment",auto:!1}),Y=()=>{U.push("/inventory-audit")},Z=()=>w(this,null,function*(){try{const o=yield F.fetch();o&&Object.assign(s.value,o)}catch(o){console.error("Error loading settings:",o)}}),ee=()=>w(this,null,function*(){f.value=!0;try{yield G.fetch({doctype:"Inventory Audit Settings",name:"Inventory Audit Settings",fieldname:s.value}),alert("Settings saved successfully!")}catch(o){console.error("Error saving settings:",o),alert("Error saving settings. Please try again.")}finally{f.value=!1}}),te=()=>{confirm("Are you sure you want to reset all settings to defaults? This action cannot be undone.")&&(s.value={enable_auto_warehouse_creation:!1,default_warehouse_type:"Store",auto_generate_warehouse_code:!0,warehouse_code_prefix:"WH-",default_counting_method:"Manual Count",allow_negative_variance:!1,enable_batch_processing:!0,max_batch_size:100,notify_on_variance_threshold:!0,variance_notification_threshold:5,notify_store_manager:!0,notify_hod_inventory:!0,require_hod_approval:!0,approval_workflow:"Single Level",auto_approve_below_threshold:!1,approval_threshold_amount:0,audit_retention_days:365,enable_audit_trail:!0,auto_archive_completed_audits:!0,archive_after_days:90})},ae=()=>w(this,null,function*(){if(!r.value.warehouse_code||!r.value.warehouse_name){alert("Please fill in warehouse code and name");return}x.value=!0;try{(yield X.fetch({warehouse_code:r.value.warehouse_code,warehouse_name:r.value.warehouse_name,warehouse_type:r.value.warehouse_type,branch:r.value.branch,city:r.value.city,county:r.value.county}))&&(alert(`Warehouse '${r.value.warehouse_code}' created successfully!`),r.value={warehouse_code:"",warehouse_name:"",warehouse_type:"Store",branch:"",city:"",county:""},W())}catch(o){console.error("Error creating warehouse:",o);const e=(o==null?void 0:o.exc_type)==="ValidationError"?o==null?void 0:o.message:(o==null?void 0:o.message)||(o==null?void 0:o._server_messages)||"Error creating warehouse. Please try again.";let i=e;if(o!=null&&o._server_messages)try{const a=JSON.parse(o._server_messages);a.length>0&&(i=JSON.parse(a[0]).message||e)}catch(a){}alert(i)}finally{x.value=!1}}),se=()=>{m.value.team_members.push({user:"",role:"Counter"})},le=o=>{m.value.team_members.splice(o,1)},oe=()=>w(this,null,function*(){if(!m.value.warehouse||!m.value.team_lead){alert("Please select a warehouse and team lead");return}if(m.value.team_members.length===0){alert("Please add at least one team member");return}k.value=!0;try{(yield K.fetch({warehouse:m.value.warehouse,team_lead:m.value.team_lead,team_members:JSON.stringify(m.value.team_members)}))&&(alert("Team assignment created successfully!"),m.value={warehouse:"",team_lead:"",team_members:[]},W())}catch(o){console.error("Error creating team assignment:",o),alert("Error creating team assignment. Please try again.")}finally{k.value=!1}}),ne=o=>{alert(`Team management for ${o.warehouse_name} would be implemented here`)},W=()=>w(this,null,function*(){try{const o=yield J.fetch({params:{fields:'["name","warehouse_name","warehouse_type"]',limit_page_length:100}});o&&o.data&&(E.value=o.data.map(i=>({label:`${i.warehouse_name} (${i.name})`,value:i.name})));const e=yield Q.fetch({params:{fields:'["name","full_name"]',filters:'[["enabled","=","1"]]',limit_page_length:100}});e&&e.data&&(T.value=e.data.map(i=>({label:i.full_name||i.name,value:i.name}))),B.value=[{warehouse:"WH-001",warehouse_name:"Main Warehouse",warehouse_code:"WH-001",warehouse_type:"Warehouse",team_assigned:!0},{warehouse:"ST-001",warehouse_name:"Store A",warehouse_code:"ST-001",warehouse_type:"Store",team_assigned:!1}]}catch(o){console.error("Error loading warehouse data:",o)}});return ue(()=>{Z(),W()}),(o,e)=>{const i=de("FormControl");return u(),d("div",fe,[t("div",he,[t("div",be,[l(n(b),{variant:"ghost",onClick:Y},{default:y(()=>[l(n(ce),{class:"w-5 h-5"})]),_:1}),e[28]||(e[28]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Inventory Audit Settings"),t("p",{class:"text-gray-500 mt-1"}," Configure inventory audit module preferences and warehouse management ")],-1))]),t("div",xe,[l(n(b),{variant:"outline",onClick:te},{default:y(()=>[l(n(pe),{class:"w-4 h-4 mr-2"}),e[29]||(e[29]=v(" Reset to Defaults ",-1))]),_:1}),l(n(b),{variant:"solid",onClick:ee,loading:f.value},{default:y(()=>[l(n(ge),{class:"w-4 h-4 mr-2"}),e[30]||(e[30]=v(" Save Settings ",-1))]),_:1},8,["loading"])])]),t("div",we,[t("div",Ve,[t("nav",ke,[(u(),d(M,null,R(A,a=>t("button",{key:a.id,class:me(["px-4 py-3 text-sm font-medium border-b-2 whitespace-nowrap transition-colors",g.value===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),onClick:C=>g.value=a.id},[(u(),ve(_e(a.icon),{class:"h-4 w-4 mr-2 inline"})),v(" "+V(a.name),1)],10,Ae)),64))])])]),t("div",Ce,[t("div",Se,[g.value==="general"?(u(),d("div",Ue,[t("div",Te,[t("h3",We,[l(n(z),{class:"w-5 h-5 mr-2"}),e[31]||(e[31]=v(" General Settings ",-1))]),t("div",Me,[t("div",Re,[t("div",Ne,[e[32]||(e[32]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Auto Warehouse Creation"),t("p",{class:"text-sm text-gray-500"},"Automatically create warehouse records when importing stock data")],-1)),l(n(c),{modelValue:s.value.enable_auto_warehouse_creation,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.enable_auto_warehouse_creation=a)},null,8,["modelValue"])]),s.value.enable_auto_warehouse_creation?(u(),d("div",De,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Default Warehouse Type",-1)),l(i,{type:"select",modelValue:s.value.default_warehouse_type,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.default_warehouse_type=a),options:j},null,8,["modelValue"])])):_("",!0),t("div",Be,[e[34]||(e[34]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Auto Generate Warehouse Code"),t("p",{class:"text-sm text-gray-500"},"Automatically generate warehouse codes using prefix")],-1)),l(n(c),{modelValue:s.value.auto_generate_warehouse_code,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.auto_generate_warehouse_code=a)},null,8,["modelValue"])]),s.value.auto_generate_warehouse_code?(u(),d("div",Ee,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Warehouse Code Prefix",-1)),l(i,{type:"text",modelValue:s.value.warehouse_code_prefix,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.warehouse_code_prefix=a),placeholder:"WH-, ST-, etc."},null,8,["modelValue"])])):_("",!0)]),t("div",je,[t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Default Counting Method",-1)),l(i,{type:"select",modelValue:s.value.default_counting_method,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.default_counting_method=a),options:L},null,8,["modelValue"])]),t("div",ze,[e[37]||(e[37]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Allow Negative Variance"),t("p",{class:"text-sm text-gray-500"},"Allow negative variances in stock counts")],-1)),l(n(c),{modelValue:s.value.allow_negative_variance,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.allow_negative_variance=a)},null,8,["modelValue"])]),t("div",Oe,[e[38]||(e[38]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Enable Batch Processing"),t("p",{class:"text-sm text-gray-500"},"Process stock items in batches for performance")],-1)),l(n(c),{modelValue:s.value.enable_batch_processing,"onUpdate:modelValue":e[6]||(e[6]=a=>s.value.enable_batch_processing=a)},null,8,["modelValue"])]),s.value.enable_batch_processing?(u(),d("div",He,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Max Batch Size",-1)),l(i,{type:"number",modelValue:s.value.max_batch_size,"onUpdate:modelValue":e[7]||(e[7]=a=>s.value.max_batch_size=a),min:"10",max:"1000"},null,8,["modelValue"])])):_("",!0)])])])])):_("",!0),g.value==="notifications"?(u(),d("div",qe,[t("div",Ie,[t("h3",Le,[l(n(O),{class:"w-5 h-5 mr-2"}),e[40]||(e[40]=v(" Notification Settings ",-1))]),t("div",Pe,[t("div",$e,[t("div",Fe,[e[41]||(e[41]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Notify on Variance Threshold"),t("p",{class:"text-sm text-gray-500"},"Send notifications when variance exceeds threshold")],-1)),l(n(c),{modelValue:s.value.notify_on_variance_threshold,"onUpdate:modelValue":e[8]||(e[8]=a=>s.value.notify_on_variance_threshold=a)},null,8,["modelValue"])]),s.value.notify_on_variance_threshold?(u(),d("div",Ge,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Variance Notification Threshold (%)",-1)),l(i,{type:"number",modelValue:s.value.variance_notification_threshold,"onUpdate:modelValue":e[9]||(e[9]=a=>s.value.variance_notification_threshold=a),min:"0",max:"100",step:"0.1"},null,8,["modelValue"])])):_("",!0)]),t("div",Je,[t("div",Qe,[e[43]||(e[43]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Notify Store Manager"),t("p",{class:"text-sm text-gray-500"},"Send notifications to store managers")],-1)),l(n(c),{modelValue:s.value.notify_store_manager,"onUpdate:modelValue":e[10]||(e[10]=a=>s.value.notify_store_manager=a)},null,8,["modelValue"])]),t("div",Xe,[e[44]||(e[44]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Notify HOD Inventory"),t("p",{class:"text-sm text-gray-500"},"Send notifications to HOD Inventory")],-1)),l(n(c),{modelValue:s.value.notify_hod_inventory,"onUpdate:modelValue":e[11]||(e[11]=a=>s.value.notify_hod_inventory=a)},null,8,["modelValue"])])])])])])):_("",!0),g.value==="approvals"?(u(),d("div",Ke,[t("div",Ye,[t("h3",Ze,[l(n(H),{class:"w-5 h-5 mr-2"}),e[45]||(e[45]=v(" Approval Settings ",-1))]),t("div",et,[t("div",tt,[t("div",at,[e[46]||(e[46]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Require HOD Approval"),t("p",{class:"text-sm text-gray-500"},"Require HOD approval for stock take variances")],-1)),l(n(c),{modelValue:s.value.require_hod_approval,"onUpdate:modelValue":e[12]||(e[12]=a=>s.value.require_hod_approval=a)},null,8,["modelValue"])]),s.value.require_hod_approval?(u(),d("div",st,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Approval Workflow",-1)),l(i,{type:"select",modelValue:s.value.approval_workflow,"onUpdate:modelValue":e[13]||(e[13]=a=>s.value.approval_workflow=a),options:P},null,8,["modelValue"])])):_("",!0)]),t("div",lt,[s.value.require_hod_approval?(u(),d("div",ot,[e[48]||(e[48]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Auto Approve Below Threshold"),t("p",{class:"text-sm text-gray-500"},"Auto-approve variances below threshold")],-1)),l(n(c),{modelValue:s.value.auto_approve_below_threshold,"onUpdate:modelValue":e[14]||(e[14]=a=>s.value.auto_approve_below_threshold=a)},null,8,["modelValue"])])):_("",!0),s.value.require_hod_approval&&s.value.auto_approve_below_threshold?(u(),d("div",nt,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Approval Threshold Amount",-1)),l(i,{type:"number",modelValue:s.value.approval_threshold_amount,"onUpdate:modelValue":e[15]||(e[15]=a=>s.value.approval_threshold_amount=a),min:"0",step:"0.01"},null,8,["modelValue"])])):_("",!0)])])])])):_("",!0),g.value==="audit"?(u(),d("div",rt,[t("div",it,[t("h3",ut,[l(n(q),{class:"w-5 h-5 mr-2"}),e[50]||(e[50]=v(" Audit Trail Settings ",-1))]),t("div",dt,[t("div",mt,[t("div",null,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Audit Retention Days",-1)),l(i,{type:"number",modelValue:s.value.audit_retention_days,"onUpdate:modelValue":e[16]||(e[16]=a=>s.value.audit_retention_days=a),min:"30",max:"3650"},null,8,["modelValue"])]),t("div",vt,[e[52]||(e[52]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Enable Audit Trail"),t("p",{class:"text-sm text-gray-500"},"Enable detailed audit trail for all changes")],-1)),l(n(c),{modelValue:s.value.enable_audit_trail,"onUpdate:modelValue":e[17]||(e[17]=a=>s.value.enable_audit_trail=a)},null,8,["modelValue"])])]),t("div",_t,[t("div",ct,[e[53]||(e[53]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"},"Auto Archive Completed Audits"),t("p",{class:"text-sm text-gray-500"},"Automatically archive completed audits")],-1)),l(n(c),{modelValue:s.value.auto_archive_completed_audits,"onUpdate:modelValue":e[18]||(e[18]=a=>s.value.auto_archive_completed_audits=a)},null,8,["modelValue"])]),s.value.auto_archive_completed_audits?(u(),d("div",pt,[e[54]||(e[54]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Archive After Days",-1)),l(i,{type:"number",modelValue:s.value.archive_after_days,"onUpdate:modelValue":e[19]||(e[19]=a=>s.value.archive_after_days=a),min:"1",max:"365"},null,8,["modelValue"])])):_("",!0)])])])])):_("",!0),g.value==="warehouses"?(u(),d("div",gt,[t("div",yt,[t("h3",ft,[l(n(N),{class:"w-5 h-5 mr-2"}),e[55]||(e[55]=v(" Warehouse & Team Assignment ",-1))]),t("div",ht,[t("div",null,[e[63]||(e[63]=t("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Create Warehouse",-1)),t("div",bt,[t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Warehouse Code",-1)),l(i,{type:"text",modelValue:r.value.warehouse_code,"onUpdate:modelValue":e[20]||(e[20]=a=>r.value.warehouse_code=a),placeholder:"WH-001"},null,8,["modelValue"])]),t("div",null,[e[57]||(e[57]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Warehouse Name",-1)),l(i,{type:"text",modelValue:r.value.warehouse_name,"onUpdate:modelValue":e[21]||(e[21]=a=>r.value.warehouse_name=a),placeholder:"Main Warehouse"},null,8,["modelValue"])]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Warehouse Type",-1)),l(i,{type:"select",modelValue:r.value.warehouse_type,"onUpdate:modelValue":e[22]||(e[22]=a=>r.value.warehouse_type=a),options:j},null,8,["modelValue"])]),t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Branch",-1)),l(i,{type:"text",modelValue:r.value.branch,"onUpdate:modelValue":e[23]||(e[23]=a=>r.value.branch=a),placeholder:"Main Branch"},null,8,["modelValue"])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"City",-1)),l(i,{type:"text",modelValue:r.value.city,"onUpdate:modelValue":e[24]||(e[24]=a=>r.value.city=a),placeholder:"Nairobi"},null,8,["modelValue"])]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"County",-1)),l(i,{type:"text",modelValue:r.value.county,"onUpdate:modelValue":e[25]||(e[25]=a=>r.value.county=a),placeholder:"Nairobi"},null,8,["modelValue"])])]),t("div",xt,[l(n(b),{onClick:ae,loading:x.value},{default:y(()=>[l(n(I),{class:"w-4 h-4 mr-2"}),e[62]||(e[62]=v(" Create Warehouse ",-1))]),_:1},8,["loading"])])]),t("div",wt,[e[71]||(e[71]=t("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Assign Teams to Warehouses",-1)),t("div",Vt,[e[64]||(e[64]=t("h5",{class:"text-sm font-medium text-gray-700 mb-3"},"Current Assignments",-1)),t("div",kt,[(u(!0),d(M,null,R(B.value,a=>(u(),d("div",{key:a.warehouse,class:"flex items-center justify-between p-3 border border-gray-200 rounded-lg"},[t("div",null,[t("p",At,V(a.warehouse_name),1),t("p",Ct,V(a.warehouse_code)+" â€¢ "+V(a.warehouse_type),1)]),t("div",St,[l(n(re),{variant:a.team_assigned?"success":"secondary"},{default:y(()=>[v(V(a.team_assigned?"Assigned":"Unassigned"),1)]),_:2},1032,["variant"]),l(n(b),{variant:"outline",size:"sm",onClick:C=>ne(a)},{default:y(()=>[v(V(a.team_assigned?"Manage Team":"Assign Team"),1)]),_:2},1032,["onClick"])])]))),128))])]),t("div",Ut,[e[70]||(e[70]=t("h5",{class:"text-sm font-medium text-gray-700 mb-3"},"Create New Team Assignment",-1)),t("div",Tt,[t("div",null,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Warehouse",-1)),l(i,{type:"select",modelValue:m.value.warehouse,"onUpdate:modelValue":e[26]||(e[26]=a=>m.value.warehouse=a),options:E.value,placeholder:"Choose warehouse"},null,8,["modelValue","options"])]),t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Team Lead",-1)),l(i,{type:"select",modelValue:m.value.team_lead,"onUpdate:modelValue":e[27]||(e[27]=a=>m.value.team_lead=a),options:T.value,placeholder:"Select team lead"},null,8,["modelValue","options"])])]),t("div",Wt,[e[68]||(e[68]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Team Members",-1)),t("div",Mt,[(u(!0),d(M,null,R(m.value.team_members,(a,C)=>(u(),d("div",{key:C,class:"flex items-center space-x-2"},[l(i,{type:"select",modelValue:a.user,"onUpdate:modelValue":S=>a.user=S,options:T.value,placeholder:"Select user",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","options"]),l(i,{type:"select",modelValue:a.role,"onUpdate:modelValue":S=>a.role=S,options:$,placeholder:"Role",class:"w-32"},null,8,["modelValue","onUpdate:modelValue"]),l(n(b),{variant:"outline",size:"sm",onClick:S=>le(C)},{default:y(()=>[l(n(ye),{class:"w-4 h-4"})]),_:1},8,["onClick"])]))),128))]),l(n(b),{variant:"outline",size:"sm",onClick:se,class:"mt-2"},{default:y(()=>[l(n(I),{class:"w-4 h-4 mr-2"}),e[67]||(e[67]=v(" Add Member ",-1))]),_:1})]),t("div",Rt,[l(n(b),{onClick:oe,loading:k.value},{default:y(()=>[l(n(N),{class:"w-4 h-4 mr-2"}),e[69]||(e[69]=v(" Create Team Assignment ",-1))]),_:1},8,["loading"])])])])])])])):_("",!0)])])])}}};export{Ot as default};
//# sourceMappingURL=InventoryAuditSettings-D4nZ8wUl.js.map
