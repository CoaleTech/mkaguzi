{"version":3,"file":"AnnualPlan-DA1rPYc1.js","sources":["../../../../frontend/src/components/annualplan/AnnualPlanFormNew.vue","../../../../frontend/src/components/annualplan/PlanFilters.vue","../../../../frontend/src/components/annualplan/PlanStats.vue","../../../../frontend/src/pages/AnnualPlan.vue"],"sourcesContent":["<template>\n  <Dialog\n    v-model=\"isOpen\"\n    :options=\"{\n      title: isEditMode ? 'Edit Annual Audit Plan' : 'Create Annual Audit Plan',\n      size: 'full'\n    }\"\n  >\n    <template #body-content>\n      <div class=\"h-[80vh] flex\">\n        <!-- Progress Sidebar -->\n        <div class=\"w-64 bg-gray-50 border-r border-gray-200 flex-shrink-0 overflow-y-auto\">\n          <div class=\"p-5\">\n            <h4 class=\"text-sm font-semibold text-gray-900 mb-4\">Form Sections</h4>\n            <nav class=\"space-y-1\">\n              <button\n                v-for=\"(section, index) in formSections\"\n                :key=\"section.id\"\n                @click=\"activeSection = section.id\"\n                class=\"w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg text-left transition-all\"\n                :class=\"[\n                  activeSection === section.id\n                    ? 'bg-blue-100 border border-blue-300 text-blue-800'\n                    : 'hover:bg-gray-100 text-gray-700'\n                ]\"\n              >\n                <div\n                  class=\"w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold flex-shrink-0\"\n                  :class=\"getSectionStatusClass(section.id)\"\n                >\n                  <CheckIcon v-if=\"getSectionStatus(section.id) === 'complete'\" class=\"h-3 w-3\" />\n                  <span v-else>{{ index + 1 }}</span>\n                </div>\n                <div class=\"flex-1 min-w-0\">\n                  <div class=\"text-sm font-medium truncate\">{{ section.label }}</div>\n                  <div class=\"text-xs text-gray-500\">{{ section.description }}</div>\n                </div>\n              </button>\n            </nav>\n\n            <!-- Progress Summary -->\n            <div class=\"mt-6 p-4 bg-white rounded-lg border border-gray-200\">\n              <div class=\"flex items-center justify-between mb-2\">\n                <span class=\"text-sm font-medium text-gray-700\">Progress</span>\n                <span class=\"text-sm font-bold text-blue-600\">{{ formProgress }}%</span>\n              </div>\n              <div class=\"w-full bg-gray-200 rounded-full h-2\">\n                <div\n                  class=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                  :style=\"{ width: `${formProgress}%` }\"\n                ></div>\n              </div>\n              <p class=\"text-xs text-gray-500 mt-2\">\n                {{ completedSections }} of {{ formSections.length }} sections complete\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Main Form Content -->\n        <div class=\"flex-1 overflow-y-auto\">\n          <div class=\"p-6 max-w-5xl mx-auto\">\n            <!-- Section: Basic Information -->\n            <div v-show=\"activeSection === 'basic'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Basic Information\"\n                description=\"Essential plan details and identification\"\n                icon=\"calendar\"\n                step=\"1\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <!-- Plan Title -->\n                  <div class=\"md:col-span-2\">\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Plan Title <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      v-model=\"form.plan_title\"\n                      type=\"text\"\n                      placeholder=\"e.g., Annual Audit Plan 2025\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                      :class=\"errors.plan_title ? 'border-red-300' : 'border-gray-300'\"\n                    />\n                    <p v-if=\"errors.plan_title\" class=\"mt-1 text-xs text-red-500\">{{ errors.plan_title }}</p>\n                  </div>\n\n                  <!-- Fiscal Year -->\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Fiscal Year <span class=\"text-red-500\">*</span>\n                    </label>\n                    <select\n                      v-model=\"form.fiscal_year\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      :class=\"errors.fiscal_year ? 'border-red-300' : 'border-gray-300'\"\n                    >\n                      <option v-for=\"year in fiscalYearOptions\" :key=\"year\" :value=\"year\">{{ year }}</option>\n                    </select>\n                    <p v-if=\"errors.fiscal_year\" class=\"mt-1 text-xs text-red-500\">{{ errors.fiscal_year }}</p>\n                  </div>\n                </div>\n\n                <!-- Status and Dates Row -->\n                <div class=\"grid grid-cols-1 md:grid-cols-4 gap-6 mt-6\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Status <span class=\"text-red-500\">*</span>\n                    </label>\n                    <select\n                      v-model=\"form.status\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    >\n                      <option v-for=\"opt in statusOptions\" :key=\"opt.value\" :value=\"opt.value\">\n                        {{ opt.label }}\n                      </option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Plan Period\n                    </label>\n                    <select\n                      v-model=\"form.plan_period\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    >\n                      <option v-for=\"opt in periodOptions\" :key=\"opt.value\" :value=\"opt.value\">\n                        {{ opt.label }}\n                      </option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Plan Start Date <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      v-model=\"form.plan_start_date\"\n                      type=\"date\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      :class=\"errors.plan_start_date ? 'border-red-300' : 'border-gray-300'\"\n                    />\n                    <p v-if=\"errors.plan_start_date\" class=\"mt-1 text-xs text-red-500\">{{ errors.plan_start_date }}</p>\n                  </div>\n\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Plan End Date <span class=\"text-red-500\">*</span>\n                    </label>\n                    <input\n                      v-model=\"form.plan_end_date\"\n                      type=\"date\"\n                      class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      :class=\"errors.plan_end_date ? 'border-red-300' : 'border-gray-300'\"\n                    />\n                    <p v-if=\"errors.plan_end_date\" class=\"mt-1 text-xs text-red-500\">{{ errors.plan_end_date }}</p>\n                  </div>\n                </div>\n\n                <!-- Plan Owner -->\n                <div class=\"mt-6 max-w-md\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Plan Owner\n                  </label>\n                  <LinkField\n                    v-model=\"form.plan_owner\"\n                    doctype=\"User\"\n                    :filters=\"{ enabled: 1 }\"\n                    placeholder=\"Select plan owner\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Overview -->\n            <div v-show=\"activeSection === 'overview'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Plan Overview\"\n                description=\"Executive summary, objectives, scope, and methodology\"\n                icon=\"file-text\"\n                step=\"2\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Executive Summary -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Executive Summary <span class=\"text-red-500\">*</span>\n                  </label>\n                  <textarea\n                    v-model=\"form.executive_summary\"\n                    rows=\"4\"\n                    placeholder=\"Provide a high-level summary of the annual audit plan...\"\n                    class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                    :class=\"errors.executive_summary ? 'border-red-300' : 'border-gray-300'\"\n                  ></textarea>\n                  <p v-if=\"errors.executive_summary\" class=\"mt-1 text-xs text-red-500\">{{ errors.executive_summary }}</p>\n                </div>\n\n                <!-- Objectives -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Objectives <span class=\"text-red-500\">*</span>\n                  </label>\n                  <textarea\n                    v-model=\"form.objectives\"\n                    rows=\"4\"\n                    placeholder=\"Define the primary objectives of this audit plan...\"\n                    class=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\n                    :class=\"errors.objectives ? 'border-red-300' : 'border-gray-300'\"\n                  ></textarea>\n                  <p v-if=\"errors.objectives\" class=\"mt-1 text-xs text-red-500\">{{ errors.objectives }}</p>\n                </div>\n\n                <!-- Scope -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Scope\n                  </label>\n                  <textarea\n                    v-model=\"form.scope\"\n                    rows=\"4\"\n                    placeholder=\"Define the boundaries and areas covered by this audit plan...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n\n                <!-- Methodology -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Methodology\n                  </label>\n                  <textarea\n                    v-model=\"form.methodology\"\n                    rows=\"4\"\n                    placeholder=\"Describe the audit approach and methodology...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Resources -->\n            <div v-show=\"activeSection === 'resources'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Resource Allocation\"\n                description=\"Team members, roles, and capacity planning\"\n                icon=\"users\"\n                step=\"3\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\n                <!-- Resource Allocation Child Table - Inline Editable -->\n                <InlineChildTable\n                  v-model=\"form.resource_allocation\"\n                  title=\"Team Resources\"\n                  modal-title=\"Resource\"\n                  :columns=\"resourceColumns\"\n                  :validate=\"validateResource\"\n                  :auto-add-row=\"true\"\n                />\n\n                <!-- Capacity Summary -->\n                <div class=\"mt-6 border-t border-gray-200 pt-6\">\n                  <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                    <div class=\"bg-blue-50 rounded-lg p-4\">\n                      <h5 class=\"text-sm font-medium text-blue-800 mb-1\">Total Available Days</h5>\n                      <input\n                        v-model.number=\"form.total_available_days\"\n                        type=\"number\"\n                        min=\"0\"\n                        placeholder=\"0\"\n                        class=\"w-full px-2 py-1.5 text-sm border border-blue-200 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n                    <div class=\"bg-amber-50 rounded-lg p-4\">\n                      <h5 class=\"text-sm font-medium text-amber-800 mb-1\">Total Planned Days</h5>\n                      <input\n                        v-model.number=\"form.total_planned_days\"\n                        type=\"number\"\n                        min=\"0\"\n                        placeholder=\"0\"\n                        class=\"w-full px-2 py-1.5 text-sm border border-amber-200 rounded focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\n                      />\n                    </div>\n                    <div class=\"bg-green-50 rounded-lg p-4\">\n                      <h5 class=\"text-sm font-medium text-green-800 mb-1\">Utilization %</h5>\n                      <div class=\"text-2xl font-bold text-green-700\">\n                        {{ utilizationPercentage }}%\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Planned Audits -->\n            <div v-show=\"activeSection === 'audits'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Planned Audits\"\n                description=\"Schedule and prioritize audit engagements\"\n                icon=\"clipboard-list\"\n                step=\"4\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\n                <!-- Planned Audits Child Table - Inline Editable -->\n                <InlineChildTable\n                  v-model=\"form.planned_audits\"\n                  title=\"Audit Schedule\"\n                  modal-title=\"Planned Audit\"\n                  :columns=\"auditColumns\"\n                  :validate=\"validateAudit\"\n                  :auto-add-row=\"true\"\n                  :required=\"true\"\n                />\n              </div>\n            </div>\n\n            <!-- Section: Budget -->\n            <div v-show=\"activeSection === 'budget'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Budget Information\"\n                description=\"Financial allocation and tracking\"\n                icon=\"dollar-sign\"\n                step=\"5\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Budget Fields -->\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Total Budget\n                    </label>\n                    <div class=\"relative\">\n                      <span class=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">$</span>\n                      <input\n                        v-model.number=\"form.total_budget\"\n                        type=\"number\"\n                        min=\"0\"\n                        step=\"1000\"\n                        placeholder=\"0.00\"\n                        class=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Allocated Budget\n                    </label>\n                    <div class=\"relative\">\n                      <span class=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">$</span>\n                      <input\n                        v-model.number=\"form.allocated_budget\"\n                        type=\"number\"\n                        min=\"0\"\n                        step=\"1000\"\n                        placeholder=\"0.00\"\n                        class=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                      Actual Spend\n                    </label>\n                    <div class=\"relative\">\n                      <span class=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">$</span>\n                      <input\n                        v-model.number=\"form.actual_spend\"\n                        type=\"number\"\n                        min=\"0\"\n                        step=\"100\"\n                        placeholder=\"0.00\"\n                        class=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Budget Utilization Bar -->\n                <div class=\"bg-gray-50 rounded-lg p-4\">\n                  <div class=\"flex items-center justify-between mb-2\">\n                    <span class=\"text-sm font-medium text-gray-700\">Budget Utilization</span>\n                    <span class=\"text-sm font-bold\" :class=\"budgetUtilizationClass\">{{ budgetUtilization }}%</span>\n                  </div>\n                  <div class=\"w-full bg-gray-200 rounded-full h-3\">\n                    <div\n                      class=\"h-3 rounded-full transition-all duration-300\"\n                      :class=\"budgetUtilizationBarClass\"\n                      :style=\"{ width: `${Math.min(budgetUtilization, 100)}%` }\"\n                    ></div>\n                  </div>\n                </div>\n\n                <!-- Budget Notes -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Budget Notes\n                  </label>\n                  <textarea\n                    v-model=\"form.budget_notes\"\n                    rows=\"3\"\n                    placeholder=\"Additional budget notes or comments...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Risk -->\n            <div v-show=\"activeSection === 'risk'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Risk Considerations\"\n                description=\"Key risks and mitigation strategies\"\n                icon=\"alert-triangle\"\n                step=\"6\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Key Risks -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Key Risks\n                  </label>\n                  <textarea\n                    v-model=\"form.key_risks\"\n                    rows=\"4\"\n                    placeholder=\"Identify key risks that may impact the audit plan...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n\n                <!-- Risk Mitigation Strategies -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Risk Mitigation Strategies\n                  </label>\n                  <textarea\n                    v-model=\"form.risk_mitigation\"\n                    rows=\"4\"\n                    placeholder=\"Describe strategies to mitigate identified risks...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Contingency -->\n            <div v-show=\"activeSection === 'contingency'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Contingency Planning\"\n                description=\"Backup plans and contingency budget\"\n                icon=\"shield\"\n                step=\"7\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Contingency Plan -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Contingency Plan\n                  </label>\n                  <textarea\n                    v-model=\"form.contingency_plan\"\n                    rows=\"4\"\n                    placeholder=\"Describe contingency measures and backup plans...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n\n                <!-- Contingency Budget -->\n                <div class=\"max-w-md\">\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Contingency Budget\n                  </label>\n                  <div class=\"relative\">\n                    <span class=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">$</span>\n                    <input\n                      v-model.number=\"form.contingency_budget\"\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"1000\"\n                      placeholder=\"0.00\"\n                      class=\"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Additional -->\n            <div v-show=\"activeSection === 'additional'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Additional Information\"\n                description=\"Notes and supplementary details\"\n                icon=\"info\"\n                step=\"8\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6 space-y-6\">\n                <!-- Additional Notes -->\n                <div>\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                    Additional Notes\n                  </label>\n                  <textarea\n                    v-model=\"form.additional_notes\"\n                    rows=\"5\"\n                    placeholder=\"Any additional information or comments...\"\n                    class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  ></textarea>\n                </div>\n              </div>\n            </div>\n\n            <!-- Section: Review -->\n            <div v-show=\"activeSection === 'review'\" class=\"space-y-6\">\n              <SectionHeader\n                title=\"Review & Submit\"\n                description=\"Review your plan before saving\"\n                icon=\"check-circle\"\n                step=\"9\"\n              />\n\n              <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm p-6\">\n                <!-- Validation Summary -->\n                <div class=\"space-y-4\">\n                  <h4 class=\"font-semibold text-gray-900\">Validation Checklist</h4>\n                  \n                  <div class=\"space-y-2\">\n                    <div \n                      v-for=\"check in validationChecks\" \n                      :key=\"check.label\"\n                      class=\"flex items-center space-x-3 p-3 rounded-lg\"\n                      :class=\"check.valid ? 'bg-green-50' : 'bg-red-50'\"\n                    >\n                      <div \n                        class=\"w-6 h-6 rounded-full flex items-center justify-center\"\n                        :class=\"check.valid ? 'bg-green-500 text-white' : 'bg-red-500 text-white'\"\n                      >\n                        <CheckIcon v-if=\"check.valid\" class=\"h-4 w-4\" />\n                        <XIcon v-else class=\"h-4 w-4\" />\n                      </div>\n                      <span :class=\"check.valid ? 'text-green-800' : 'text-red-800'\">\n                        {{ check.label }}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Plan Summary -->\n                <div class=\"mt-6 border-t border-gray-200 pt-6\">\n                  <h4 class=\"font-semibold text-gray-900 mb-4\">Plan Summary</h4>\n                  <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    <div class=\"bg-gray-50 rounded-lg p-4\">\n                      <p class=\"text-xs text-gray-500\">Fiscal Year</p>\n                      <p class=\"text-lg font-semibold text-gray-900\">{{ form.fiscal_year }}</p>\n                    </div>\n                    <div class=\"bg-gray-50 rounded-lg p-4\">\n                      <p class=\"text-xs text-gray-500\">Planned Audits</p>\n                      <p class=\"text-lg font-semibold text-gray-900\">{{ form.planned_audits?.length || 0 }}</p>\n                    </div>\n                    <div class=\"bg-gray-50 rounded-lg p-4\">\n                      <p class=\"text-xs text-gray-500\">Team Members</p>\n                      <p class=\"text-lg font-semibold text-gray-900\">{{ form.resource_allocation?.length || 0 }}</p>\n                    </div>\n                    <div class=\"bg-gray-50 rounded-lg p-4\">\n                      <p class=\"text-xs text-gray-500\">Total Budget</p>\n                      <p class=\"text-lg font-semibold text-gray-900\">${{ formatNumber(form.total_budget) }}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <template #actions>\n      <div class=\"flex items-center justify-between w-full\">\n        <!-- Left: Status and Navigation -->\n        <div class=\"flex items-center space-x-4\">\n          <div class=\"flex items-center space-x-2\">\n            <div\n              class=\"w-3 h-3 rounded-full\"\n              :class=\"isFormValid ? 'bg-green-500' : 'bg-amber-500'\"\n            ></div>\n            <span class=\"text-sm font-medium\" :class=\"isFormValid ? 'text-green-700' : 'text-amber-700'\">\n              {{ isFormValid ? 'Ready to save' : 'Complete required fields' }}\n            </span>\n          </div>\n\n          <!-- Section Navigation -->\n          <div class=\"flex items-center space-x-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              :disabled=\"currentSectionIndex === 0\"\n              @click=\"goToPreviousSection\"\n            >\n              <ChevronLeftIcon class=\"h-4 w-4 mr-1\" />\n              Previous\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              :disabled=\"currentSectionIndex === formSections.length - 1\"\n              @click=\"goToNextSection\"\n            >\n              Next\n              <ChevronRightIcon class=\"h-4 w-4 ml-1\" />\n            </Button>\n          </div>\n        </div>\n\n        <!-- Right: Action Buttons -->\n        <div class=\"flex items-center space-x-3\">\n          <Button variant=\"outline\" @click=\"handleCancel\" :disabled=\"isSaving\">\n            Cancel\n          </Button>\n          <Button\n            v-if=\"!isEditMode\"\n            variant=\"outline\"\n            theme=\"gray\"\n            @click=\"saveAsDraft\"\n            :loading=\"isSavingDraft\"\n            :disabled=\"isSaving\"\n          >\n            Save as Draft\n          </Button>\n          <Button\n            variant=\"solid\"\n            theme=\"blue\"\n            @click=\"handleSubmit\"\n            :loading=\"isSaving\"\n          >\n            <template #prefix>\n              <PlusIcon v-if=\"!isEditMode\" class=\"h-4 w-4\" />\n              <CheckIcon v-else class=\"h-4 w-4\" />\n            </template>\n            {{ isEditMode ? 'Update Plan' : 'Create Plan' }}\n          </Button>\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { Button, Dialog } from \"frappe-ui\"\nimport {\n\tCheckIcon,\n\tChevronLeftIcon,\n\tChevronRightIcon,\n\tPlusIcon,\n\tXIcon,\n} from \"lucide-vue-next\"\nimport { computed, onMounted, reactive, ref, watch } from \"vue\"\n\n// Import custom components\nimport InlineChildTable from \"@/components/Common/InlineChildTable.vue\"\nimport LinkField from \"@/components/Common/fields/LinkField.vue\"\nimport SectionHeader from \"@/components/engagement/EngagementSectionHeader.vue\"\n\n// Props\nconst props = defineProps({\n\tmodelValue: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tplan: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n})\n\n// Emits\nconst emit = defineEmits([\n\t\"update:modelValue\",\n\t\"created\",\n\t\"updated\",\n\t\"cancelled\",\n])\n\n// Dialog visibility\nconst isOpen = computed({\n\tget: () => props.modelValue,\n\tset: (val) => emit(\"update:modelValue\", val),\n})\n\n// Edit mode detection\nconst isEditMode = computed(() => !!props.plan?.name)\n\n// Form Sections\nconst formSections = [\n\t{ id: \"basic\", label: \"Basic Information\", description: \"Core details\" },\n\t{\n\t\tid: \"overview\",\n\t\tlabel: \"Plan Overview\",\n\t\tdescription: \"Summary & objectives\",\n\t},\n\t{ id: \"resources\", label: \"Resources\", description: \"Team allocation\" },\n\t{ id: \"audits\", label: \"Planned Audits\", description: \"Audit schedule\" },\n\t{ id: \"budget\", label: \"Budget\", description: \"Financial planning\" },\n\t{ id: \"risk\", label: \"Risk\", description: \"Risk considerations\" },\n\t{ id: \"contingency\", label: \"Contingency\", description: \"Backup plans\" },\n\t{ id: \"additional\", label: \"Additional\", description: \"Notes & extras\" },\n\t{ id: \"review\", label: \"Review & Submit\", description: \"Final review\" },\n]\n\nconst activeSection = ref(\"basic\")\n\n// Form State\nconst form = reactive({\n\t// Basic Information\n\tplan_title: \"\",\n\tfiscal_year: new Date().getFullYear().toString(),\n\tstatus: \"Draft\",\n\tplan_period: \"Annual\",\n\tplan_start_date: \"\",\n\tplan_end_date: \"\",\n\tplan_owner: \"\",\n\n\t// Overview\n\texecutive_summary: \"\",\n\tobjectives: \"\",\n\tscope: \"\",\n\tmethodology: \"\",\n\n\t// Resources\n\tresource_allocation: [],\n\ttotal_available_days: 0,\n\ttotal_planned_days: 0,\n\n\t// Planned Audits\n\tplanned_audits: [],\n\n\t// Budget\n\ttotal_budget: 0,\n\tallocated_budget: 0,\n\tactual_spend: 0,\n\tbudget_notes: \"\",\n\n\t// Risk\n\tkey_risks: \"\",\n\trisk_mitigation: \"\",\n\n\t// Contingency\n\tcontingency_plan: \"\",\n\tcontingency_budget: 0,\n\n\t// Additional\n\tadditional_notes: \"\",\n})\n\nconst errors = reactive({})\nconst isSaving = ref(false)\nconst isSavingDraft = ref(false)\n\n// Options\nconst fiscalYearOptions = computed(() => {\n\tconst currentYear = new Date().getFullYear()\n\treturn [currentYear - 1, currentYear, currentYear + 1, currentYear + 2].map(\n\t\tString,\n\t)\n})\n\nconst statusOptions = [\n\t{ label: \"Draft\", value: \"Draft\" },\n\t{ label: \"Pending Approval\", value: \"Pending Approval\" },\n\t{ label: \"Approved\", value: \"Approved\" },\n\t{ label: \"Active\", value: \"Active\" },\n\t{ label: \"Completed\", value: \"Completed\" },\n\t{ label: \"Archived\", value: \"Archived\" },\n]\n\nconst periodOptions = [\n\t{ label: \"Annual\", value: \"Annual\" },\n\t{ label: \"Semi-Annual\", value: \"Semi-Annual\" },\n\t{ label: \"Quarterly\", value: \"Quarterly\" },\n]\n\n// Inline Columns for Resource Allocation\nconst resourceColumns = [\n\t{\n\t\tkey: \"team_member\",\n\t\tlabel: \"Team Member\",\n\t\twidth: \"200px\",\n\t\tfieldType: \"text\",\n\t\trequired: true,\n\t\tplaceholder: \"Enter name\",\n\t},\n\t{\n\t\tkey: \"role\",\n\t\tlabel: \"Role\",\n\t\twidth: \"150px\",\n\t\tfieldType: \"select\",\n\t\toptions: [\n\t\t\t{ label: \"Chief Audit Executive\", value: \"Chief Audit Executive\" },\n\t\t\t{ label: \"Audit Manager\", value: \"Audit Manager\" },\n\t\t\t{ label: \"Senior Auditor\", value: \"Senior Auditor\" },\n\t\t\t{ label: \"Staff Auditor\", value: \"Staff Auditor\" },\n\t\t\t{ label: \"IT Auditor\", value: \"IT Auditor\" },\n\t\t\t{ label: \"External Consultant\", value: \"External Consultant\" },\n\t\t],\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"allocated_hours\",\n\t\tlabel: \"Hours\",\n\t\twidth: \"100px\",\n\t\tfieldType: \"number\",\n\t\tplaceholder: \"0\",\n\t},\n\t{\n\t\tkey: \"availability\",\n\t\tlabel: \"Availability\",\n\t\twidth: \"120px\",\n\t\tfieldType: \"select\",\n\t\toptions: [\n\t\t\t{ label: \"Full-time\", value: \"Full-time\" },\n\t\t\t{ label: \"Part-time\", value: \"Part-time\" },\n\t\t\t{ label: \"Contract\", value: \"Contract\" },\n\t\t],\n\t\tdefaultValue: \"Full-time\",\n\t},\n]\n\nconst validateResource = (data) => {\n\tconst errs = {}\n\tif (!data.team_member) errs.team_member = \"Team member is required\"\n\tif (!data.role) errs.role = \"Role is required\"\n\treturn Object.keys(errs).length ? errs : null\n}\n\n// Inline Columns for Planned Audits\nconst auditColumns = [\n\t{\n\t\tkey: \"audit_name\",\n\t\tlabel: \"Audit Name\",\n\t\twidth: \"200px\",\n\t\tfieldType: \"text\",\n\t\trequired: true,\n\t\tplaceholder: \"Enter audit name\",\n\t},\n\t{\n\t\tkey: \"audit_type\",\n\t\tlabel: \"Type\",\n\t\twidth: \"130px\",\n\t\tfieldType: \"select\",\n\t\toptions: [\n\t\t\t{ label: \"Financial\", value: \"Financial\" },\n\t\t\t{ label: \"Operational\", value: \"Operational\" },\n\t\t\t{ label: \"Compliance\", value: \"Compliance\" },\n\t\t\t{ label: \"IT\", value: \"IT\" },\n\t\t\t{ label: \"Performance\", value: \"Performance\" },\n\t\t\t{ label: \"Integrated\", value: \"Integrated\" },\n\t\t],\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"quarter\",\n\t\tlabel: \"Quarter\",\n\t\twidth: \"90px\",\n\t\tfieldType: \"select\",\n\t\toptions: [\n\t\t\t{ label: \"Q1\", value: \"Q1\" },\n\t\t\t{ label: \"Q2\", value: \"Q2\" },\n\t\t\t{ label: \"Q3\", value: \"Q3\" },\n\t\t\t{ label: \"Q4\", value: \"Q4\" },\n\t\t],\n\t\trequired: true,\n\t},\n\t{\n\t\tkey: \"planned_start_date\",\n\t\tlabel: \"Start Date\",\n\t\twidth: \"130px\",\n\t\tfieldType: \"date\",\n\t},\n\t{\n\t\tkey: \"planned_end_date\",\n\t\tlabel: \"End Date\",\n\t\twidth: \"130px\",\n\t\tfieldType: \"date\",\n\t},\n\t{\n\t\tkey: \"priority\",\n\t\tlabel: \"Priority\",\n\t\twidth: \"110px\",\n\t\tfieldType: \"select\",\n\t\toptions: [\n\t\t\t{ label: \"Low\", value: \"Low\" },\n\t\t\t{ label: \"Medium\", value: \"Medium\" },\n\t\t\t{ label: \"High\", value: \"High\" },\n\t\t\t{ label: \"Critical\", value: \"Critical\" },\n\t\t],\n\t\tdefaultValue: \"Medium\",\n\t\tcomponent: \"Badge\",\n\t\tbadgeTheme: {\n\t\t\tLow: \"gray\",\n\t\t\tMedium: \"blue\",\n\t\t\tHigh: \"orange\",\n\t\t\tCritical: \"red\",\n\t\t},\n\t},\n\t{\n\t\tkey: \"status\",\n\t\tlabel: \"Status\",\n\t\twidth: \"110px\",\n\t\tfieldType: \"select\",\n\t\toptions: [\n\t\t\t{ label: \"Planned\", value: \"Planned\" },\n\t\t\t{ label: \"In Progress\", value: \"In Progress\" },\n\t\t\t{ label: \"Completed\", value: \"Completed\" },\n\t\t\t{ label: \"Deferred\", value: \"Deferred\" },\n\t\t],\n\t\tdefaultValue: \"Planned\",\n\t\tcomponent: \"Badge\",\n\t\tbadgeTheme: {\n\t\t\tPlanned: \"gray\",\n\t\t\t\"In Progress\": \"blue\",\n\t\t\tCompleted: \"green\",\n\t\t\tDeferred: \"orange\",\n\t\t},\n\t},\n]\n\nconst validateAudit = (data) => {\n\tconst errs = {}\n\tif (!data.audit_name) errs.audit_name = \"Audit name is required\"\n\tif (!data.audit_type) errs.audit_type = \"Audit type is required\"\n\tif (!data.quarter) errs.quarter = \"Quarter is required\"\n\tif (data.planned_start_date && data.planned_end_date) {\n\t\tif (new Date(data.planned_end_date) < new Date(data.planned_start_date)) {\n\t\t\terrs.planned_end_date = \"End date must be after start date\"\n\t\t}\n\t}\n\treturn Object.keys(errs).length ? errs : null\n}\n\n// Computed Properties\nconst currentSectionIndex = computed(() =>\n\tformSections.findIndex((s) => s.id === activeSection.value),\n)\n\nconst utilizationPercentage = computed(() => {\n\tif (!form.total_available_days) return 0\n\treturn Math.round((form.total_planned_days / form.total_available_days) * 100)\n})\n\nconst budgetUtilization = computed(() => {\n\tif (!form.total_budget) return 0\n\treturn Math.round((form.actual_spend / form.total_budget) * 100)\n})\n\nconst budgetUtilizationClass = computed(() => {\n\tif (budgetUtilization.value > 90) return \"text-red-600\"\n\tif (budgetUtilization.value > 75) return \"text-amber-600\"\n\treturn \"text-green-600\"\n})\n\nconst budgetUtilizationBarClass = computed(() => {\n\tif (budgetUtilization.value > 90) return \"bg-red-500\"\n\tif (budgetUtilization.value > 75) return \"bg-amber-500\"\n\treturn \"bg-green-500\"\n})\n\nconst getSectionStatus = (sectionId) => {\n\tswitch (sectionId) {\n\t\tcase \"basic\":\n\t\t\treturn form.plan_title &&\n\t\t\t\tform.fiscal_year &&\n\t\t\t\tform.plan_start_date &&\n\t\t\t\tform.plan_end_date\n\t\t\t\t? \"complete\"\n\t\t\t\t: form.plan_title || form.fiscal_year\n\t\t\t\t\t? \"partial\"\n\t\t\t\t\t: \"incomplete\"\n\t\tcase \"overview\":\n\t\t\treturn form.executive_summary && form.objectives\n\t\t\t\t? \"complete\"\n\t\t\t\t: form.executive_summary || form.objectives\n\t\t\t\t\t? \"partial\"\n\t\t\t\t\t: \"incomplete\"\n\t\tcase \"resources\":\n\t\t\treturn form.resource_allocation.length > 0 ? \"complete\" : \"incomplete\"\n\t\tcase \"audits\":\n\t\t\treturn form.planned_audits.length > 0 ? \"complete\" : \"incomplete\"\n\t\tcase \"budget\":\n\t\t\treturn form.total_budget > 0 ? \"complete\" : \"incomplete\"\n\t\tcase \"risk\":\n\t\t\treturn form.key_risks ? \"complete\" : \"incomplete\"\n\t\tcase \"contingency\":\n\t\t\treturn form.contingency_plan ? \"complete\" : \"incomplete\"\n\t\tcase \"additional\":\n\t\t\treturn \"complete\" // Optional section\n\t\tcase \"review\":\n\t\t\treturn \"complete\" // Review section\n\t\tdefault:\n\t\t\treturn \"incomplete\"\n\t}\n}\n\nconst getSectionStatusClass = (sectionId) => {\n\tconst status = getSectionStatus(sectionId)\n\tif (status === \"complete\") return \"bg-green-500 text-white\"\n\tif (status === \"partial\") return \"bg-amber-500 text-white\"\n\treturn \"bg-gray-300 text-gray-600\"\n}\n\nconst completedSections = computed(\n\t() =>\n\t\tformSections.filter((s) => getSectionStatus(s.id) === \"complete\").length,\n)\n\nconst formProgress = computed(() =>\n\tMath.round((completedSections.value / formSections.length) * 100),\n)\n\nconst validationChecks = computed(() => [\n\t{ label: \"Plan title provided\", valid: !!form.plan_title },\n\t{ label: \"Fiscal year selected\", valid: !!form.fiscal_year },\n\t{\n\t\tlabel: \"Plan dates specified\",\n\t\tvalid: !!form.plan_start_date && !!form.plan_end_date,\n\t},\n\t{ label: \"Executive summary provided\", valid: !!form.executive_summary },\n\t{ label: \"Objectives defined\", valid: !!form.objectives },\n\t{\n\t\tlabel: \"At least one audit planned\",\n\t\tvalid: form.planned_audits.length > 0,\n\t},\n])\n\nconst isFormValid = computed(() => {\n\treturn !!(\n\t\tform.plan_title &&\n\t\tform.fiscal_year &&\n\t\tform.plan_start_date &&\n\t\tform.plan_end_date &&\n\t\tform.executive_summary &&\n\t\tform.objectives &&\n\t\tform.planned_audits.length > 0\n\t)\n})\n\n// Methods\nconst formatNumber = (num) => {\n\tif (!num) return \"0\"\n\treturn num.toLocaleString()\n}\n\nconst goToPreviousSection = () => {\n\tconst idx = currentSectionIndex.value\n\tif (idx > 0) {\n\t\tactiveSection.value = formSections[idx - 1].id\n\t}\n}\n\nconst goToNextSection = () => {\n\tconst idx = currentSectionIndex.value\n\tif (idx < formSections.length - 1) {\n\t\tactiveSection.value = formSections[idx + 1].id\n\t}\n}\n\nconst validateForm = () => {\n\tconst errs = {}\n\n\tif (!form.plan_title) errs.plan_title = \"Plan title is required\"\n\tif (!form.fiscal_year) errs.fiscal_year = \"Fiscal year is required\"\n\tif (!form.plan_start_date) errs.plan_start_date = \"Start date is required\"\n\tif (!form.plan_end_date) errs.plan_end_date = \"End date is required\"\n\tif (!form.executive_summary)\n\t\terrs.executive_summary = \"Executive summary is required\"\n\tif (!form.objectives) errs.objectives = \"Objectives are required\"\n\n\tif (form.plan_start_date && form.plan_end_date) {\n\t\tif (new Date(form.plan_end_date) < new Date(form.plan_start_date)) {\n\t\t\terrs.plan_end_date = \"End date must be after start date\"\n\t\t}\n\t}\n\n\tif (form.planned_audits.length === 0) {\n\t\terrs.planned_audits = \"At least one audit is required\"\n\t}\n\n\tObject.assign(errors, errs)\n\treturn Object.keys(errs).length === 0\n}\n\nconst prepareFormData = () => {\n\treturn {\n\t\t...form,\n\t\tresource_allocation: form.resource_allocation.map((r) => ({\n\t\t\t...r,\n\t\t\tdoctype: \"Annual Audit Plan Resource\",\n\t\t})),\n\t\tplanned_audits: form.planned_audits.map((a) => ({\n\t\t\t...a,\n\t\t\tdoctype: \"Annual Audit Plan Item\",\n\t\t})),\n\t}\n}\n\nconst handleSubmit = async () => {\n\tif (!validateForm()) {\n\t\tconst firstErrorSection = formSections.find((s) => {\n\t\t\tconst status = getSectionStatus(s.id)\n\t\t\treturn status !== \"complete\"\n\t\t})\n\t\tif (firstErrorSection) {\n\t\t\tactiveSection.value = firstErrorSection.id\n\t\t}\n\t\treturn\n\t}\n\n\ttry {\n\t\tisSaving.value = true\n\t\tconst formData = prepareFormData()\n\n\t\tif (isEditMode.value) {\n\t\t\temit(\"updated\", { ...formData, name: props.plan.name })\n\t\t} else {\n\t\t\temit(\"created\", formData)\n\t\t}\n\n\t\tisOpen.value = false\n\t} catch (error) {\n\t\tconsole.error(\"Error saving plan:\", error)\n\t} finally {\n\t\tisSaving.value = false\n\t}\n}\n\nconst saveAsDraft = async () => {\n\ttry {\n\t\tisSavingDraft.value = true\n\t\tconst formData = prepareFormData()\n\t\temit(\"created\", { ...formData, status: \"Draft\" })\n\t\tisOpen.value = false\n\t} catch (error) {\n\t\tconsole.error(\"Error saving draft:\", error)\n\t} finally {\n\t\tisSavingDraft.value = false\n\t}\n}\n\nconst handleCancel = () => {\n\temit(\"cancelled\")\n\tisOpen.value = false\n}\n\nconst resetForm = () => {\n\tObject.keys(form).forEach((key) => {\n\t\tif (Array.isArray(form[key])) {\n\t\t\tform[key] = []\n\t\t} else if (typeof form[key] === \"number\") {\n\t\t\tform[key] = 0\n\t\t} else {\n\t\t\tform[key] = \"\"\n\t\t}\n\t})\n\tform.status = \"Draft\"\n\tform.plan_period = \"Annual\"\n\tform.fiscal_year = new Date().getFullYear().toString()\n\tObject.keys(errors).forEach((key) => delete errors[key])\n\tactiveSection.value = \"basic\"\n}\n\nconst loadPlanData = (plan) => {\n\tif (!plan) return\n\n\tObject.keys(form).forEach((key) => {\n\t\tif (plan[key] !== undefined) {\n\t\t\tform[key] = plan[key]\n\t\t}\n\t})\n}\n\n// Watchers\nwatch(\n\t() => props.modelValue,\n\t(newVal) => {\n\t\tif (newVal) {\n\t\t\tif (props.plan) {\n\t\t\t\tloadPlanData(props.plan)\n\t\t\t} else {\n\t\t\t\tresetForm()\n\t\t\t}\n\t\t}\n\t},\n)\n\nwatch(\n\t() => props.plan,\n\t(newVal) => {\n\t\tif (newVal && props.modelValue) {\n\t\t\tloadPlanData(newVal)\n\t\t}\n\t},\n\t{ deep: true },\n)\n</script>\n","<template>\n  <div class=\"flex flex-wrap items-center gap-3 mb-6\">\n    <!-- Search Input -->\n    <div class=\"flex-1 min-w-[250px] max-w-md\">\n      <div class=\"relative\">\n        <SearchIcon class=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n        <input\n          type=\"text\"\n          :value=\"searchQuery\"\n          @input=\"$emit('update:searchQuery', $event.target.value)\"\n          placeholder=\"Search plans...\"\n          class=\"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all\"\n        />\n        <button\n          v-if=\"searchQuery\"\n          @click=\"$emit('update:searchQuery', '')\"\n          class=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n        >\n          <XIcon class=\"h-4 w-4\" />\n        </button>\n      </div>\n    </div>\n\n    <!-- Status Filter -->\n    <div class=\"w-40\">\n      <FormControl\n        type=\"select\"\n        :modelValue=\"statusFilter\"\n        @update:modelValue=\"$emit('update:statusFilter', $event)\"\n        :options=\"statusOptions\"\n        size=\"sm\"\n        placeholder=\"All Status\"\n      />\n    </div>\n\n    <!-- Year Filter -->\n    <div class=\"w-32\">\n      <FormControl\n        type=\"select\"\n        :modelValue=\"yearFilter\"\n        @update:modelValue=\"$emit('update:yearFilter', $event)\"\n        :options=\"yearOptions\"\n        size=\"sm\"\n        placeholder=\"All Years\"\n      />\n    </div>\n\n    <!-- Period Filter -->\n    <div class=\"w-40\">\n      <FormControl\n        type=\"select\"\n        :modelValue=\"periodFilter\"\n        @update:modelValue=\"$emit('update:periodFilter', $event)\"\n        :options=\"periodOptions\"\n        size=\"sm\"\n        placeholder=\"All Periods\"\n      />\n    </div>\n\n    <!-- View Toggle -->\n    <div class=\"flex items-center gap-1 bg-gray-100 rounded-lg p-1\">\n      <button\n        @click=\"$emit('update:viewMode', 'table')\"\n        :class=\"[\n          'p-2 rounded-md transition-all duration-200',\n          viewMode === 'table' \n            ? 'bg-white text-blue-600 shadow-sm' \n            : 'text-gray-500 hover:text-gray-700'\n        ]\"\n        title=\"Table View\"\n      >\n        <ListIcon class=\"h-4 w-4\" />\n      </button>\n      <button\n        @click=\"$emit('update:viewMode', 'cards')\"\n        :class=\"[\n          'p-2 rounded-md transition-all duration-200',\n          viewMode === 'cards' \n            ? 'bg-white text-blue-600 shadow-sm' \n            : 'text-gray-500 hover:text-gray-700'\n        ]\"\n        title=\"Card View\"\n      >\n        <LayoutGridIcon class=\"h-4 w-4\" />\n      </button>\n      <button\n        @click=\"$emit('update:viewMode', 'timeline')\"\n        :class=\"[\n          'p-2 rounded-md transition-all duration-200',\n          viewMode === 'timeline' \n            ? 'bg-white text-blue-600 shadow-sm' \n            : 'text-gray-500 hover:text-gray-700'\n        ]\"\n        title=\"Timeline View\"\n      >\n        <CalendarDaysIcon class=\"h-4 w-4\" />\n      </button>\n    </div>\n\n    <!-- Clear Filters -->\n    <button\n      v-if=\"hasActiveFilters\"\n      @click=\"clearFilters\"\n      class=\"flex items-center gap-1.5 px-3 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all\"\n    >\n      <FilterXIcon class=\"h-4 w-4\" />\n      <span>Clear</span>\n    </button>\n  </div>\n\n  <!-- Active Filters Tags -->\n  <div v-if=\"hasActiveFilters\" class=\"flex flex-wrap gap-2 mb-4\">\n    <span \n      v-if=\"searchQuery\"\n      class=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium\"\n    >\n      <SearchIcon class=\"h-3 w-3\" />\n      \"{{ searchQuery }}\"\n      <button @click=\"$emit('update:searchQuery', '')\" class=\"hover:text-blue-600\">\n        <XIcon class=\"h-3 w-3\" />\n      </button>\n    </span>\n    <span \n      v-if=\"statusFilter\"\n      class=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\"\n    >\n      Status: {{ statusFilter }}\n      <button @click=\"$emit('update:statusFilter', '')\" class=\"hover:text-green-600\">\n        <XIcon class=\"h-3 w-3\" />\n      </button>\n    </span>\n    <span \n      v-if=\"yearFilter\"\n      class=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-amber-100 text-amber-800 rounded-full text-xs font-medium\"\n    >\n      Year: {{ yearFilter }}\n      <button @click=\"$emit('update:yearFilter', '')\" class=\"hover:text-amber-600\">\n        <XIcon class=\"h-3 w-3\" />\n      </button>\n    </span>\n    <span \n      v-if=\"periodFilter\"\n      class=\"inline-flex items-center gap-1.5 px-2.5 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium\"\n    >\n      Period: {{ periodFilter }}\n      <button @click=\"$emit('update:periodFilter', '')\" class=\"hover:text-purple-600\">\n        <XIcon class=\"h-3 w-3\" />\n      </button>\n    </span>\n  </div>\n</template>\n\n<script setup>\nimport { FormControl } from \"frappe-ui\"\nimport {\n\tCalendarDaysIcon,\n\tFilterXIcon,\n\tLayoutGridIcon,\n\tListIcon,\n\tSearchIcon,\n\tXIcon,\n} from \"lucide-vue-next\"\nimport { computed } from \"vue\"\n\n// Props\nconst props = defineProps({\n\tsearchQuery: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tstatusFilter: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tyearFilter: {\n\t\ttype: [String, Number],\n\t\tdefault: \"\",\n\t},\n\tperiodFilter: {\n\t\ttype: String,\n\t\tdefault: \"\",\n\t},\n\tviewMode: {\n\t\ttype: String,\n\t\tdefault: \"table\",\n\t},\n})\n\n// Emit\nconst emit = defineEmits([\n\t\"update:searchQuery\",\n\t\"update:statusFilter\",\n\t\"update:yearFilter\",\n\t\"update:periodFilter\",\n\t\"update:viewMode\",\n])\n\n// Options\nconst statusOptions = [\n\t{ label: \"All Status\", value: \"\" },\n\t{ label: \"Draft\", value: \"Draft\" },\n\t{ label: \"Pending Approval\", value: \"Pending Approval\" },\n\t{ label: \"Approved\", value: \"Approved\" },\n\t{ label: \"Active\", value: \"Active\" },\n\t{ label: \"Completed\", value: \"Completed\" },\n\t{ label: \"Cancelled\", value: \"Cancelled\" },\n]\n\nconst periodOptions = [\n\t{ label: \"All Periods\", value: \"\" },\n\t{ label: \"Annual\", value: \"Annual\" },\n\t{ label: \"Q1\", value: \"Q1\" },\n\t{ label: \"Q2\", value: \"Q2\" },\n\t{ label: \"Q3\", value: \"Q3\" },\n\t{ label: \"Q4\", value: \"Q4\" },\n\t{ label: \"H1\", value: \"H1\" },\n\t{ label: \"H2\", value: \"H2\" },\n]\n\n// Generate year options (current year +/- 3 years)\nconst currentYear = new Date().getFullYear()\nconst yearOptions = computed(() => {\n\tconst years = [{ label: \"All Years\", value: \"\" }]\n\tfor (let i = currentYear + 2; i >= currentYear - 3; i--) {\n\t\tyears.push({ label: String(i), value: i })\n\t}\n\treturn years\n})\n\n// Computed\nconst hasActiveFilters = computed(() => {\n\treturn (\n\t\tprops.searchQuery ||\n\t\tprops.statusFilter ||\n\t\tprops.yearFilter ||\n\t\tprops.periodFilter\n\t)\n})\n\n// Methods\nconst clearFilters = () => {\n\temit(\"update:searchQuery\", \"\")\n\temit(\"update:statusFilter\", \"\")\n\temit(\"update:yearFilter\", \"\")\n\temit(\"update:periodFilter\", \"\")\n}\n</script>\n","<template>\n  <div class=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4 mb-6\">\n    <!-- Active Plans Card -->\n    <div class=\"bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200 p-5 hover:shadow-lg transition-all duration-200\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-green-700 uppercase tracking-wide\">Active Plans</p>\n          <p class=\"text-3xl font-bold text-green-900 mt-1\">{{ stats.active || 0 }}</p>\n          <p class=\"text-xs text-green-600 mt-1\">{{ activePercentage }}% of total</p>\n        </div>\n        <div class=\"p-3 bg-green-500 rounded-xl shadow-sm\">\n          <CheckCircle2Icon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Planned Audits Card -->\n    <div class=\"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200 p-5 hover:shadow-lg transition-all duration-200\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-blue-700 uppercase tracking-wide\">Planned Audits</p>\n          <p class=\"text-3xl font-bold text-blue-900 mt-1\">{{ stats.plannedAudits || 0 }}</p>\n          <p class=\"text-xs text-blue-600 mt-1\">Across all plans</p>\n        </div>\n        <div class=\"p-3 bg-blue-500 rounded-xl shadow-sm\">\n          <ClipboardListIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Resource Utilization Card -->\n    <div class=\"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl border border-amber-200 p-5 hover:shadow-lg transition-all duration-200\">\n      <div class=\"flex items-center justify-between\">\n        <div class=\"w-full\">\n          <p class=\"text-sm font-semibold text-amber-700 uppercase tracking-wide\">Avg Utilization</p>\n          <p class=\"text-3xl font-bold text-amber-900 mt-1\">{{ stats.avgUtilization || 0 }}%</p>\n          <div class=\"w-full bg-amber-200 rounded-full h-2 mt-2\">\n            <div\n              class=\"bg-amber-600 h-2 rounded-full transition-all duration-300\"\n              :style=\"{ width: `${Math.min(stats.avgUtilization || 0, 100)}%` }\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"p-3 bg-amber-500 rounded-xl shadow-sm ml-3\">\n          <UsersIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Upcoming Audits Card -->\n    <div class=\"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200 p-5 hover:shadow-lg transition-all duration-200\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-purple-700 uppercase tracking-wide\">Upcoming</p>\n          <p class=\"text-3xl font-bold text-purple-900 mt-1\">{{ stats.upcoming || 0 }}</p>\n          <p class=\"text-xs text-purple-600 mt-1\">Next 30 days</p>\n        </div>\n        <div class=\"p-3 bg-purple-500 rounded-xl shadow-sm\">\n          <CalendarIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- Total Days Card -->\n    <div class=\"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200 p-5 hover:shadow-lg transition-all duration-200\">\n      <div class=\"flex items-center justify-between\">\n        <div>\n          <p class=\"text-sm font-semibold text-gray-700 uppercase tracking-wide\">Total Days</p>\n          <p class=\"text-3xl font-bold text-gray-900 mt-1\">{{ stats.totalDays || 0 }}</p>\n          <p class=\"text-xs text-gray-600 mt-1\">Planned across all</p>\n        </div>\n        <div class=\"p-3 bg-gray-500 rounded-xl shadow-sm\">\n          <ClockIcon class=\"h-7 w-7 text-white\" />\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Status Distribution & Budget Summary -->\n  <div v-if=\"showDetails\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n    <!-- Status Distribution -->\n    <div class=\"bg-white rounded-xl border border-gray-200 p-5\">\n      <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">Plans by Status</h3>\n      <div class=\"space-y-3\">\n        <div v-for=\"status in statusDistribution\" :key=\"status.label\" class=\"flex items-center\">\n          <div class=\"w-24 text-sm text-gray-600\">{{ status.label }}</div>\n          <div class=\"flex-1 mx-3\">\n            <div class=\"w-full bg-gray-100 rounded-full h-3\">\n              <div\n                class=\"h-3 rounded-full transition-all duration-300\"\n                :class=\"status.color\"\n                :style=\"{ width: `${status.percentage}%` }\"\n              ></div>\n            </div>\n          </div>\n          <div class=\"w-12 text-sm font-medium text-gray-900 text-right\">{{ status.count }}</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Quarterly Overview -->\n    <div class=\"bg-white rounded-xl border border-gray-200 p-5\">\n      <h3 class=\"text-sm font-semibold text-gray-900 mb-4\">Quarterly Audit Distribution</h3>\n      <div class=\"grid grid-cols-4 gap-3\">\n        <div v-for=\"quarter in quarterlyData\" :key=\"quarter.label\" class=\"text-center p-3 bg-gray-50 rounded-lg\">\n          <p class=\"text-lg font-bold\" :class=\"quarter.color\">{{ quarter.count }}</p>\n          <p class=\"text-xs text-gray-500\">{{ quarter.label }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {\n\tCalendarIcon,\n\tCheckCircle2Icon,\n\tClipboardListIcon,\n\tClockIcon,\n\tUsersIcon,\n} from \"lucide-vue-next\"\nimport { computed } from \"vue\"\n\n// Props\nconst props = defineProps({\n\tstats: {\n\t\ttype: Object,\n\t\tdefault: () => ({\n\t\t\ttotal: 0,\n\t\t\tactive: 0,\n\t\t\tdraft: 0,\n\t\t\tapproved: 0,\n\t\t\tcompleted: 0,\n\t\t\tplannedAudits: 0,\n\t\t\tavgUtilization: 0,\n\t\t\tupcoming: 0,\n\t\t\ttotalDays: 0,\n\t\t\tbyQuarter: { q1: 0, q2: 0, q3: 0, q4: 0 },\n\t\t}),\n\t},\n\tshowDetails: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n})\n\n// Computed\nconst activePercentage = computed(() => {\n\tif (!props.stats.total) return 0\n\treturn Math.round((props.stats.active / props.stats.total) * 100)\n})\n\nconst statusDistribution = computed(() => {\n\tconst total = props.stats.total || 1\n\treturn [\n\t\t{\n\t\t\tlabel: \"Draft\",\n\t\t\tcount: props.stats.draft || 0,\n\t\t\tpercentage: ((props.stats.draft || 0) / total) * 100,\n\t\t\tcolor: \"bg-gray-400\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Approved\",\n\t\t\tcount: props.stats.approved || 0,\n\t\t\tpercentage: ((props.stats.approved || 0) / total) * 100,\n\t\t\tcolor: \"bg-blue-500\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Active\",\n\t\t\tcount: props.stats.active || 0,\n\t\t\tpercentage: ((props.stats.active || 0) / total) * 100,\n\t\t\tcolor: \"bg-green-500\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Completed\",\n\t\t\tcount: props.stats.completed || 0,\n\t\t\tpercentage: ((props.stats.completed || 0) / total) * 100,\n\t\t\tcolor: \"bg-purple-500\",\n\t\t},\n\t]\n})\n\nconst quarterlyData = computed(() => {\n\tconst q = props.stats.byQuarter || { q1: 0, q2: 0, q3: 0, q4: 0 }\n\treturn [\n\t\t{ label: \"Q1\", count: q.q1, color: \"text-blue-600\" },\n\t\t{ label: \"Q2\", count: q.q2, color: \"text-green-600\" },\n\t\t{ label: \"Q3\", count: q.q3, color: \"text-amber-600\" },\n\t\t{ label: \"Q4\", count: q.q4, color: \"text-purple-600\" },\n\t]\n})\n</script>\n","<template>\n  <div class=\"space-y-6\">\n    <!-- Page Header -->\n    <div class=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\n      <div>\n        <div class=\"flex items-center space-x-3\">\n          <div class=\"p-2 bg-blue-100 rounded-lg\">\n            <CalendarIcon class=\"h-6 w-6 text-blue-600\" />\n          </div>\n          <div>\n            <h1 class=\"text-2xl font-bold text-gray-900\">Annual Audit Plan</h1>\n            <p class=\"text-gray-600 mt-1\">\n              Create and manage comprehensive annual audit planning\n            </p>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"flex flex-wrap items-center gap-2\">\n        <Button variant=\"outline\" size=\"sm\" @click=\"exportPlans\" :loading=\"exporting\">\n          <template #prefix><DownloadIcon class=\"h-4 w-4\" /></template>\n          Export\n        </Button>\n        <Button variant=\"outline\" size=\"sm\" @click=\"showTemplateModal = true\">\n          <template #prefix><FileTextIcon class=\"h-4 w-4\" /></template>\n          Templates\n        </Button>\n        <Button variant=\"outline\" size=\"sm\" @click=\"showCapacityModal = true\">\n          <template #prefix><BarChart3Icon class=\"h-4 w-4\" /></template>\n          Capacity\n        </Button>\n        <Button variant=\"outline\" size=\"sm\" @click=\"refreshData\" :loading=\"loading\">\n          <template #prefix><RefreshCwIcon class=\"h-4 w-4\" /></template>\n          Refresh\n        </Button>\n        <Button variant=\"solid\" theme=\"blue\" size=\"sm\" @click=\"openCreateForm\">\n          <template #prefix><PlusIcon class=\"h-4 w-4\" /></template>\n          New Plan\n        </Button>\n      </div>\n    </div>\n\n    <!-- Stats Dashboard -->\n    <PlanStats :stats=\"planStats\" :showDetails=\"showStatsDetails\" />\n\n    <!-- Filters -->\n    <PlanFilters\n      v-model:searchQuery=\"searchQuery\"\n      v-model:statusFilter=\"statusFilter\"\n      v-model:yearFilter=\"yearFilter\"\n      v-model:periodFilter=\"periodFilter\"\n      v-model:viewMode=\"viewMode\"\n    />\n\n    <!-- Quick Actions Bar -->\n    <div class=\"bg-white rounded-xl border border-gray-200 p-4 shadow-sm\">\n      <div class=\"flex flex-wrap items-center justify-between gap-4\">\n        <div class=\"flex items-center gap-3\">\n          <h3 class=\"text-sm font-semibold text-gray-900\">Quick Actions</h3>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            @click=\"showBulkModal = true\"\n            :disabled=\"selectedPlans.length === 0\"\n          >\n            <template #prefix><LayersIcon class=\"h-4 w-4\" /></template>\n            Bulk Actions ({{ selectedPlans.length }})\n          </Button>\n        </div>\n        <div class=\"text-sm text-gray-600\">\n          Showing {{ filteredPlans.length }} of {{ annualPlans.length }} plans\n        </div>\n      </div>\n    </div>\n\n    <!-- Plans Display -->\n    <div class=\"bg-white rounded-xl border border-gray-200 shadow-sm\">\n      <div class=\"px-6 py-4 border-b border-gray-200\">\n        <div class=\"flex items-center justify-between\">\n          <h3 class=\"text-lg font-semibold text-gray-900\">Annual Audit Plans</h3>\n          <div class=\"flex items-center space-x-2\">\n            <Button\n              v-if=\"viewMode === 'table' && filteredPlans.length > 0\"\n              variant=\"outline\"\n              size=\"sm\"\n              @click=\"selectAllPlans\"\n            >\n              {{ selectedPlans.length === filteredPlans.length ? 'Deselect All' : 'Select All' }}\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Table View -->\n      <div v-if=\"viewMode === 'table'\" class=\"overflow-x-auto\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-6 py-3 text-left w-10\">\n                <input\n                  type=\"checkbox\"\n                  class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  :checked=\"selectedPlans.length === filteredPlans.length && filteredPlans.length > 0\"\n                  @change=\"selectAllPlans\"\n                />\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                  @click=\"sortBy('plan_id')\">\n                <div class=\"flex items-center space-x-1\">\n                  <span>Plan ID</span>\n                  <ArrowUpDownIcon class=\"h-3 w-3\" />\n                </div>\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                  @click=\"sortBy('plan_year')\">\n                <div class=\"flex items-center space-x-1\">\n                  <span>Year</span>\n                  <ArrowUpDownIcon class=\"h-3 w-3\" />\n                </div>\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Progress</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Utilization</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Planned Audits</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            <tr\n              v-for=\"plan in filteredPlans\"\n              :key=\"plan.name\"\n              class=\"hover:bg-gray-50 transition-colors\"\n              :class=\"{ 'bg-blue-50': selectedPlans.includes(plan.name) }\"\n            >\n              <td class=\"px-6 py-4\">\n                <input\n                  type=\"checkbox\"\n                  class=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  :checked=\"selectedPlans.includes(plan.name)\"\n                  @change=\"togglePlanSelection(plan.name)\"\n                />\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <div class=\"flex-shrink-0 h-10 w-10\">\n                    <div class=\"h-10 w-10 rounded-lg bg-blue-500 flex items-center justify-center text-white font-bold text-sm\">\n                      {{ plan.plan_year?.toString().slice(-2) || 'NA' }}\n                    </div>\n                  </div>\n                  <div class=\"ml-4\">\n                    <div class=\"text-sm font-semibold text-gray-900\">{{ plan.plan_id }}</div>\n                    <div class=\"text-sm text-gray-500\">{{ plan.plan_period }}</div>\n                  </div>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"text-sm font-medium text-gray-900\">{{ plan.plan_year }}</div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <Badge :variant=\"getStatusVariant(plan.status)\" size=\"sm\">\n                  {{ plan.status }}\n                </Badge>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <div class=\"w-20 bg-gray-200 rounded-full h-2 mr-2\">\n                    <div \n                      class=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                      :style=\"{ width: `${getPlanProgress(plan)}%` }\"\n                    ></div>\n                  </div>\n                  <span class=\"text-sm text-gray-600\">{{ getPlanProgress(plan) }}%</span>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <span class=\"text-sm font-medium text-gray-900\">{{ plan.utilization_percentage || 0 }}%</span>\n                  <div class=\"ml-2 w-12 bg-gray-200 rounded-full h-1.5\">\n                    <div \n                      class=\"h-1.5 rounded-full transition-all duration-300\"\n                      :class=\"getUtilizationColor(plan.utilization_percentage || 0)\"\n                      :style=\"{ width: `${Math.min(plan.utilization_percentage || 0, 100)}%` }\"\n                    ></div>\n                  </div>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center space-x-2\">\n                  <span class=\"text-sm font-medium text-gray-900\">{{ (plan.planned_audits || []).length }}</span>\n                  <span class=\"text-xs text-gray-500\">audits</span>\n                </div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                <div class=\"flex items-center space-x-1\">\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"viewPlan(plan)\" class=\"!p-1.5\">\n                    <EyeIcon class=\"h-4 w-4\" />\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"openEditForm(plan)\" class=\"!p-1.5\">\n                    <EditIcon class=\"h-4 w-4\" />\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"duplicatePlan(plan)\" class=\"!p-1.5\">\n                    <CopyIcon class=\"h-4 w-4\" />\n                  </Button>\n                  <Button variant=\"ghost\" size=\"sm\" @click=\"deletePlan(plan)\" class=\"!p-1.5 text-red-500 hover:text-red-700\">\n                    <TrashIcon class=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- Card View -->\n      <div v-else-if=\"viewMode === 'cards'\" class=\"p-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <div\n            v-for=\"plan in filteredPlans\"\n            :key=\"plan.name\"\n            class=\"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group\"\n            :class=\"{ 'ring-2 ring-blue-500 bg-blue-50': selectedPlans.includes(plan.name) }\"\n          >\n            <div class=\"flex items-start justify-between mb-4\">\n              <div class=\"flex items-center space-x-3\">\n                <div class=\"h-12 w-12 rounded-xl bg-blue-500 flex items-center justify-center text-white font-bold\">\n                  {{ plan.plan_year?.toString().slice(-2) || 'NA' }}\n                </div>\n                <div>\n                  <h3 class=\"text-lg font-semibold text-gray-900 group-hover:text-blue-900\">{{ plan.plan_id }}</h3>\n                  <p class=\"text-sm text-gray-600\">{{ plan.plan_period }} Plan</p>\n                </div>\n              </div>\n              <Badge :variant=\"getStatusVariant(plan.status)\" size=\"sm\">\n                {{ plan.status }}\n              </Badge>\n            </div>\n\n            <div class=\"space-y-3\">\n              <div>\n                <div class=\"flex justify-between items-center mb-1\">\n                  <span class=\"text-sm text-gray-600\">Progress</span>\n                  <span class=\"text-sm font-medium\">{{ getPlanProgress(plan) }}%</span>\n                </div>\n                <div class=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    class=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\n                    :style=\"{ width: `${getPlanProgress(plan)}%` }\"\n                  ></div>\n                </div>\n              </div>\n              <div class=\"flex justify-between items-center\">\n                <span class=\"text-sm text-gray-600\">Utilization</span>\n                <span class=\"text-sm font-medium\">{{ plan.utilization_percentage || 0 }}%</span>\n              </div>\n              <div class=\"flex justify-between items-center\">\n                <span class=\"text-sm text-gray-600\">Planned Audits</span>\n                <span class=\"text-sm font-medium\">{{ (plan.planned_audits || []).length }}</span>\n              </div>\n            </div>\n\n            <div class=\"flex items-center justify-between mt-6 pt-4 border-t border-gray-200\">\n              <div class=\"flex items-center space-x-1\">\n                <Button variant=\"ghost\" size=\"sm\" @click.stop=\"viewPlan(plan)\" class=\"!p-1.5\">\n                  <EyeIcon class=\"h-4 w-4\" />\n                </Button>\n                <Button variant=\"ghost\" size=\"sm\" @click.stop=\"openEditForm(plan)\" class=\"!p-1.5\">\n                  <EditIcon class=\"h-4 w-4\" />\n                </Button>\n                <Button variant=\"ghost\" size=\"sm\" @click.stop=\"duplicatePlan(plan)\" class=\"!p-1.5\">\n                  <CopyIcon class=\"h-4 w-4\" />\n                </Button>\n              </div>\n              <div class=\"text-xs text-gray-500\">\n                {{ formatDate(plan.modified) }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Timeline View -->\n      <div v-else-if=\"viewMode === 'timeline'\" class=\"p-6\">\n        <div class=\"relative\">\n          <div class=\"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200\"></div>\n          <div v-for=\"(plan, index) in filteredPlans\" :key=\"plan.name\" class=\"relative flex items-start mb-8 last:mb-0\">\n            <div class=\"flex-shrink-0 w-16 h-16 rounded-xl bg-blue-500 flex items-center justify-center text-white font-bold text-lg z-10\">\n              {{ plan.plan_year?.toString().slice(-2) || 'NA' }}\n            </div>\n            <div class=\"ml-6 flex-1 bg-white border border-gray-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow\">\n              <div class=\"flex items-start justify-between mb-3\">\n                <div>\n                  <h3 class=\"text-lg font-semibold text-gray-900\">{{ plan.plan_id }}</h3>\n                  <p class=\"text-sm text-gray-500\">{{ plan.plan_period }}  {{ plan.plan_year }}</p>\n                </div>\n                <Badge :variant=\"getStatusVariant(plan.status)\" size=\"sm\">{{ plan.status }}</Badge>\n              </div>\n              <div class=\"grid grid-cols-3 gap-4 mb-4\">\n                <div>\n                  <p class=\"text-xs text-gray-500\">Planned Audits</p>\n                  <p class=\"text-lg font-semibold text-gray-900\">{{ (plan.planned_audits || []).length }}</p>\n                </div>\n                <div>\n                  <p class=\"text-xs text-gray-500\">Utilization</p>\n                  <p class=\"text-lg font-semibold text-gray-900\">{{ plan.utilization_percentage || 0 }}%</p>\n                </div>\n                <div>\n                  <p class=\"text-xs text-gray-500\">Days Planned</p>\n                  <p class=\"text-lg font-semibold text-gray-900\">{{ plan.total_planned_days || 0 }}</p>\n                </div>\n              </div>\n              <div class=\"flex items-center justify-end space-x-2\">\n                <Button variant=\"outline\" size=\"sm\" @click=\"viewPlan(plan)\">View</Button>\n                <Button variant=\"outline\" size=\"sm\" @click=\"openEditForm(plan)\">Edit</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-if=\"filteredPlans.length === 0 && annualPlans.length === 0\" class=\"px-6 py-20 text-center\">\n        <div class=\"mx-auto h-20 w-20 rounded-2xl bg-blue-50 border-2 border-blue-100 flex items-center justify-center mb-8 shadow-sm\">\n          <CalendarIcon class=\"h-10 w-10 text-blue-500\" />\n        </div>\n        <div class=\"max-w-md mx-auto\">\n          <h3 class=\"text-2xl font-bold text-gray-900 mb-3\">Welcome to Annual Planning</h3>\n          <p class=\"text-gray-600 mb-8 leading-relaxed\">\n            Create comprehensive annual audit plans. Set up your audit universe, allocate resources, and track planned activities.\n          </p>\n          <div class=\"flex flex-col sm:flex-row justify-center gap-3\">\n            <Button variant=\"solid\" theme=\"blue\" size=\"lg\" @click=\"openCreateForm\">\n              <template #prefix><PlusIcon class=\"h-5 w-5\" /></template>\n              Create Your First Plan\n            </Button>\n            <Button variant=\"outline\" size=\"lg\" @click=\"showTemplateModal = true\">\n              <template #prefix><FileTextIcon class=\"h-5 w-5\" /></template>\n              Browse Templates\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <!-- No Results State -->\n      <div v-else-if=\"filteredPlans.length === 0\" class=\"px-6 py-12 text-center\">\n        <SearchIcon class=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No plans found</h3>\n        <p class=\"text-gray-600 mb-6\">\n          Try adjusting your search or filter criteria.\n        </p>\n        <Button variant=\"outline\" @click=\"clearFilters\">Clear Filters</Button>\n      </div>\n    </div>\n\n    <!-- Annual Plan Form Modal -->\n    <AnnualPlanForm\n      v-model=\"showFormModal\"\n      :plan=\"selectedPlan\"\n      @created=\"handleFormCreated\"\n      @updated=\"handleFormUpdated\"\n      @cancelled=\"handleFormClose\"\n    />\n\n    <!-- Template Modal -->\n    <Dialog v-model=\"showTemplateModal\" :options=\"{ title: 'Plan Templates', size: 'lg' }\">\n      <template #body>\n        <div class=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div\n            v-for=\"template in planTemplates\"\n            :key=\"template.id\"\n            class=\"border border-gray-200 rounded-lg p-4 hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all\"\n            @click=\"applyTemplate(template)\"\n          >\n            <div class=\"flex items-start space-x-3\">\n              <div class=\"p-2 bg-blue-100 rounded-lg\">\n                <component :is=\"template.icon\" class=\"h-5 w-5 text-blue-600\" />\n              </div>\n              <div>\n                <h4 class=\"font-semibold text-gray-900\">{{ template.name }}</h4>\n                <p class=\"text-sm text-gray-500 mt-1\">{{ template.description }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Dialog>\n\n    <!-- Bulk Actions Modal -->\n    <Dialog v-model=\"showBulkModal\" :options=\"{ title: 'Bulk Actions', size: 'md' }\">\n      <template #body>\n        <div class=\"p-6 space-y-4\">\n          <p class=\"text-gray-600\">{{ selectedPlans.length }} plan(s) selected</p>\n          <div class=\"grid grid-cols-2 gap-3\">\n            <Button variant=\"outline\" @click=\"bulkUpdateStatus\">\n              <template #prefix><RefreshCwIcon class=\"h-4 w-4\" /></template>\n              Update Status\n            </Button>\n            <Button variant=\"outline\" @click=\"bulkExport\">\n              <template #prefix><DownloadIcon class=\"h-4 w-4\" /></template>\n              Export Selected\n            </Button>\n            <Button variant=\"outline\" @click=\"bulkDuplicate\">\n              <template #prefix><CopyIcon class=\"h-4 w-4\" /></template>\n              Duplicate\n            </Button>\n            <Button variant=\"outline\" theme=\"red\" @click=\"bulkDelete\">\n              <template #prefix><TrashIcon class=\"h-4 w-4\" /></template>\n              Delete Selected\n            </Button>\n          </div>\n        </div>\n      </template>\n    </Dialog>\n\n    <!-- Capacity Planning Modal -->\n    <Dialog v-model=\"showCapacityModal\" :options=\"{ title: 'Capacity Planning', size: 'xl' }\">\n      <template #body>\n        <div class=\"p-6 grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div class=\"md:col-span-2\">\n            <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n              <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">Resource Allocation Overview</h3>\n              <div class=\"space-y-4\">\n                <div v-for=\"resource in capacityData\" :key=\"resource.name\" class=\"flex items-center\">\n                  <div class=\"w-32 text-sm text-gray-600\">{{ resource.name }}</div>\n                  <div class=\"flex-1 mx-3\">\n                    <div class=\"w-full bg-gray-100 rounded-full h-4\">\n                      <div\n                        class=\"h-4 rounded-full transition-all duration-300\"\n                        :class=\"resource.utilization > 90 ? 'bg-red-500' : resource.utilization > 75 ? 'bg-amber-500' : 'bg-green-500'\"\n                        :style=\"{ width: `${resource.utilization}%` }\"\n                      ></div>\n                    </div>\n                  </div>\n                  <div class=\"w-16 text-sm font-medium text-gray-900 text-right\">{{ resource.utilization }}%</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"space-y-4\">\n            <div class=\"bg-blue-50 rounded-lg p-6\">\n              <h3 class=\"text-lg font-semibold text-blue-900 mb-4\">Summary</h3>\n              <div class=\"space-y-3 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-blue-700\">Total Capacity</span>\n                  <span class=\"font-medium text-blue-900\">{{ totalCapacity }} days</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-blue-700\">Allocated</span>\n                  <span class=\"font-medium text-blue-900\">{{ allocatedCapacity }} days</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-blue-700\">Available</span>\n                  <span class=\"font-medium text-blue-900\">{{ totalCapacity - allocatedCapacity }} days</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"bg-amber-50 rounded-lg p-6\">\n              <h3 class=\"text-lg font-semibold text-amber-900 mb-4\">Insights</h3>\n              <div class=\"space-y-3 text-sm\">\n                <div class=\"flex justify-between\">\n                  <span class=\"text-amber-700\">Active Plans</span>\n                  <span class=\"font-medium text-amber-900\">{{ planStats.active }}</span>\n                </div>\n                <div class=\"flex justify-between\">\n                  <span class=\"text-amber-700\">Upcoming Audits</span>\n                  <span class=\"font-medium text-amber-900\">{{ planStats.upcoming }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Dialog>\n  </div>\n</template>\n\n<script setup>\nimport { Badge, Button, Dialog } from \"frappe-ui\"\nimport {\n\tArrowUpDownIcon,\n\tBarChart3Icon,\n\tBuildingIcon,\n\tCalendarIcon,\n\tClipboardListIcon,\n\tCopyIcon,\n\tDownloadIcon,\n\tEditIcon,\n\tEyeIcon,\n\tFileTextIcon,\n\tLayersIcon,\n\tPlusIcon,\n\tRefreshCwIcon,\n\tSearchIcon,\n\tShieldCheckIcon,\n\tTrashIcon,\n} from \"lucide-vue-next\"\nimport { computed, onMounted, ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\n\nimport AnnualPlanForm from \"@/components/annualplan/AnnualPlanFormNew.vue\"\nimport PlanFilters from \"@/components/annualplan/PlanFilters.vue\"\n// Import components\nimport PlanStats from \"@/components/annualplan/PlanStats.vue\"\n\n// Store\nimport { useAuditStore } from \"@/stores/audit\"\n\nconst router = useRouter()\nconst auditStore = useAuditStore()\n\n// State\nconst loading = ref(false)\nconst exporting = ref(false)\nconst showFormModal = ref(false)\nconst showTemplateModal = ref(false)\nconst showBulkModal = ref(false)\nconst showCapacityModal = ref(false)\nconst showStatsDetails = ref(true)\nconst selectedPlan = ref(null)\nconst formMode = ref(\"create\")\n\n// Filter state\nconst searchQuery = ref(\"\")\nconst statusFilter = ref(\"\")\nconst yearFilter = ref(\"\")\nconst periodFilter = ref(\"\")\nconst viewMode = ref(\"table\")\nconst selectedPlans = ref([])\nconst sortField = ref(\"plan_year\")\nconst sortDirection = ref(\"desc\")\n\n// Computed\nconst annualPlans = computed(() => auditStore.annualPlans || [])\n\nconst planStats = computed(() => {\n\tconst plans = annualPlans.value\n\tconst active = plans.filter((p) => p.status === \"Active\").length\n\tconst draft = plans.filter((p) => p.status === \"Draft\").length\n\tconst approved = plans.filter((p) => p.status === \"Approved\").length\n\tconst completed = plans.filter((p) => p.status === \"Completed\").length\n\n\tconst plannedAudits = plans.reduce(\n\t\t(sum, p) => sum + (p.planned_audits?.length || 0),\n\t\t0,\n\t)\n\tconst totalDays = plans.reduce(\n\t\t(sum, p) => sum + (p.total_planned_days || 0),\n\t\t0,\n\t)\n\n\tconst activePlans = plans.filter((p) =>\n\t\t[\"Active\", \"Approved\"].includes(p.status),\n\t)\n\tconst avgUtilization =\n\t\tactivePlans.length > 0\n\t\t\t? Math.round(\n\t\t\t\t\tactivePlans.reduce(\n\t\t\t\t\t\t(sum, p) => sum + (p.utilization_percentage || 0),\n\t\t\t\t\t\t0,\n\t\t\t\t\t) / activePlans.length,\n\t\t\t\t)\n\t\t\t: 0\n\n\t// Count upcoming audits (next 30 days)\n\tconst today = new Date()\n\tconst thirtyDaysLater = new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000)\n\tlet upcoming = 0\n\tplans.forEach((plan) => {\n\t\t;(plan.planned_audits || []).forEach((audit) => {\n\t\t\tif (audit.planned_start_date) {\n\t\t\t\tconst startDate = new Date(audit.planned_start_date)\n\t\t\t\tif (startDate >= today && startDate <= thirtyDaysLater) {\n\t\t\t\t\tupcoming++\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t})\n\n\treturn {\n\t\ttotal: plans.length,\n\t\tactive,\n\t\tdraft,\n\t\tapproved,\n\t\tcompleted,\n\t\tplannedAudits,\n\t\tavgUtilization,\n\t\tupcoming,\n\t\ttotalDays,\n\t\tbyQuarter: { q1: 0, q2: 0, q3: 0, q4: 0 },\n\t}\n})\n\nconst filteredPlans = computed(() => {\n\tlet filtered = [...annualPlans.value]\n\n\tif (searchQuery.value) {\n\t\tconst query = searchQuery.value.toLowerCase()\n\t\tfiltered = filtered.filter(\n\t\t\t(plan) =>\n\t\t\t\tplan.plan_id?.toLowerCase().includes(query) ||\n\t\t\t\tplan.status?.toLowerCase().includes(query) ||\n\t\t\t\tplan.plan_objectives?.toLowerCase().includes(query),\n\t\t)\n\t}\n\n\tif (statusFilter.value) {\n\t\tfiltered = filtered.filter((plan) => plan.status === statusFilter.value)\n\t}\n\n\tif (yearFilter.value) {\n\t\tfiltered = filtered.filter(\n\t\t\t(plan) => plan.plan_year?.toString() === yearFilter.value.toString(),\n\t\t)\n\t}\n\n\tif (periodFilter.value) {\n\t\tfiltered = filtered.filter(\n\t\t\t(plan) => plan.plan_period === periodFilter.value,\n\t\t)\n\t}\n\n\tfiltered.sort((a, b) => {\n\t\tconst aVal = a[sortField.value] || \"\"\n\t\tconst bVal = b[sortField.value] || \"\"\n\t\tif (sortDirection.value === \"asc\") {\n\t\t\treturn aVal > bVal ? 1 : -1\n\t\t}\n\t\treturn aVal < bVal ? 1 : -1\n\t})\n\n\treturn filtered\n})\n\n// Capacity data\nconst capacityData = computed(() => {\n\treturn [\n\t\t{ name: \"Financial Audits\", utilization: 78 },\n\t\t{ name: \"Operational Audits\", utilization: 65 },\n\t\t{ name: \"Compliance Audits\", utilization: 82 },\n\t\t{ name: \"IT Audits\", utilization: 45 },\n\t\t{ name: \"Special Reviews\", utilization: 30 },\n\t]\n})\n\nconst totalCapacity = computed(() => {\n\treturn (\n\t\tannualPlans.value.reduce(\n\t\t\t(sum, p) => sum + (p.total_available_days || 0),\n\t\t\t0,\n\t\t) || 1000\n\t)\n})\n\nconst allocatedCapacity = computed(() => {\n\treturn annualPlans.value.reduce(\n\t\t(sum, p) => sum + (p.total_planned_days || 0),\n\t\t0,\n\t)\n})\n\n// Plan templates\nconst planTemplates = [\n\t{\n\t\tid: \"standard\",\n\t\tname: \"Standard Annual Plan\",\n\t\tdescription: \"Comprehensive annual audit plan template\",\n\t\ticon: CalendarIcon,\n\t},\n\t{\n\t\tid: \"financial\",\n\t\tname: \"Financial Focus\",\n\t\tdescription: \"Emphasis on financial audits and controls\",\n\t\ticon: ClipboardListIcon,\n\t},\n\t{\n\t\tid: \"compliance\",\n\t\tname: \"Compliance-Driven\",\n\t\tdescription: \"Focus on regulatory compliance audits\",\n\t\ticon: ShieldCheckIcon,\n\t},\n\t{\n\t\tid: \"operational\",\n\t\tname: \"Operational Excellence\",\n\t\tdescription: \"Emphasis on operational efficiency audits\",\n\t\ticon: BuildingIcon,\n\t},\n]\n\n// Methods\nconst refreshData = async () => {\n\tloading.value = true\n\ttry {\n\t\tawait Promise.all([\n\t\t\tauditStore.fetchAnnualPlans(),\n\t\t\tauditStore.fetchAuditUniverse(),\n\t\t])\n\t} finally {\n\t\tloading.value = false\n\t}\n}\n\nconst openCreateForm = () => {\n\tselectedPlan.value = null\n\tformMode.value = \"create\"\n\tshowFormModal.value = true\n}\n\nconst openEditForm = async (plan) => {\n\tselectedPlan.value = plan\n\tformMode.value = \"edit\"\n\tshowFormModal.value = true\n}\n\nconst viewPlan = (plan) => {\n\trouter.push(`/audit-planning/annual-plan/${plan.name}`)\n}\n\nconst duplicatePlan = async (plan) => {\n\ttry {\n\t\tconst planDetails = await auditStore.fetchAnnualPlanDetails(plan.name)\n\t\tif (planDetails) {\n\t\t\tselectedPlan.value = {\n\t\t\t\t...planDetails,\n\t\t\t\tplan_id: `${planDetails.plan_id}_copy`,\n\t\t\t\tstatus: \"Draft\",\n\t\t\t\tname: null,\n\t\t\t}\n\t\t\tformMode.value = \"create\"\n\t\t\tshowFormModal.value = true\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error duplicating plan:\", error)\n\t}\n}\n\nconst deletePlan = async (plan) => {\n\tif (confirm(`Are you sure you want to delete ${plan.plan_id}?`)) {\n\t\ttry {\n\t\t\tawait auditStore.deleteAnnualPlan(plan.name)\n\t\t\tawait refreshData()\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error deleting plan:\", error)\n\t\t}\n\t}\n}\n\nconst handleFormCreated = async (formData) => {\n\ttry {\n\t\tawait auditStore.createAnnualPlan(formData)\n\t\tshowFormModal.value = false\n\t\tselectedPlan.value = null\n\t\tawait refreshData()\n\t} catch (error) {\n\t\tconsole.error(\"Error creating plan:\", error)\n\t}\n}\n\nconst handleFormUpdated = async (formData) => {\n\ttry {\n\t\tawait auditStore.updateAnnualPlan(formData.name, formData)\n\t\tshowFormModal.value = false\n\t\tselectedPlan.value = null\n\t\tawait refreshData()\n\t} catch (error) {\n\t\tconsole.error(\"Error updating plan:\", error)\n\t}\n}\n\nconst handleFormClose = () => {\n\tshowFormModal.value = false\n\tselectedPlan.value = null\n}\n\nconst applyTemplate = (template) => {\n\tselectedPlan.value = { template: template.id }\n\tformMode.value = \"create\"\n\tshowTemplateModal.value = false\n\tshowFormModal.value = true\n}\n\n// Utility methods\nconst getStatusVariant = (status) => {\n\tconst variants = {\n\t\tDraft: \"subtle\",\n\t\t\"Pending Approval\": \"warning\",\n\t\tApproved: \"success\",\n\t\tActive: \"info\",\n\t\tCompleted: \"success\",\n\t\tCancelled: \"subtle\",\n\t}\n\treturn variants[status] || \"subtle\"\n}\n\nconst getPlanProgress = (plan) => {\n\treturn Math.min(plan.utilization_percentage || 0, 100)\n}\n\nconst getUtilizationColor = (utilization) => {\n\tif (utilization >= 90) return \"bg-red-500\"\n\tif (utilization >= 75) return \"bg-amber-500\"\n\tif (utilization >= 50) return \"bg-green-500\"\n\treturn \"bg-blue-500\"\n}\n\nconst formatDate = (dateString) => {\n\tif (!dateString) return \"\"\n\treturn new Date(dateString).toLocaleDateString(\"en-US\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t})\n}\n\n// Selection methods\nconst togglePlanSelection = (planName) => {\n\tconst index = selectedPlans.value.indexOf(planName)\n\tif (index > -1) {\n\t\tselectedPlans.value.splice(index, 1)\n\t} else {\n\t\tselectedPlans.value.push(planName)\n\t}\n}\n\nconst selectAllPlans = () => {\n\tif (selectedPlans.value.length === filteredPlans.value.length) {\n\t\tselectedPlans.value = []\n\t} else {\n\t\tselectedPlans.value = filteredPlans.value.map((plan) => plan.name)\n\t}\n}\n\nconst sortBy = (field) => {\n\tif (sortField.value === field) {\n\t\tsortDirection.value = sortDirection.value === \"asc\" ? \"desc\" : \"asc\"\n\t} else {\n\t\tsortField.value = field\n\t\tsortDirection.value = \"asc\"\n\t}\n}\n\nconst clearFilters = () => {\n\tsearchQuery.value = \"\"\n\tstatusFilter.value = \"\"\n\tyearFilter.value = \"\"\n\tperiodFilter.value = \"\"\n\tselectedPlans.value = []\n}\n\n// Export & Bulk actions\nconst exportPlans = async () => {\n\texporting.value = true\n\ttry {\n\t\tconsole.log(\n\t\t\t\"Exporting plans...\",\n\t\t\tselectedPlans.value.length || filteredPlans.value.length,\n\t\t\t\"plans\",\n\t\t)\n\t} finally {\n\t\texporting.value = false\n\t}\n}\n\nconst bulkUpdateStatus = () => {\n\tconsole.log(\"Bulk update status for:\", selectedPlans.value)\n\tshowBulkModal.value = false\n}\n\nconst bulkExport = () => {\n\tconsole.log(\"Bulk export for:\", selectedPlans.value)\n\tshowBulkModal.value = false\n}\n\nconst bulkDuplicate = () => {\n\tconsole.log(\"Bulk duplicate for:\", selectedPlans.value)\n\tshowBulkModal.value = false\n}\n\nconst bulkDelete = () => {\n\tif (\n\t\tconfirm(\n\t\t\t`Are you sure you want to delete ${selectedPlans.value.length} plan(s)?`,\n\t\t)\n\t) {\n\t\tconsole.log(\"Bulk delete for:\", selectedPlans.value)\n\t\tshowBulkModal.value = false\n\t\tselectedPlans.value = []\n\t}\n}\n\n// Lifecycle\nonMounted(async () => {\n\tawait refreshData()\n})\n</script>\n"],"names":["props","__props","emit","__emit","isOpen","computed","val","isEditMode","_a","formSections","activeSection","ref","form","reactive","errors","isSaving","isSavingDraft","fiscalYearOptions","currentYear","statusOptions","periodOptions","resourceColumns","validateResource","data","errs","auditColumns","validateAudit","currentSectionIndex","s","utilizationPercentage","budgetUtilization","budgetUtilizationClass","budgetUtilizationBarClass","getSectionStatus","sectionId","getSectionStatusClass","status","completedSections","formProgress","validationChecks","isFormValid","formatNumber","num","goToPreviousSection","idx","goToNextSection","validateForm","prepareFormData","__spreadProps","__spreadValues","r","a","handleSubmit","__async","firstErrorSection","formData","error","saveAsDraft","handleCancel","resetForm","key","loadPlanData","plan","watch","newVal","_createBlock","_unref","Dialog","$event","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_cache","_hoisted_4","_openBlock","_createElementBlock","_Fragment","_renderList","section","index","CheckIcon","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_withDirectives","_hoisted_17","_createVNode","SectionHeader","_hoisted_18","_hoisted_19","_hoisted_20","_normalizeClass","_vModelText","_hoisted_21","year","_hoisted_22","_vModelSelect","_hoisted_23","_hoisted_24","opt","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","LinkField","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","InlineChildTable","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_normalizeStyle","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","check","XIcon","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_b","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","Button","ChevronLeftIcon","ChevronRightIcon","_hoisted_79","PlusIcon","_createTextVNode","yearOptions","years","i","hasActiveFilters","clearFilters","SearchIcon","$emit","_hoisted_5","FormControl","_hoisted_6","ListIcon","LayoutGridIcon","CalendarDaysIcon","FilterXIcon","activePercentage","statusDistribution","total","quarterlyData","q","CheckCircle2Icon","ClipboardListIcon","UsersIcon","CalendarIcon","ClockIcon","quarter","router","useRouter","auditStore","useAuditStore","loading","exporting","showFormModal","showTemplateModal","showBulkModal","showCapacityModal","showStatsDetails","selectedPlan","formMode","searchQuery","statusFilter","yearFilter","periodFilter","viewMode","selectedPlans","sortField","sortDirection","annualPlans","planStats","plans","active","p","draft","approved","completed","plannedAudits","sum","totalDays","activePlans","avgUtilization","today","thirtyDaysLater","upcoming","audit","startDate","filteredPlans","filtered","query","_c","b","aVal","bVal","capacityData","totalCapacity","allocatedCapacity","planTemplates","ShieldCheckIcon","BuildingIcon","refreshData","openCreateForm","openEditForm","viewPlan","duplicatePlan","planDetails","deletePlan","handleFormCreated","handleFormUpdated","handleFormClose","applyTemplate","template","getStatusVariant","getPlanProgress","getUtilizationColor","utilization","formatDate","dateString","togglePlanSelection","planName","selectAllPlans","sortBy","field","exportPlans","bulkUpdateStatus","bulkExport","bulkDuplicate","bulkDelete","onMounted","DownloadIcon","FileTextIcon","BarChart3Icon","RefreshCwIcon","PlanStats","PlanFilters","LayersIcon","ArrowUpDownIcon","Badge","EyeIcon","EditIcon","CopyIcon","TrashIcon","_withModifiers","_hoisted_80","_hoisted_81","AnnualPlanForm","_hoisted_82","_hoisted_84","_hoisted_85","_resolveDynamicComponent","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","resource","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113"],"mappings":"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"}